typeof JSON!="object"&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){"use strict";var n=e.History=e.History||{},r=e.jQuery;if(typeof n.Adapter!="undefined")throw new Error("History.js Adapter has already been loaded...");n.Adapter={bind:function(e,t,n){r(e).bind(t,n)},trigger:function(e,t,n){r(e).trigger(t,n)},extractEventData:function(e,n,r){var i=n&&n.originalEvent&&n.originalEvent[e]||r&&r[e]||t;return i},onDomLoad:function(e){r(e)}},typeof n.init!="undefined"&&n.init()}(window),function(e,t){"use strict";var n=e.document,r=e.setTimeout||r,i=e.clearTimeout||i,s=e.setInterval||s,o=e.History=e.History||{};if(typeof o.initHtml4!="undefined")throw new Error("History.js HTML4 Support has already been loaded...");o.initHtml4=function(){if(typeof o.initHtml4.initialized!="undefined")return!1;o.initHtml4.initialized=!0,o.enabled=!0,o.savedHashes=[],o.isLastHash=function(e){var t=o.getHashByIndex(),n;return n=e===t,n},o.isHashEqual=function(e,t){return e=encodeURIComponent(e).replace(/%25/g,"%"),t=encodeURIComponent(t).replace(/%25/g,"%"),e===t},o.saveHash=function(e){return o.isLastHash(e)?!1:(o.savedHashes.push(e),!0)},o.getHashByIndex=function(e){var t=null;return typeof e=="undefined"?t=o.savedHashes[o.savedHashes.length-1]:e<0?t=o.savedHashes[o.savedHashes.length+e]:t=o.savedHashes[e],t},o.discardedHashes={},o.discardedStates={},o.discardState=function(e,t,n){var r=o.getHashByState(e),i;return i={discardedState:e,backState:n,forwardState:t},o.discardedStates[r]=i,!0},o.discardHash=function(e,t,n){var r={discardedHash:e,backState:n,forwardState:t};return o.discardedHashes[e]=r,!0},o.discardedState=function(e){var t=o.getHashByState(e),n;return n=o.discardedStates[t]||!1,n},o.discardedHash=function(e){var t=o.discardedHashes[e]||!1;return t},o.recycleState=function(e){var t=o.getHashByState(e);return o.discardedState(e)&&delete o.discardedStates[t],!0},o.emulated.hashChange&&(o.hashChangeInit=function(){o.checkerFunction=null;var t="",r,i,u,a,f=Boolean(o.getHash());return o.isInternetExplorer()?(r="historyjs-iframe",i=n.createElement("iframe"),i.setAttribute("id",r),i.setAttribute("src","#"),i.style.display="none",n.body.appendChild(i),i.contentWindow.document.open(),i.contentWindow.document.close(),u="",a=!1,o.checkerFunction=function(){if(a)return!1;a=!0;var n=o.getHash(),r=o.getHash(i.contentWindow.document.location);return n!==t?(t=n,r!==n&&(u=r=n,i.contentWindow.document.open(),i.contentWindow.document.close(),i.contentWindow.document.location.hash=o.escapeHash(n)),o.Adapter.trigger(e,"hashchange")):r!==u&&(u=r,f&&r===""?o.back():o.setHash(r,!1)),a=!1,!0}):o.checkerFunction=function(){var n=o.getHash()||"";return n!==t&&(t=n,o.Adapter.trigger(e,"hashchange")),!0},o.intervalList.push(s(o.checkerFunction,o.options.hashChangeInterval)),!0},o.Adapter.onDomLoad(o.hashChangeInit)),o.emulated.pushState&&(o.onHashChange=function(t){var n=t&&t.newURL||o.getLocationHref(),r=o.getHashByUrl(n),i=null,s=null,u=null,a;return o.isLastHash(r)?(o.busy(!1),!1):(o.doubleCheckComplete(),o.saveHash(r),r&&o.isTraditionalAnchor(r)?(o.Adapter.trigger(e,"anchorchange"),o.busy(!1),!1):(i=o.extractState(o.getFullUrl(r||o.getLocationHref()),!0),o.isLastSavedState(i)?(o.busy(!1),!1):(s=o.getHashByState(i),a=o.discardedState(i),a?(o.getHashByIndex(-2)===o.getHashByState(a.forwardState)?o.back(!1):o.forward(!1),!1):(o.pushState(i.data,i.title,encodeURI(i.url),!1),!0))))},o.Adapter.bind(e,"hashchange",o.onHashChange),o.pushState=function(t,n,r,i){r=encodeURI(r).replace(/%25/g,"%");if(o.getHashByUrl(r))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(i!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.pushState,args:arguments,queue:i}),!1;o.busy(!0);var s=o.createStateObject(t,n,r),u=o.getHashByState(s),a=o.getState(!1),f=o.getHashByState(a),l=o.getHash(),c=o.expectedStateId==s.id;return o.storeState(s),o.expectedStateId=s.id,o.recycleState(s),o.setTitle(s),u===f?(o.busy(!1),!1):(o.saveState(s),c||o.Adapter.trigger(e,"statechange"),!o.isHashEqual(u,l)&&!o.isHashEqual(u,o.getShortUrl(o.getLocationHref()))&&o.setHash(u,!1),o.busy(!1),!0)},o.replaceState=function(t,n,r,i){r=encodeURI(r).replace(/%25/g,"%");if(o.getHashByUrl(r))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(i!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.replaceState,args:arguments,queue:i}),!1;o.busy(!0);var s=o.createStateObject(t,n,r),u=o.getHashByState(s),a=o.getState(!1),f=o.getHashByState(a),l=o.getStateByIndex(-2);return o.discardState(a,s,l),u===f?(o.storeState(s),o.expectedStateId=s.id,o.recycleState(s),o.setTitle(s),o.saveState(s),o.Adapter.trigger(e,"statechange"),o.busy(!1)):o.pushState(s.data,s.title,s.url,!1),!0}),o.emulated.pushState&&o.getHash()&&!o.emulated.hashChange&&o.Adapter.onDomLoad(function(){o.Adapter.trigger(e,"hashchange")})},typeof o.init!="undefined"&&o.init()}(window),function(e,t){"use strict";var n=e.console||t,r=e.document,i=e.navigator,s=e.sessionStorage||!1,o=e.setTimeout,u=e.clearTimeout,a=e.setInterval,f=e.clearInterval,l=e.JSON,c=e.alert,h=e.History=e.History||{},p=e.history;try{s.setItem("TEST","1"),s.removeItem("TEST")}catch(d){s=!1}l.stringify=l.stringify||l.encode,l.parse=l.parse||l.decode;if(typeof h.init!="undefined")throw new Error("History.js Core has already been loaded...");h.init=function(e){return typeof h.Adapter=="undefined"?!1:(typeof h.initCore!="undefined"&&h.initCore(),typeof h.initHtml4!="undefined"&&h.initHtml4(),!0)},h.initCore=function(d){if(typeof h.initCore.initialized!="undefined")return!1;h.initCore.initialized=!0,h.options=h.options||{},h.options.hashChangeInterval=h.options.hashChangeInterval||100,h.options.safariPollInterval=h.options.safariPollInterval||500,h.options.doubleCheckInterval=h.options.doubleCheckInterval||500,h.options.disableSuid=h.options.disableSuid||!1,h.options.storeInterval=h.options.storeInterval||1e3,h.options.busyDelay=h.options.busyDelay||250,h.options.debug=h.options.debug||!1,h.options.initialTitle=h.options.initialTitle||r.title,h.options.html4Mode=h.options.html4Mode||!1,h.options.delayInit=h.options.delayInit||!1,h.intervalList=[],h.clearAllIntervals=function(){var e,t=h.intervalList;if(typeof t!="undefined"&&t!==null){for(e=0;e<t.length;e++)f(t[e]);h.intervalList=null}},h.debug=function(){(h.options.debug||!1)&&h.log.apply(h,arguments)},h.log=function(){var e=typeof n!="undefined"&&typeof n.log!="undefined"&&typeof n.log.apply!="undefined",t=r.getElementById("log"),i,s,o,u,a;e?(u=Array.prototype.slice.call(arguments),i=u.shift(),typeof n.debug!="undefined"?n.debug.apply(n,[i,u]):n.log.apply(n,[i,u])):i="\n"+arguments[0]+"\n";for(s=1,o=arguments.length;s<o;++s){a=arguments[s];if(typeof a=="object"&&typeof l!="undefined")try{a=l.stringify(a)}catch(f){}i+="\n"+a+"\n"}return t?(t.value+=i+"\n-----\n",t.scrollTop=t.scrollHeight-t.clientHeight):e||c(i),!0},h.getInternetExplorerMajorVersion=function(){var e=h.getInternetExplorerMajorVersion.cached=typeof h.getInternetExplorerMajorVersion.cached!="undefined"?h.getInternetExplorerMajorVersion.cached:function(){var e=3,t=r.createElement("div"),n=t.getElementsByTagName("i");while((t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&n[0]);return e>4?e:!1}();return e},h.isInternetExplorer=function(){var e=h.isInternetExplorer.cached=typeof h.isInternetExplorer.cached!="undefined"?h.isInternetExplorer.cached:Boolean(h.getInternetExplorerMajorVersion());return e},h.options.html4Mode?h.emulated={pushState:!0,hashChange:!0}:h.emulated={pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(i.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(i.userAgent)),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in r)||h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8)},h.enabled=!h.emulated.pushState,h.bugs={setHash:Boolean(!h.emulated.pushState&&i.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),safariPoll:Boolean(!h.emulated.pushState&&i.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),ieDoubleCheck:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<7)},h.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},h.cloneObject=function(e){var t,n;return e?(t=l.stringify(e),n=l.parse(t)):n={},n},h.getRootUrl=function(){var e=r.location.protocol+"//"+(r.location.hostname||r.location.host);if(r.location.port||!1)e+=":"+r.location.port;return e+="/",e},h.getBaseHref=function(){var e=r.getElementsByTagName("base"),t=null,n="";return e.length===1&&(t=e[0],n=t.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},h.getBaseUrl=function(){var e=h.getBaseHref()||h.getBasePageUrl()||h.getRootUrl();return e},h.getPageUrl=function(){var e=h.getState(!1,!1),t=(e||{}).url||h.getLocationHref(),n;return n=t.replace(/\/+$/,"").replace(/[^\/]+$/,function(e,t,n){return/\./.test(e)?e:e+"/"}),n},h.getBasePageUrl=function(){var e=h.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e,t,n){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},h.getFullUrl=function(e,t){var n=e,r=e.substring(0,1);return t=typeof t=="undefined"?!0:t,/[a-z]+\:\/\//.test(e)||(r==="/"?n=h.getRootUrl()+e.replace(/^\/+/,""):r==="#"?n=h.getPageUrl().replace(/#.*/,"")+e:r==="?"?n=h.getPageUrl().replace(/[\?#].*/,"")+e:t?n=h.getBaseUrl()+e.replace(/^(\.\/)+/,""):n=h.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),n.replace(/\#$/,"")},h.getShortUrl=function(e){var t=e,n=h.getBaseUrl(),r=h.getRootUrl();return h.emulated.pushState&&(t=t.replace(n,"")),t=t.replace(r,"/"),h.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,""),t},h.getLocationHref=function(e){return e=e||r,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:e.URL.indexOf("#")==-1&&e.location.href.indexOf("#")!=-1?e.location.href:e.URL||e.location.href},h.store={},h.idToState=h.idToState||{},h.stateToId=h.stateToId||{},h.urlToId=h.urlToId||{},h.storedStates=h.storedStates||[],h.savedStates=h.savedStates||[],h.normalizeStore=function(){h.store.idToState=h.store.idToState||{},h.store.urlToId=h.store.urlToId||{},h.store.stateToId=h.store.stateToId||{}},h.getState=function(e,t){typeof e=="undefined"&&(e=!0),typeof t=="undefined"&&(t=!0);var n=h.getLastSavedState();return!n&&t&&(n=h.createStateObject()),e&&(n=h.cloneObject(n),n.url=n.cleanUrl||n.url),n},h.getIdByState=function(e){var t=h.extractId(e.url),n;if(!t){n=h.getStateString(e);if(typeof h.stateToId[n]!="undefined")t=h.stateToId[n];else if(typeof h.store.stateToId[n]!="undefined")t=h.store.stateToId[n];else{for(;;){t=(new Date).getTime()+String(Math.random()).replace(/\D/g,"");if(typeof h.idToState[t]=="undefined"&&typeof h.store.idToState[t]=="undefined")break}h.stateToId[n]=t,h.idToState[t]=e}}return t},h.normalizeState=function(e){var t,n;if(!e||typeof e!="object")e={};if(typeof e.normalized!="undefined")return e;if(!e.data||typeof e.data!="object")e.data={};return t={},t.normalized=!0,t.title=e.title||"",t.url=h.getFullUrl(e.url?e.url:h.getLocationHref()),t.hash=h.getShortUrl(t.url),t.data=h.cloneObject(e.data),t.id=h.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,n=!h.isEmptyObject(t.data),(t.title||n)&&h.options.disableSuid!==!0&&(t.hash=h.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=h.getFullUrl(t.hash),(h.emulated.pushState||h.bugs.safariPoll)&&h.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t},h.createStateObject=function(e,t,n){var r={data:e,title:t,url:n};return r=h.normalizeState(r),r},h.getStateById=function(e){e=String(e);var n=h.idToState[e]||h.store.idToState[e]||t;return n},h.getStateString=function(e){var t,n,r;return t=h.normalizeState(e),n={data:t.data,title:e.title,url:e.url},r=l.stringify(n),r},h.getStateId=function(e){var t,n;return t=h.normalizeState(e),n=t.id,n},h.getHashByState=function(e){var t,n;return t=h.normalizeState(e),n=t.hash,n},h.extractId=function(e){var t,n,r,i;return e.indexOf("#")!=-1?i=e.split("#")[0]:i=e,n=/(.*)\&_suid=([0-9]+)$/.exec(i),r=n?n[1]||e:e,t=n?String(n[2]||""):"",t||!1},h.isTraditionalAnchor=function(e){var t=!/[\/\?\.]/.test(e);return t},h.extractState=function(e,t){var n=null,r,i;return t=t||!1,r=h.extractId(e),r&&(n=h.getStateById(r)),n||(i=h.getFullUrl(e),r=h.getIdByUrl(i)||!1,r&&(n=h.getStateById(r)),!n&&t&&!h.isTraditionalAnchor(e)&&(n=h.createStateObject(null,null,i))),n},h.getIdByUrl=function(e){var n=h.urlToId[e]||h.store.urlToId[e]||t;return n},h.getLastSavedState=function(){return h.savedStates[h.savedStates.length-1]||t},h.getLastStoredState=function(){return h.storedStates[h.storedStates.length-1]||t},h.hasUrlDuplicate=function(e){var t=!1,n;return n=h.extractState(e.url),t=n&&n.id!==e.id,t},h.storeState=function(e){return h.urlToId[e.url]=e.id,h.storedStates.push(h.cloneObject(e)),e},h.isLastSavedState=function(e){var t=!1,n,r,i;return h.savedStates.length&&(n=e.id,r=h.getLastSavedState(),i=r.id,t=n===i),t},h.saveState=function(e){return h.isLastSavedState(e)?!1:(h.savedStates.push(h.cloneObject(e)),!0)},h.getStateByIndex=function(e){var t=null;return typeof e=="undefined"?t=h.savedStates[h.savedStates.length-1]:e<0?t=h.savedStates[h.savedStates.length+e]:t=h.savedStates[e],t},h.getCurrentIndex=function(){var e=null;return h.savedStates.length<1?e=0:e=h.savedStates.length-1,e},h.getHash=function(e){var t=h.getLocationHref(e),n;return n=h.getHashByUrl(t),n},h.unescapeHash=function(e){var t=h.normalizeHash(e);return t=decodeURIComponent(t),t},h.normalizeHash=function(e){var t=e.replace(/[^#]*#/,"").replace(/#.*/,"");return t},h.setHash=function(e,t){var n,i;return t!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.setHash,args:arguments,queue:t}),!1):(h.busy(!0),n=h.extractState(e,!0),n&&!h.emulated.pushState?h.pushState(n.data,n.title,n.url,!1):h.getHash()!==e&&(h.bugs.setHash?(i=h.getPageUrl(),h.pushState(null,null,i+"#"+e,!1)):r.location.hash=e),h)},h.escapeHash=function(t){var n=h.normalizeHash(t);return n=e.encodeURIComponent(n),h.bugs.hashEscape||(n=n.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),n},h.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=h.unescapeHash(t),t},h.setTitle=function(e){var t=e.title,n;t||(n=h.getStateByIndex(0),n&&n.url===e.url&&(t=n.title||h.options.initialTitle));try{r.getElementsByTagName("title")[0].innerHTML=t.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(i){}return r.title=t,h},h.queues=[],h.busy=function(e){typeof e!="undefined"?h.busy.flag=e:typeof h.busy.flag=="undefined"&&(h.busy.flag=!1);if(!h.busy.flag){u(h.busy.timeout);var t=function(){var e,n,r;if(h.busy.flag)return;for(e=h.queues.length-1;e>=0;--e){n=h.queues[e];if(n.length===0)continue;r=n.shift(),h.fireQueueItem(r),h.busy.timeout=o(t,h.options.busyDelay)}};h.busy.timeout=o(t,h.options.busyDelay)}return h.busy.flag},h.busy.flag=!1,h.fireQueueItem=function(e){return e.callback.apply(e.scope||h,e.args||[])},h.pushQueue=function(e){return h.queues[e.queue||0]=h.queues[e.queue||0]||[],h.queues[e.queue||0].push(e),h},h.queue=function(e,t){return typeof e=="function"&&(e={callback:e}),typeof t!="undefined"&&(e.queue=t),h.busy()?h.pushQueue(e):h.fireQueueItem(e),h},h.clearQueue=function(){return h.busy.flag=!1,h.queues=[],h},h.stateChanged=!1,h.doubleChecker=!1,h.doubleCheckComplete=function(){return h.stateChanged=!0,h.doubleCheckClear(),h},h.doubleCheckClear=function(){return h.doubleChecker&&(u(h.doubleChecker),h.doubleChecker=!1),h},h.doubleCheck=function(e){return h.stateChanged=!1,h.doubleCheckClear(),h.bugs.ieDoubleCheck&&(h.doubleChecker=o(function(){return h.doubleCheckClear(),h.stateChanged||e(),!0},h.options.doubleCheckInterval)),h},h.safariStatePoll=function(){var t=h.extractState(h.getLocationHref()),n;if(!h.isLastSavedState(t))return n=t,n||(n=h.createStateObject()),h.Adapter.trigger(e,"popstate"),h;return},h.back=function(e){return e!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.back,args:arguments,queue:e}),!1):(h.busy(!0),h.doubleCheck(function(){h.back(!1)}),p.go(-1),!0)},h.forward=function(e){return e!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.forward,args:arguments,queue:e}),!1):(h.busy(!0),h.doubleCheck(function(){h.forward(!1)}),p.go(1),!0)},h.go=function(e,t){var n;if(e>0)for(n=1;n<=e;++n)h.forward(t);else{if(!(e<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;n>=e;--n)h.back(t)}return h};if(h.emulated.pushState){var v=function(){};h.pushState=h.pushState||v,h.replaceState=h.replaceState||v}else h.onPopState=function(t,n){var r=!1,i=!1,s,o;return h.doubleCheckComplete(),s=h.getHash(),s?(o=h.extractState(s||h.getLocationHref(),!0),o?h.replaceState(o.data,o.title,o.url,!1):(h.Adapter.trigger(e,"anchorchange"),h.busy(!1)),h.expectedStateId=!1,!1):(r=h.Adapter.extractEventData("state",t,n)||!1,r?i=h.getStateById(r):h.expectedStateId?i=h.getStateById(h.expectedStateId):i=h.extractState(h.getLocationHref()),i||(i=h.createStateObject(null,null,h.getLocationHref())),h.expectedStateId=!1,h.isLastSavedState(i)?(h.busy(!1),!1):(h.storeState(i),h.saveState(i),h.setTitle(i),h.Adapter.trigger(e,"statechange"),h.busy(!1),!0))},h.Adapter.bind(e,"popstate",h.onPopState),h.pushState=function(t,n,r,i){if(h.getHashByUrl(r)&&h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(i!==!1&&h.busy())return h.pushQueue({scope:h,callback:h.pushState,args:arguments,queue:i}),!1;h.busy(!0);var s=h.createStateObject(t,n,r);return h.isLastSavedState(s)?h.busy(!1):(h.storeState(s),h.expectedStateId=s.id,p.pushState(s.id,s.title,s.url),h.Adapter.trigger(e,"popstate")),!0},h.replaceState=function(t,n,r,i){if(h.getHashByUrl(r)&&h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(i!==!1&&h.busy())return h.pushQueue({scope:h,callback:h.replaceState,args:arguments,queue:i}),!1;h.busy(!0);var s=h.createStateObject(t,n,r);return h.isLastSavedState(s)?h.busy(!1):(h.storeState(s),h.expectedStateId=s.id,p.replaceState(s.id,s.title,s.url),h.Adapter.trigger(e,"popstate")),!0};if(s){try{h.store=l.parse(s.getItem("History.store"))||{}}catch(m){h.store={}}h.normalizeStore()}else h.store={},h.normalizeStore();h.Adapter.bind(e,"unload",h.clearAllIntervals),h.saveState(h.storeState(h.extractState(h.getLocationHref(),!0))),s&&(h.onUnload=function(){var e,t,n;try{e=l.parse(s.getItem("History.store"))||{}}catch(r){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in h.idToState){if(!h.idToState.hasOwnProperty(t))continue;e.idToState[t]=h.idToState[t]}for(t in h.urlToId){if(!h.urlToId.hasOwnProperty(t))continue;e.urlToId[t]=h.urlToId[t]}for(t in h.stateToId){if(!h.stateToId.hasOwnProperty(t))continue;e.stateToId[t]=h.stateToId[t]}h.store=e,h.normalizeStore(),n=l.stringify(e);try{s.setItem("History.store",n)}catch(i){if(i.code!==DOMException.QUOTA_EXCEEDED_ERR)throw i;s.length&&(s.removeItem("History.store"),s.setItem("History.store",n))}},h.intervalList.push(a(h.onUnload,h.options.storeInterval)),h.Adapter.bind(e,"beforeunload",h.onUnload),h.Adapter.bind(e,"unload",h.onUnload));if(!h.emulated.pushState){h.bugs.safariPoll&&h.intervalList.push(a(h.safariStatePoll,h.options.safariPollInterval));if(i.vendor==="Apple Computer, Inc."||(i.appCodeName||"")==="Mozilla")h.Adapter.bind(e,"hashchange",function(){h.Adapter.trigger(e,"popstate")}),h.getHash()&&h.Adapter.onDomLoad(function(){h.Adapter.trigger(e,"hashchange")})}},(!h.options||!h.options.delayInit)&&h.init()}(window);
/**
*  Ajax Autocomplete for jQuery, version 1.4.11
*  (c) 2017 Tomas Kirda
*
*  Ajax Autocomplete for jQuery is freely distributable under the terms of an MIT-style license.
*  For details, see the web site: https://github.com/devbridge/jQuery-Autocomplete
*/
!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports&&"function"==typeof require?require("jquery"):jQuery)}(function(a){"use strict";function b(c,d){var e=this;e.element=c,e.el=a(c),e.suggestions=[],e.badQueries=[],e.selectedIndex=-1,e.currentValue=e.element.value,e.timeoutId=null,e.cachedResponse={},e.onChangeTimeout=null,e.onChange=null,e.isLocal=!1,e.suggestionsContainer=null,e.noSuggestionsContainer=null,e.options=a.extend(!0,{},b.defaults,d),e.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},e.hint=null,e.hintValue="",e.selection=null,e.initialize(),e.setOptions(d)}function c(a,b,c){return a.value.toLowerCase().indexOf(c)!==-1}function d(b){return"string"==typeof b?a.parseJSON(b):b}function e(a,b){if(!b)return a.value;var c="("+g.escapeRegExChars(b)+")";return a.value.replace(new RegExp(c,"gi"),"<strong>$1</strong>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")}function f(a,b){return'<div class="autocomplete-group">'+b+"</div>"}var g=function(){return{escapeRegExChars:function(a){return a.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},createNode:function(a){var b=document.createElement("div");return b.className=a,b.style.position="absolute",b.style.display="none",b}}}(),h={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40},i=a.noop;b.utils=g,a.Autocomplete=b,b.defaults={ajaxSettings:{},autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:e,formatGroup:f,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:i,onSearchComplete:i,onSearchError:i,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:c,paramName:"query",transformResult:d,showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1},b.prototype={initialize:function(){var c,d=this,e="."+d.classes.suggestion,f=d.classes.selected,g=d.options;d.element.setAttribute("autocomplete","off"),d.noSuggestionsContainer=a('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),d.suggestionsContainer=b.utils.createNode(g.containerClass),c=a(d.suggestionsContainer),c.appendTo(g.appendTo||"body"),"auto"!==g.width&&c.css("width",g.width),c.on("mouseover.autocomplete",e,function(){d.activate(a(this).data("index"))}),c.on("mouseout.autocomplete",function(){d.selectedIndex=-1,c.children("."+f).removeClass(f)}),c.on("click.autocomplete",e,function(){d.select(a(this).data("index"))}),c.on("click.autocomplete",function(){clearTimeout(d.blurTimeoutId)}),d.fixPositionCapture=function(){d.visible&&d.fixPosition()},a(window).on("resize.autocomplete",d.fixPositionCapture),d.el.on("keydown.autocomplete",function(a){d.onKeyPress(a)}),d.el.on("keyup.autocomplete",function(a){d.onKeyUp(a)}),d.el.on("blur.autocomplete",function(){d.onBlur()}),d.el.on("focus.autocomplete",function(){d.onFocus()}),d.el.on("change.autocomplete",function(a){d.onKeyUp(a)}),d.el.on("input.autocomplete",function(a){d.onKeyUp(a)})},onFocus:function(){var a=this;a.disabled||(a.fixPosition(),a.el.val().length>=a.options.minChars&&a.onValueChange())},onBlur:function(){var b=this,c=b.options,d=b.el.val(),e=b.getQuery(d);b.blurTimeoutId=setTimeout(function(){b.hide(),b.selection&&b.currentValue!==e&&(c.onInvalidateSelection||a.noop).call(b.element)},200)},abortAjax:function(){var a=this;a.currentRequest&&(a.currentRequest.abort(),a.currentRequest=null)},setOptions:function(b){var c=this,d=a.extend({},c.options,b);c.isLocal=Array.isArray(d.lookup),c.isLocal&&(d.lookup=c.verifySuggestionsFormat(d.lookup)),d.orientation=c.validateOrientation(d.orientation,"bottom"),a(c.suggestionsContainer).css({"max-height":d.maxHeight+"px",width:d.width+"px","z-index":d.zIndex}),this.options=d},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var a=this;a.disabled=!0,clearTimeout(a.onChangeTimeout),a.abortAjax()},enable:function(){this.disabled=!1},fixPosition:function(){var b=this,c=a(b.suggestionsContainer),d=c.parent().get(0);if(d===document.body||b.options.forceFixPosition){var e=b.options.orientation,f=c.outerHeight(),g=b.el.outerHeight(),h=b.el.offset(),i={top:h.top,left:h.left};if("auto"===e){var j=a(window).height(),k=a(window).scrollTop(),l=-k+h.top-f,m=k+j-(h.top+g+f);e=Math.max(l,m)===l?"top":"bottom"}if("top"===e?i.top+=-f:i.top+=g,d!==document.body){var n,o=c.css("opacity");b.visible||c.css("opacity",0).show(),n=c.offsetParent().offset(),i.top-=n.top,i.top+=d.scrollTop,i.left-=n.left,b.visible||c.css("opacity",o).hide()}"auto"===b.options.width&&(i.width=b.el.outerWidth()+"px"),c.css(i)}},isCursorAtEnd:function(){var a,b=this,c=b.el.val().length,d=b.element.selectionStart;return"number"==typeof d?d===c:!document.selection||(a=document.selection.createRange(),a.moveStart("character",-c),c===a.text.length)},onKeyPress:function(a){var b=this;if(!b.disabled&&!b.visible&&a.which===h.DOWN&&b.currentValue)return void b.suggest();if(!b.disabled&&b.visible){switch(a.which){case h.ESC:b.el.val(b.currentValue),b.hide();break;case h.RIGHT:if(b.hint&&b.options.onHint&&b.isCursorAtEnd()){b.selectHint();break}return;case h.TAB:if(b.hint&&b.options.onHint)return void b.selectHint();if(b.selectedIndex===-1)return void b.hide();if(b.select(b.selectedIndex),b.options.tabDisabled===!1)return;break;case h.RETURN:if(b.selectedIndex===-1)return void b.hide();b.select(b.selectedIndex);break;case h.UP:b.moveUp();break;case h.DOWN:b.moveDown();break;default:return}a.stopImmediatePropagation(),a.preventDefault()}},onKeyUp:function(a){var b=this;if(!b.disabled){switch(a.which){case h.UP:case h.DOWN:return}clearTimeout(b.onChangeTimeout),b.currentValue!==b.el.val()&&(b.findBestHint(),b.options.deferRequestBy>0?b.onChangeTimeout=setTimeout(function(){b.onValueChange()},b.options.deferRequestBy):b.onValueChange())}},onValueChange:function(){if(this.ignoreValueChange)return void(this.ignoreValueChange=!1);var b=this,c=b.options,d=b.el.val(),e=b.getQuery(d);return b.selection&&b.currentValue!==e&&(b.selection=null,(c.onInvalidateSelection||a.noop).call(b.element)),clearTimeout(b.onChangeTimeout),b.currentValue=d,b.selectedIndex=-1,c.triggerSelectOnValidInput&&b.isExactMatch(e)?void b.select(0):void(e.length<c.minChars?b.hide():b.getSuggestions(e))},isExactMatch:function(a){var b=this.suggestions;return 1===b.length&&b[0].value.toLowerCase()===a.toLowerCase()},getQuery:function(b){var c,d=this.options.delimiter;return d?(c=b.split(d),a.trim(c[c.length-1])):b},getSuggestionsLocal:function(b){var c,d=this,e=d.options,f=b.toLowerCase(),g=e.lookupFilter,h=parseInt(e.lookupLimit,10);return c={suggestions:a.grep(e.lookup,function(a){return g(a,b,f)})},h&&c.suggestions.length>h&&(c.suggestions=c.suggestions.slice(0,h)),c},getSuggestions:function(b){var c,d,e,f,g=this,h=g.options,i=h.serviceUrl;if(h.params[h.paramName]=b,h.onSearchStart.call(g.element,h.params)!==!1){if(d=h.ignoreParams?null:h.params,a.isFunction(h.lookup))return void h.lookup(b,function(a){g.suggestions=a.suggestions,g.suggest(),h.onSearchComplete.call(g.element,b,a.suggestions)});g.isLocal?c=g.getSuggestionsLocal(b):(a.isFunction(i)&&(i=i.call(g.element,b)),e=i+"?"+a.param(d||{}),c=g.cachedResponse[e]),c&&Array.isArray(c.suggestions)?(g.suggestions=c.suggestions,g.suggest(),h.onSearchComplete.call(g.element,b,c.suggestions)):g.isBadQuery(b)?h.onSearchComplete.call(g.element,b,[]):(g.abortAjax(),f={url:i,data:d,type:h.type,dataType:h.dataType},a.extend(f,h.ajaxSettings),g.currentRequest=a.ajax(f).done(function(a){var c;g.currentRequest=null,c=h.transformResult(a,b),g.processResponse(c,b,e),h.onSearchComplete.call(g.element,b,c.suggestions)}).fail(function(a,c,d){h.onSearchError.call(g.element,b,a,c,d)}))}},isBadQuery:function(a){if(!this.options.preventBadQueries)return!1;for(var b=this.badQueries,c=b.length;c--;)if(0===a.indexOf(b[c]))return!0;return!1},hide:function(){var b=this,c=a(b.suggestionsContainer);a.isFunction(b.options.onHide)&&b.visible&&b.options.onHide.call(b.element,c),b.visible=!1,b.selectedIndex=-1,clearTimeout(b.onChangeTimeout),a(b.suggestionsContainer).hide(),b.signalHint(null)},suggest:function(){if(!this.suggestions.length)return void(this.options.showNoSuggestionNotice?this.noSuggestions():this.hide());var b,c=this,d=c.options,e=d.groupBy,f=d.formatResult,g=c.getQuery(c.currentValue),h=c.classes.suggestion,i=c.classes.selected,j=a(c.suggestionsContainer),k=a(c.noSuggestionsContainer),l=d.beforeRender,m="",n=function(a,c){var f=a.data[e];return b===f?"":(b=f,d.formatGroup(a,b))};return d.triggerSelectOnValidInput&&c.isExactMatch(g)?void c.select(0):(a.each(c.suggestions,function(a,b){e&&(m+=n(b,g,a)),m+='<div class="'+h+'" data-index="'+a+'">'+f(b,g,a)+"</div>"}),this.adjustContainerWidth(),k.detach(),j.html(m),a.isFunction(l)&&l.call(c.element,j,c.suggestions),c.fixPosition(),j.show(),d.autoSelectFirst&&(c.selectedIndex=0,j.scrollTop(0),j.children("."+h).first().addClass(i)),c.visible=!0,void c.findBestHint())},noSuggestions:function(){var b=this,c=b.options.beforeRender,d=a(b.suggestionsContainer),e=a(b.noSuggestionsContainer);this.adjustContainerWidth(),e.detach(),d.empty(),d.append(e),a.isFunction(c)&&c.call(b.element,d,b.suggestions),b.fixPosition(),d.show(),b.visible=!0},adjustContainerWidth:function(){var b,c=this,d=c.options,e=a(c.suggestionsContainer);"auto"===d.width?(b=c.el.outerWidth(),e.css("width",b>0?b:300)):"flex"===d.width&&e.css("width","")},findBestHint:function(){var b=this,c=b.el.val().toLowerCase(),d=null;c&&(a.each(b.suggestions,function(a,b){var e=0===b.value.toLowerCase().indexOf(c);return e&&(d=b),!e}),b.signalHint(d))},signalHint:function(b){var c="",d=this;b&&(c=d.currentValue+b.value.substr(d.currentValue.length)),d.hintValue!==c&&(d.hintValue=c,d.hint=b,(this.options.onHint||a.noop)(c))},verifySuggestionsFormat:function(b){return b.length&&"string"==typeof b[0]?a.map(b,function(a){return{value:a,data:null}}):b},validateOrientation:function(b,c){return b=a.trim(b||"").toLowerCase(),a.inArray(b,["auto","bottom","top"])===-1&&(b=c),b},processResponse:function(a,b,c){var d=this,e=d.options;a.suggestions=d.verifySuggestionsFormat(a.suggestions),e.noCache||(d.cachedResponse[c]=a,e.preventBadQueries&&!a.suggestions.length&&d.badQueries.push(b)),b===d.getQuery(d.currentValue)&&(d.suggestions=a.suggestions,d.suggest())},activate:function(b){var c,d=this,e=d.classes.selected,f=a(d.suggestionsContainer),g=f.find("."+d.classes.suggestion);return f.find("."+e).removeClass(e),d.selectedIndex=b,d.selectedIndex!==-1&&g.length>d.selectedIndex?(c=g.get(d.selectedIndex),a(c).addClass(e),c):null},selectHint:function(){var b=this,c=a.inArray(b.hint,b.suggestions);b.select(c)},select:function(a){var b=this;b.hide(),b.onSelect(a)},moveUp:function(){var b=this;if(b.selectedIndex!==-1)return 0===b.selectedIndex?(a(b.suggestionsContainer).children("."+b.classes.suggestion).first().removeClass(b.classes.selected),b.selectedIndex=-1,b.ignoreValueChange=!1,b.el.val(b.currentValue),void b.findBestHint()):void b.adjustScroll(b.selectedIndex-1)},moveDown:function(){var a=this;a.selectedIndex!==a.suggestions.length-1&&a.adjustScroll(a.selectedIndex+1)},adjustScroll:function(b){var c=this,d=c.activate(b);if(d){var e,f,g,h=a(d).outerHeight();e=d.offsetTop,f=a(c.suggestionsContainer).scrollTop(),g=f+c.options.maxHeight-h,e<f?a(c.suggestionsContainer).scrollTop(e):e>g&&a(c.suggestionsContainer).scrollTop(e-c.options.maxHeight+h),c.options.preserveInput||(c.ignoreValueChange=!0,c.el.val(c.getValue(c.suggestions[b].value))),c.signalHint(null)}},onSelect:function(b){var c=this,d=c.options.onSelect,e=c.suggestions[b];c.currentValue=c.getValue(e.value),c.currentValue===c.el.val()||c.options.preserveInput||c.el.val(c.currentValue),c.signalHint(null),c.suggestions=[],c.selection=e,a.isFunction(d)&&d.call(c.element,e)},getValue:function(a){var b,c,d=this,e=d.options.delimiter;return e?(b=d.currentValue,c=b.split(e),1===c.length?a:b.substr(0,b.length-c[c.length-1].length)+a):a},dispose:function(){var b=this;b.el.off(".autocomplete").removeData("autocomplete"),a(window).off("resize.autocomplete",b.fixPositionCapture),a(b.suggestionsContainer).remove()}},a.fn.devbridgeAutocomplete=function(c,d){var e="autocomplete";return arguments.length?this.each(function(){var f=a(this),g=f.data(e);"string"==typeof c?g&&"function"==typeof g[c]&&g[c](d):(g&&g.dispose&&g.dispose(),g=new b(this,c),f.data(e,g))}):this.first().data(e)},a.fn.autocomplete||(a.fn.autocomplete=a.fn.devbridgeAutocomplete)});
;
!function(e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof exports)module.exports=e();else{var n=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=n,o}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var o=arguments[e];for(var t in o)n[t]=o[t]}return n}function n(o){function t(n,i,r){var c;if(arguments.length>1){if("number"==typeof(r=e({path:"/"},t.defaults,r)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*r.expires),r.expires=s}try{c=JSON.stringify(i),/^[\{\[]/.test(c)&&(i=c)}catch(e){}return i=encodeURIComponent(String(i)),i=i.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),n=n.replace(/[\(\)]/g,escape),document.cookie=[n,"=",i,r.expires&&"; expires="+r.expires.toUTCString(),r.path&&"; path="+r.path,r.domain&&"; domain="+r.domain,r.secure?"; secure":""].join("")}n||(c={});for(var a=document.cookie?document.cookie.split("; "):[],p=/(%[0-9A-Z]{2})+/g,d=0;d<a.length;d++){var f=a[d].split("="),l=f[0].replace(p,decodeURIComponent),u=f.slice(1).join("=");'"'===u.charAt(0)&&(u=u.slice(1,-1));try{if(u=o&&o(u,l)||u.replace(p,decodeURIComponent),this.json)try{u=JSON.parse(u)}catch(e){}if(n===l){c=u;break}n||(c[l]=u)}catch(e){}}return c}return t.get=t.set=t,t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(n,o){t(n,"",e(o,{expires:-1}))},t.withConverter=n,t}return n()});;
/* Chosen v1.8.3 | (c) 2011-2018 by Harvest | MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md */

(function(){var t,e,s,i,n=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function s(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},o={}.hasOwnProperty;(i=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,s,i,n,r,o;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),o=[],s=0,i=(r=t.childNodes).length;s<i;s++)n=r[s],o.push(this.add_option(n,e,t.disabled));return o},t.prototype.add_option=function(t,e,s){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,image:t.getAttribute("data-image")?t.getAttribute("data-image"):void 0,selected:t.selected,disabled:!0===s?s:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t}()).select_to_array=function(t){var e,s,n,r,o;for(r=new i,s=0,n=(o=t.childNodes).length;s<n;s++)e=o[s],r.add_node(e);return r.parsed},e=function(){function t(e,s){this.form_field=e,this.options=null!=s?s:{},this.label_click_handler=n(this.label_click_handler,this),t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){return this.click_test_action=function(t){return function(e){return t.test_active_click(e)}}(this),this.activate_action=function(t){return function(e){return t.activate_field(e)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||Infinity,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+t.group_label+"</b>"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){if(this.is_multiple){if(!this.active_field)return setTimeout(function(t){return function(){return t.container_mousedown()}}(this),50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(t){if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(t){return function(){return t.blur_test()}}(this),100)},t.prototype.label_click_handler=function(t){return this.is_multiple?this.container_mousedown(t):this.activate_field()},t.prototype.results_option_build=function(t){var e,s,i,n,r,o,h;for(e="",h=0,n=0,r=(o=this.results_data).length;n<r&&(s=o[n],i="",""!==(i=s.group?this.result_add_group(s):this.result_add_option(s))&&(h++,e+=i),(null!=t?t.first:void 0)&&(s.selected&&this.is_multiple?this.choice_build(s):s.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(s))),!(h>=this.max_shown_results));n++);return e},t.prototype.result_add_option=function(t){var e,s;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),s=document.createElement("li"),s.className=e.join(" "),s.style.cssText=t.style,t.image&&s.setAttribute("data-image",t.image),s.setAttribute("data-option-array-index",t.array_index),s.innerHTML=t.highlighted_html||t.html,t.title&&(s.title=t.title),this.outerHTML(s)):""},t.prototype.result_add_group=function(t){var e,s;return(t.search_match||t.group_match)&&t.active_options>0?((e=[]).push("group-result"),t.classes&&e.push(t.classes),s=document.createElement("li"),s.className=e.join(" "),s.innerHTML=t.highlighted_html||this.escape_html(t.label),t.title&&(s.title=t.title),this.outerHTML(s)):""},t.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},t.prototype.reset_single_select_options=function(){var t,e,s,i,n;for(n=[],t=0,e=(s=this.results_data).length;t<e;t++)(i=s[t]).selected?n.push(i.selected=!1):n.push(void 0);return n},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,s,i,n,r,o,h,l,c,_,a,u,d,p;for(this.no_results_clear(),c=0,t=(o=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=this.get_search_regex(t),s=0,i=(h=this.results_data).length;s<i;s++)(n=h[s]).search_match=!1,_=null,a=null,n.highlighted_html="",this.include_option_in_results(n)&&(n.group&&(n.group_match=!1,n.active_options=0),null!=n.group_array_index&&this.results_data[n.group_array_index]&&(0===(_=this.results_data[n.group_array_index]).active_options&&_.search_match&&(c+=1),_.active_options+=1),p=n.group?n.label:n.text,n.group&&!this.group_search||(a=this.search_string_match(p,l),n.search_match=null!=a,n.search_match&&!n.group&&(c+=1),n.search_match?(o.length&&(u=a.index,r=p.slice(0,u),e=p.slice(u,u+o.length),d=p.slice(u+o.length),n.highlighted_html=this.escape_html(r)+"<em>"+this.escape_html(e)+"</em>"+this.escape_html(d)),null!=_&&(_.group_match=!0)):null!=n.group_array_index&&this.results_data[n.group_array_index].search_match&&(n.search_match=!0)));return this.result_clear_highlight(),c<1&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e,s;return s=this.search_contains?t:"(^|\\s|\\b)"+t+"[^\\s]*",this.enable_split_word_search||this.search_contains||(s="^"+s),e=this.case_sensitive_search?"":"i",new RegExp(s,e)},t.prototype.search_string_match=function(t,e){var s;return s=e.exec(t),!this.search_contains&&(null!=s?s[1]:void 0)&&(s.index+=1),s},t.prototype.choices_count=function(){var t,e,s;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,t=0,e=(s=this.form_field.options).length;t<e;t++)s[t].selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){if(t.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},t.prototype.keydown_checker=function(t){var e,s;switch(s=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),8!==s&&this.pending_backstroke&&this.clear_backstroke(),s){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},t.prototype.keyup_checker=function(t){var e,s;switch(s=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),s){case 8:this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:t.preventDefault(),this.results_showing&&this.result_select(t);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},t.prototype.clipboard_event_checker=function(t){if(!this.is_disabled)return setTimeout(function(t){return function(){return t.results_search()}}(this),50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:((e=document.createElement("div")).appendChild(t),e.innerHTML)},t.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <input class="chosen-search-input" type="text" autocomplete="off" />\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},t.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},t.prototype.get_no_results_html=function(t){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(t)+"</span>\n</li>"},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),(t=jQuery).fn.extend({chosen:function(i){return e.browser_is_supported()?this.each(function(e){var n,r;r=(n=t(this)).data("chosen"),"destroy"!==i?r instanceof s||n.data("chosen",new s(this,i)):r instanceof s&&r.destroy()}):this}}),s=function(s){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,e),n.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},n.prototype.set_up_html=function(){var e,s;return(e=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),s={"class":e.join(" "),title:this.form_field.title},this.form_field.id.length&&(s.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",s),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},n.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},n.prototype.register_observers=function(){return this.container.on("touchstart.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on("touchend.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mousedown.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on("mouseup.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mouseenter.chosen",function(t){return function(e){t.mouse_enter(e)}}(this)),this.container.on("mouseleave.chosen",function(t){return function(e){t.mouse_leave(e)}}(this)),this.search_results.on("mouseup.chosen",function(t){return function(e){t.search_results_mouseup(e)}}(this)),this.search_results.on("mouseover.chosen",function(t){return function(e){t.search_results_mouseover(e)}}(this)),this.search_results.on("mouseout.chosen",function(t){return function(e){t.search_results_mouseout(e)}}(this)),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",function(t){return function(e){t.search_results_mousewheel(e)}}(this)),this.search_results.on("touchstart.chosen",function(t){return function(e){t.search_results_touchstart(e)}}(this)),this.search_results.on("touchmove.chosen",function(t){return function(e){t.search_results_touchmove(e)}}(this)),this.search_results.on("touchend.chosen",function(t){return function(e){t.search_results_touchend(e)}}(this)),this.form_field_jq.on("chosen:updated.chosen",function(t){return function(e){t.results_update_field(e)}}(this)),this.form_field_jq.on("chosen:activate.chosen",function(t){return function(e){t.activate_field(e)}}(this)),this.form_field_jq.on("chosen:open.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.form_field_jq.on("chosen:close.chosen",function(t){return function(e){t.close_field(e)}}(this)),this.search_field.on("blur.chosen",function(t){return function(e){t.input_blur(e)}}(this)),this.search_field.on("keyup.chosen",function(t){return function(e){t.keyup_checker(e)}}(this)),this.search_field.on("keydown.chosen",function(t){return function(e){t.keydown_checker(e)}}(this)),this.search_field.on("focus.chosen",function(t){return function(e){t.input_focus(e)}}(this)),this.search_field.on("cut.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.search_field.on("paste.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.is_multiple?this.search_choices.on("click.chosen",function(t){return function(e){t.choices_click(e)}}(this)):this.container.on("click.chosen",function(t){t.preventDefault()})},n.prototype.destroy=function(){return t(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.form_field_label.length>0&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},n.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},n.prototype.container_mousedown=function(e){var s;if(!this.is_disabled)return!e||"mousedown"!==(s=e.type)&&"touchstart"!==s||this.results_showing||e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},n.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},n.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},n.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},n.prototype.close_field=function(){return t(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},n.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(e){var s;return(s=t(e.target).closest(".chosen-container")).length&&this.container[0]===s[0]?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},n.prototype.result_do_highlight=function(t){var e,s,i,n,r;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),r=this.search_results.scrollTop(),n=i+r,s=this.result_highlight.position().top+this.search_results.scrollTop(),(e=s+this.result_highlight.outerHeight())>=n)return this.search_results.scrollTop(e-i>0?e-i:0);if(s<r)return this.search_results.scrollTop(s)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple||this.search_container.append(this.search_field),this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},n.prototype.update_results_content=function(t){return this.search_results.html(t)},n.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.is_multiple||(this.selected_item.prepend(this.search_field),this.search_field.focus()),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},n.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},n.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.on("click.chosen",this.label_click_handler)},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},n.prototype.search_results_mouseup=function(e){var s;if((s=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first()).length)return this.result_highlight=s,this.result_select(e),this.search_field.focus()},n.prototype.search_results_mouseover=function(e){var s;if(s=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())return this.result_do_highlight(s)},n.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result")||t(e.target).parents(".active-result").first())return this.result_clear_highlight()},n.prototype.choice_build=function(e){var s,i;return s=t("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?s.addClass("search-choice-disabled"):((i=t("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index})).on("click.chosen",function(t){return function(e){return t.choice_destroy_link_click(e)}}(this)),s.append(i)),this.search_container.before(s)},n.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},n.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.get_search_field_value().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},n.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},n.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},n.prototype.result_select=function(t){var e,s;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),s=this.results_data[e[0].getAttribute("data-option-array-index")],s.selected=!0,this.form_field.options[s.options_index].selected=!0,this.selected_option_count=null,this.search_field.val(""),this.is_multiple?this.choice_build(s):this.single_set_selected_text(this.choice_label(s)),this.is_multiple&&(!this.hide_results_on_select||t.metaKey||t.ctrlKey)?this.winnow_results():(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[s.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},n.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},n.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},n.prototype.get_search_field_value=function(){return this.search_field.val()},n.prototype.get_search_text=function(){return t.trim(this.get_search_field_value())},n.prototype.escape_html=function(e){return t("<div/>").text(e).html()},n.prototype.winnow_results_set_highlight=function(){var t,e;if(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),null!=(t=e.length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},n.prototype.no_results=function(t){var e;return e=this.get_no_results_html(t),this.search_results.append(e),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},n.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},n.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.search_field_scale=function(){var e,s,i,n,r,o,h;if(this.is_multiple){for(r={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},s=0,i=(o=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;s<i;s++)r[n=o[s]]=this.search_field.css(n);return(e=t("<div />").css(r)).text(this.get_search_field_value()),t("body").append(e),h=e.width()+25,e.remove(),this.container.is(":visible")&&(h=Math.min(this.container.outerWidth()-10,h)),this.search_field.width(h)}},n.prototype.trigger_form_field_change=function(t){return this.form_field_jq.trigger("input",t),this.form_field_jq.trigger("change",t)},n}()}).call(this);;
!function(t){var e={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0}};t.fn.bxSlider=function(n){if(0===this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(n)}),this;var s={},o=this,r=t(window).width(),a=t(window).height();if(!t(o).data("bxSlider")){var l=function(){t(o).data("bxSlider")||(s.settings=t.extend({},e,n),s.settings.slideWidth=parseInt(s.settings.slideWidth),s.children=o.children(s.settings.slideSelector),s.children.length<s.settings.minSlides&&(s.settings.minSlides=s.children.length),s.children.length<s.settings.maxSlides&&(s.settings.maxSlides=s.children.length),s.settings.randomStart&&(s.settings.startSlide=Math.floor(Math.random()*s.children.length)),s.active={index:s.settings.startSlide},s.carousel=s.settings.minSlides>1||s.settings.maxSlides>1,s.carousel&&(s.settings.preloadImages="all"),s.minThreshold=s.settings.minSlides*s.settings.slideWidth+(s.settings.minSlides-1)*s.settings.slideMargin,s.maxThreshold=s.settings.maxSlides*s.settings.slideWidth+(s.settings.maxSlides-1)*s.settings.slideMargin,s.working=!1,s.controls={},s.interval=null,s.animProp="vertical"===s.settings.mode?"top":"left",s.usingCSS=s.settings.useCSS&&"fade"!==s.settings.mode&&function(){for(var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],i=0;i<e.length;i++)if(void 0!==t.style[e[i]])return s.cssPrefix=e[i].replace("Perspective","").toLowerCase(),s.animProp="-"+s.cssPrefix+"-transform",!0;return!1}(),"vertical"===s.settings.mode&&(s.settings.maxSlides=s.settings.minSlides),o.data("origStyle",o.attr("style")),o.children(s.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),d())},d=function(){var e=s.children.eq(s.settings.startSlide);o.wrap('<div class="'+s.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),s.viewport=o.parent(),s.settings.ariaLive&&!s.settings.ticker&&s.viewport.attr("aria-live","polite"),s.loader=t('<div class="bx-loading" />'),s.viewport.prepend(s.loader),o.css({width:"horizontal"===s.settings.mode?1e3*s.children.length+215+"%":"auto",position:"relative"}),s.usingCSS&&s.settings.easing?o.css("-"+s.cssPrefix+"-transition-timing-function",s.settings.easing):s.settings.easing||(s.settings.easing="swing"),s.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),s.viewport.parent().css({maxWidth:u()}),s.children.css({float:"horizontal"===s.settings.mode?"left":"none",listStyle:"none",position:"relative"}),s.children.css("width",h()),"horizontal"===s.settings.mode&&s.settings.slideMargin>0&&s.children.css("marginRight",s.settings.slideMargin),"vertical"===s.settings.mode&&s.settings.slideMargin>0&&s.children.css("marginBottom",s.settings.slideMargin),"fade"===s.settings.mode&&(s.children.css({position:"absolute",zIndex:0,display:"none"}),s.children.eq(s.settings.startSlide).css({zIndex:s.settings.slideZIndex,display:"block"})),s.controls.el=t('<div class="bx-controls" />'),s.settings.captions&&P(),s.active.last=s.settings.startSlide===f()-1,s.settings.video&&o.fitVids(),("all"===s.settings.preloadImages||s.settings.ticker)&&(e=s.children),s.settings.ticker?s.settings.pager=!1:(s.settings.controls&&C(),s.settings.auto&&s.settings.autoControls&&T(),s.settings.pager&&w(),(s.settings.controls||s.settings.autoControls||s.settings.pager)&&s.viewport.after(s.controls.el)),c(e,g)},c=function(e,i){var n=e.find('img:not([src=""]), iframe').length,s=0;return 0===n?void i():void e.find('img:not([src=""]), iframe').each(function(){t(this).one("load error",function(){++s===n&&i()}).each(function(){this.complete&&t(this).trigger("load")})})},g=function(){if(s.settings.infiniteLoop&&"fade"!==s.settings.mode&&!s.settings.ticker){var e="vertical"===s.settings.mode?s.settings.minSlides:s.settings.maxSlides,i=s.children.slice(0,e).clone(!0).addClass("bx-clone"),n=s.children.slice(-e).clone(!0).addClass("bx-clone");s.settings.ariaHidden&&(i.attr("aria-hidden",!0),n.attr("aria-hidden",!0)),o.append(i).prepend(n)}s.loader.remove(),m(),"vertical"===s.settings.mode&&(s.settings.adaptiveHeight=!0),s.viewport.height(p()),o.redrawSlider(),s.settings.onSliderLoad.call(o,s.active.index),s.initialized=!0,s.settings.responsive&&t(window).bind("resize",Z),s.settings.auto&&s.settings.autoStart&&(f()>1||s.settings.autoSlideForOnePage)&&H(),s.settings.ticker&&W(),s.settings.pager&&I(s.settings.startSlide),s.settings.controls&&D(),s.settings.touchEnabled&&!s.settings.ticker&&N(),s.settings.keyboardEnabled&&!s.settings.ticker&&t(document).keydown(F)},p=function(){var e=0,n=t();if("vertical"===s.settings.mode||s.settings.adaptiveHeight)if(s.carousel){var o=1===s.settings.moveSlides?s.active.index:s.active.index*x();for(n=s.children.eq(o),i=1;i<=s.settings.maxSlides-1;i++)n=o+i>=s.children.length?n.add(s.children.eq(i-1)):n.add(s.children.eq(o+i))}else n=s.children.eq(s.active.index);else n=s.children;return"vertical"===s.settings.mode?(n.each(function(i){e+=t(this).outerHeight()}),s.settings.slideMargin>0&&(e+=s.settings.slideMargin*(s.settings.minSlides-1))):e=Math.max.apply(Math,n.map(function(){return t(this).outerHeight(!1)}).get()),"border-box"===s.viewport.css("box-sizing")?e+=parseFloat(s.viewport.css("padding-top"))+parseFloat(s.viewport.css("padding-bottom"))+parseFloat(s.viewport.css("border-top-width"))+parseFloat(s.viewport.css("border-bottom-width")):"padding-box"===s.viewport.css("box-sizing")&&(e+=parseFloat(s.viewport.css("padding-top"))+parseFloat(s.viewport.css("padding-bottom"))),e},u=function(){var t="100%";return s.settings.slideWidth>0&&(t="horizontal"===s.settings.mode?s.settings.maxSlides*s.settings.slideWidth+(s.settings.maxSlides-1)*s.settings.slideMargin:s.settings.slideWidth),t},h=function(){var t=s.settings.slideWidth,e=s.viewport.width();if(0===s.settings.slideWidth||s.settings.slideWidth>e&&!s.carousel||"vertical"===s.settings.mode)t=e;else if(s.settings.maxSlides>1&&"horizontal"===s.settings.mode){if(e>s.maxThreshold)return t;e<s.minThreshold?t=(e-s.settings.slideMargin*(s.settings.minSlides-1))/s.settings.minSlides:s.settings.shrinkItems&&(t=Math.floor((e+s.settings.slideMargin)/Math.ceil((e+s.settings.slideMargin)/(t+s.settings.slideMargin))-s.settings.slideMargin))}return t},v=function(){var t=1,e=null;return"horizontal"===s.settings.mode&&s.settings.slideWidth>0?s.viewport.width()<s.minThreshold?t=s.settings.minSlides:s.viewport.width()>s.maxThreshold?t=s.settings.maxSlides:(e=s.children.first().width()+s.settings.slideMargin,t=Math.floor((s.viewport.width()+s.settings.slideMargin)/e)):"vertical"===s.settings.mode&&(t=s.settings.minSlides),t},f=function(){var t=0,e=0,i=0;if(s.settings.moveSlides>0)if(s.settings.infiniteLoop)t=Math.ceil(s.children.length/x());else for(;e<s.children.length;)++t,e=i+v(),i+=s.settings.moveSlides<=v()?s.settings.moveSlides:v();else t=Math.ceil(s.children.length/v());return t},x=function(){return s.settings.moveSlides>0&&s.settings.moveSlides<=v()?s.settings.moveSlides:v()},m=function(){var t,e,i;s.children.length>s.settings.maxSlides&&s.active.last&&!s.settings.infiniteLoop?"horizontal"===s.settings.mode?(e=s.children.last(),t=e.position(),S(-(t.left-(s.viewport.width()-e.outerWidth())),"reset",0)):"vertical"===s.settings.mode&&(i=s.children.length-s.settings.minSlides,t=s.children.eq(i).position(),S(-t.top,"reset",0)):(t=s.children.eq(s.active.index*x()).position(),s.active.index===f()-1&&(s.active.last=!0),void 0!==t&&("horizontal"===s.settings.mode?S(-t.left,"reset",0):"vertical"===s.settings.mode&&S(-t.top,"reset",0)))},S=function(e,i,n,r){var a,l;s.usingCSS?(l="vertical"===s.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)",o.css("-"+s.cssPrefix+"-transition-duration",n/1e3+"s"),"slide"===i?(o.css(s.animProp,l),0!==n?o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){t(e.target).is(o)&&(o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),q())}):q()):"reset"===i?o.css(s.animProp,l):"ticker"===i&&(o.css("-"+s.cssPrefix+"-transition-timing-function","linear"),o.css(s.animProp,l),0!==n?o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){t(e.target).is(o)&&(o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),S(r.resetValue,"reset",0),L())}):(S(r.resetValue,"reset",0),L()))):(a={},a[s.animProp]=e,"slide"===i?o.animate(a,n,s.settings.easing,function(){q()}):"reset"===i?o.css(s.animProp,e):"ticker"===i&&o.animate(a,n,"linear",function(){S(r.resetValue,"reset",0),L()}))},b=function(){for(var e="",i="",n=f(),o=0;o<n;o++)i="",s.settings.buildPager&&t.isFunction(s.settings.buildPager)||s.settings.pagerCustom?(i=s.settings.buildPager(o),s.pagerEl.addClass("bx-custom-pager")):(i=o+1,s.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+o+'" class="bx-pager-link">'+i+"</a></div>";s.pagerEl.html(e)},w=function(){s.settings.pagerCustom?s.pagerEl=t(s.settings.pagerCustom):(s.pagerEl=t('<div class="bx-pager" />'),s.settings.pagerSelector?t(s.settings.pagerSelector).html(s.pagerEl):s.controls.el.addClass("bx-has-pager").append(s.pagerEl),b()),s.pagerEl.on("click touchend","a",z)},C=function(){s.controls.next=t('<a class="bx-next" href="">'+s.settings.nextText+"</a>"),s.controls.prev=t('<a class="bx-prev" href="">'+s.settings.prevText+"</a>"),s.controls.next.bind("click touchend",E),s.controls.prev.bind("click touchend",k),s.settings.nextSelector&&t(s.settings.nextSelector).append(s.controls.next),s.settings.prevSelector&&t(s.settings.prevSelector).append(s.controls.prev),s.settings.nextSelector||s.settings.prevSelector||(s.controls.directionEl=t('<div class="bx-controls-direction" />'),s.controls.directionEl.append(s.controls.prev).append(s.controls.next),s.controls.el.addClass("bx-has-controls-direction").append(s.controls.directionEl))},T=function(){s.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+s.settings.startText+"</a></div>"),s.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+s.settings.stopText+"</a></div>"),s.controls.autoEl=t('<div class="bx-controls-auto" />'),s.controls.autoEl.on("click",".bx-start",M),s.controls.autoEl.on("click",".bx-stop",y),s.settings.autoControlsCombine?s.controls.autoEl.append(s.controls.start):s.controls.autoEl.append(s.controls.start).append(s.controls.stop),s.settings.autoControlsSelector?t(s.settings.autoControlsSelector).html(s.controls.autoEl):s.controls.el.addClass("bx-has-controls-auto").append(s.controls.autoEl),A(s.settings.autoStart?"stop":"start")},P=function(){s.children.each(function(e){var i=t(this).find("img:first").attr("title");void 0!==i&&(""+i).length&&t(this).append('<div class="bx-caption"><span>'+i+"</span></div>")})},E=function(t){t.preventDefault(),s.controls.el.hasClass("disabled")||(s.settings.auto&&s.settings.stopAutoOnClick&&o.stopAuto(),o.goToNextSlide())},k=function(t){t.preventDefault(),s.controls.el.hasClass("disabled")||(s.settings.auto&&s.settings.stopAutoOnClick&&o.stopAuto(),o.goToPrevSlide())},M=function(t){o.startAuto(),t.preventDefault()},y=function(t){o.stopAuto(),t.preventDefault()},z=function(e){var i,n;e.preventDefault(),s.controls.el.hasClass("disabled")||(s.settings.auto&&s.settings.stopAutoOnClick&&o.stopAuto(),i=t(e.currentTarget),void 0!==i.attr("data-slide-index")&&(n=parseInt(i.attr("data-slide-index")),n!==s.active.index&&o.goToSlide(n)))},I=function(e){var i=s.children.length;return"short"===s.settings.pagerType?(s.settings.maxSlides>1&&(i=Math.ceil(s.children.length/s.settings.maxSlides)),void s.pagerEl.html(e+1+s.settings.pagerShortSeparator+i)):(s.pagerEl.find("a").removeClass("active"),void s.pagerEl.each(function(i,n){t(n).find("a").eq(e).addClass("active")}))},q=function(){if(s.settings.infiniteLoop){var t="";0===s.active.index?t=s.children.eq(0).position():s.active.index===f()-1&&s.carousel?t=s.children.eq((f()-1)*x()).position():s.active.index===s.children.length-1&&(t=s.children.eq(s.children.length-1).position()),t&&("horizontal"===s.settings.mode?S(-t.left,"reset",0):"vertical"===s.settings.mode&&S(-t.top,"reset",0))}s.working=!1,s.settings.onSlideAfter.call(o,s.children.eq(s.active.index),s.oldIndex,s.active.index)},A=function(t){s.settings.autoControlsCombine?s.controls.autoEl.html(s.controls[t]):(s.controls.autoEl.find("a").removeClass("active"),s.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},D=function(){1===f()?(s.controls.prev.addClass("disabled"),s.controls.next.addClass("disabled")):!s.settings.infiniteLoop&&s.settings.hideControlOnEnd&&(0===s.active.index?(s.controls.prev.addClass("disabled"),s.controls.next.removeClass("disabled")):s.active.index===f()-1?(s.controls.next.addClass("disabled"),s.controls.prev.removeClass("disabled")):(s.controls.prev.removeClass("disabled"),s.controls.next.removeClass("disabled")))},H=function(){if(s.settings.autoDelay>0){setTimeout(o.startAuto,s.settings.autoDelay)}else o.startAuto(),t(window).focus(function(){o.startAuto()}).blur(function(){o.stopAuto()});s.settings.autoHover&&o.hover(function(){s.interval&&(o.stopAuto(!0),s.autoPaused=!0)},function(){s.autoPaused&&(o.startAuto(!0),s.autoPaused=null)})},W=function(){var e,i,n,r,a,l,d,c,g=0;"next"===s.settings.autoDirection?o.append(s.children.clone().addClass("bx-clone")):(o.prepend(s.children.clone().addClass("bx-clone")),e=s.children.first().position(),g="horizontal"===s.settings.mode?-e.left:-e.top),S(g,"reset",0),s.settings.pager=!1,s.settings.controls=!1,s.settings.autoControls=!1,s.settings.tickerHover&&(s.usingCSS?(r="horizontal"===s.settings.mode?4:5,s.viewport.hover(function(){i=o.css("-"+s.cssPrefix+"-transform"),n=parseFloat(i.split(",")[r]),S(n,"reset",0)},function(){c=0,s.children.each(function(e){c+="horizontal"===s.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)}),a=s.settings.speed/c,l="horizontal"===s.settings.mode?"left":"top",d=a*(c-Math.abs(parseInt(n))),L(d)})):s.viewport.hover(function(){o.stop()},function(){c=0,s.children.each(function(e){c+="horizontal"===s.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)}),a=s.settings.speed/c,l="horizontal"===s.settings.mode?"left":"top",d=a*(c-Math.abs(parseInt(o.css(l)))),L(d)})),L()},L=function(t){var e,i,n,r=t?t:s.settings.speed,a={left:0,top:0},l={left:0,top:0};"next"===s.settings.autoDirection?a=o.find(".bx-clone").first().position():l=s.children.first().position(),e="horizontal"===s.settings.mode?-a.left:-a.top,i="horizontal"===s.settings.mode?-l.left:-l.top,n={resetValue:i},S(e,"ticker",r,n)},O=function(e){var i=t(window),n={top:i.scrollTop(),left:i.scrollLeft()},s=e.offset();return n.right=n.left+i.width(),n.bottom=n.top+i.height(),s.right=s.left+e.outerWidth(),s.bottom=s.top+e.outerHeight(),!(n.right<s.left||n.left>s.right||n.bottom<s.top||n.top>s.bottom)},F=function(t){var e=document.activeElement.tagName.toLowerCase(),i="input|textarea",n=new RegExp(e,["i"]),s=n.exec(i);if(null==s&&O(o)){if(39===t.keyCode)return E(t),!1;if(37===t.keyCode)return k(t),!1}},N=function(){s.touch={start:{x:0,y:0},end:{x:0,y:0}},s.viewport.bind("touchstart MSPointerDown pointerdown",X),s.viewport.on("click",".bxslider a",function(t){s.viewport.hasClass("click-disabled")&&(t.preventDefault(),s.viewport.removeClass("click-disabled"))})},X=function(t){if(s.controls.el.addClass("disabled"),s.working)t.preventDefault(),s.controls.el.removeClass("disabled");else{s.touch.originalPos=o.position();var e=t.originalEvent,i="undefined"!=typeof e.changedTouches?e.changedTouches:[e];s.touch.start.x=i[0].pageX,s.touch.start.y=i[0].pageY,s.viewport.get(0).setPointerCapture&&(s.pointerId=e.pointerId,s.viewport.get(0).setPointerCapture(s.pointerId)),s.viewport.bind("touchmove MSPointerMove pointermove",V),s.viewport.bind("touchend MSPointerUp pointerup",R),s.viewport.bind("MSPointerCancel pointercancel",Y)}},Y=function(t){S(s.touch.originalPos.left,"reset",0),s.controls.el.removeClass("disabled"),s.viewport.unbind("MSPointerCancel pointercancel",Y),s.viewport.unbind("touchmove MSPointerMove pointermove",V),s.viewport.unbind("touchend MSPointerUp pointerup",R),s.viewport.get(0).releasePointerCapture&&s.viewport.get(0).releasePointerCapture(s.pointerId)},V=function(t){var e=t.originalEvent,i="undefined"!=typeof e.changedTouches?e.changedTouches:[e],n=Math.abs(i[0].pageX-s.touch.start.x),o=Math.abs(i[0].pageY-s.touch.start.y),r=0,a=0;3*n>o&&s.settings.preventDefaultSwipeX?t.preventDefault():3*o>n&&s.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!==s.settings.mode&&s.settings.oneToOneTouch&&("horizontal"===s.settings.mode?(a=i[0].pageX-s.touch.start.x,r=s.touch.originalPos.left+a):(a=i[0].pageY-s.touch.start.y,r=s.touch.originalPos.top+a),S(r,"reset",0))},R=function(t){s.viewport.unbind("touchmove MSPointerMove pointermove",V),s.controls.el.removeClass("disabled");var e=t.originalEvent,i="undefined"!=typeof e.changedTouches?e.changedTouches:[e],n=0,r=0;s.touch.end.x=i[0].pageX,s.touch.end.y=i[0].pageY,"fade"===s.settings.mode?(r=Math.abs(s.touch.start.x-s.touch.end.x),r>=s.settings.swipeThreshold&&(s.touch.start.x>s.touch.end.x?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto())):("horizontal"===s.settings.mode?(r=s.touch.end.x-s.touch.start.x,n=s.touch.originalPos.left):(r=s.touch.end.y-s.touch.start.y,n=s.touch.originalPos.top),!s.settings.infiniteLoop&&(0===s.active.index&&r>0||s.active.last&&r<0)?S(n,"reset",200):Math.abs(r)>=s.settings.swipeThreshold?(r<0?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):S(n,"reset",200)),s.viewport.unbind("touchend MSPointerUp pointerup",R),s.viewport.get(0).releasePointerCapture&&s.viewport.get(0).releasePointerCapture(s.pointerId)},Z=function(e){if(s.initialized)if(s.working)window.setTimeout(Z,10);else{var i=t(window).width(),n=t(window).height();r===i&&a===n||(r=i,a=n,o.redrawSlider(),s.settings.onSliderResize.call(o,s.active.index))}},B=function(t){var e=v();s.settings.ariaHidden&&!s.settings.ticker&&(s.children.attr("aria-hidden","true"),s.children.slice(t,t+e).attr("aria-hidden","false"))},U=function(t){return t<0?s.settings.infiniteLoop?f()-1:s.active.index:t>=f()?s.settings.infiniteLoop?0:s.active.index:t};return o.goToSlide=function(e,i){var n,r,a,l,d=!0,c=0,g={left:0,top:0},u=null;if(s.oldIndex=s.active.index,s.active.index=U(e),!s.working&&s.active.index!==s.oldIndex){if(s.working=!0,d=s.settings.onSlideBefore.call(o,s.children.eq(s.active.index),s.oldIndex,s.active.index),"undefined"!=typeof d&&!d)return s.active.index=s.oldIndex,void(s.working=!1);"next"===i?s.settings.onSlideNext.call(o,s.children.eq(s.active.index),s.oldIndex,s.active.index)||(d=!1):"prev"===i&&(s.settings.onSlidePrev.call(o,s.children.eq(s.active.index),s.oldIndex,s.active.index)||(d=!1)),s.active.last=s.active.index>=f()-1,(s.settings.pager||s.settings.pagerCustom)&&I(s.active.index),s.settings.controls&&D(),"fade"===s.settings.mode?(s.settings.adaptiveHeight&&s.viewport.height()!==p()&&s.viewport.animate({height:p()},s.settings.adaptiveHeightSpeed),s.children.filter(":visible").fadeOut(s.settings.speed).css({zIndex:0}),s.children.eq(s.active.index).css("zIndex",s.settings.slideZIndex+1).fadeIn(s.settings.speed,function(){t(this).css("zIndex",s.settings.slideZIndex),q()})):(s.settings.adaptiveHeight&&s.viewport.height()!==p()&&s.viewport.animate({height:p()},s.settings.adaptiveHeightSpeed),!s.settings.infiniteLoop&&s.carousel&&s.active.last?"horizontal"===s.settings.mode?(u=s.children.eq(s.children.length-1),g=u.position(),c=s.viewport.width()-u.outerWidth()):(n=s.children.length-s.settings.minSlides,g=s.children.eq(n).position()):s.carousel&&s.active.last&&"prev"===i?(r=1===s.settings.moveSlides?s.settings.maxSlides-x():(f()-1)*x()-(s.children.length-s.settings.maxSlides),u=o.children(".bx-clone").eq(r),g=u.position()):"next"===i&&0===s.active.index?(g=o.find("> .bx-clone").eq(s.settings.maxSlides).position(),s.active.last=!1):e>=0&&(l=e*parseInt(x()),g=s.children.eq(l).position()),"undefined"!=typeof g?(a="horizontal"===s.settings.mode?-(g.left-c):-g.top,S(a,"slide",s.settings.speed)):s.working=!1),s.settings.ariaHidden&&B(s.active.index*x())}},o.goToNextSlide=function(){if(s.settings.infiniteLoop||!s.active.last){var t=parseInt(s.active.index)+1;o.goToSlide(t,"next")}},o.goToPrevSlide=function(){if(s.settings.infiniteLoop||0!==s.active.index){var t=parseInt(s.active.index)-1;o.goToSlide(t,"prev")}},o.startAuto=function(t){s.interval||(s.interval=setInterval(function(){"next"===s.settings.autoDirection?o.goToNextSlide():o.goToPrevSlide()},s.settings.pause),s.settings.autoControls&&t!==!0&&A("stop"))},o.stopAuto=function(t){s.interval&&(clearInterval(s.interval),s.interval=null,s.settings.autoControls&&t!==!0&&A("start"))},o.getCurrentSlide=function(){return s.active.index},o.getCurrentSlideElement=function(){return s.children.eq(s.active.index)},o.getSlideElement=function(t){return s.children.eq(t)},o.getSlideCount=function(){return s.children.length},o.isWorking=function(){return s.working},o.redrawSlider=function(){s.children.add(o.find(".bx-clone")).outerWidth(h()),s.viewport.css("height",p()),s.settings.ticker||m(),s.active.last&&(s.active.index=f()-1),s.active.index>=f()&&(s.active.last=!0),s.settings.pager&&!s.settings.pagerCustom&&(b(),I(s.active.index)),s.settings.ariaHidden&&B(s.active.index*x())},o.destroySlider=function(){s.initialized&&(s.initialized=!1,t(".bx-clone",this).remove(),s.children.each(function(){void 0!==t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!==t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),s.controls.el&&s.controls.el.remove(),s.controls.next&&s.controls.next.remove(),s.controls.prev&&s.controls.prev.remove(),s.pagerEl&&s.settings.controls&&!s.settings.pagerCustom&&s.pagerEl.remove(),t(".bx-caption",this).remove(),s.controls.autoEl&&s.controls.autoEl.remove(),clearInterval(s.interval),s.settings.responsive&&t(window).unbind("resize",Z),s.settings.keyboardEnabled&&t(document).unbind("keydown",F),t(this).removeData("bxSlider"))},o.reloadSlider=function(e){void 0!==e&&(n=e),o.destroySlider(),l(),t(o).data("bxSlider",this)},l(),t(o).data("bxSlider",this),this}}}(jQuery);;
!function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):"undefined"!=typeof exports?module.exports=i(require("jquery")):i(jQuery)}(function(i){"use strict";var e=window.Slick||{};(e=function(){var e=0;return function(t,o){var s,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:i(t),appendDots:i(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return i('<button type="button" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},i.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden="hidden",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=i(t),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,s=i(t).data("slick")||{},n.options=i.extend({},n.defaults,o,s),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,void 0!==document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=i.proxy(n.autoPlay,n),n.autoPlayClear=i.proxy(n.autoPlayClear,n),n.autoPlayIterator=i.proxy(n.autoPlayIterator,n),n.changeSlide=i.proxy(n.changeSlide,n),n.clickHandler=i.proxy(n.clickHandler,n),n.selectHandler=i.proxy(n.selectHandler,n),n.setPosition=i.proxy(n.setPosition,n),n.swipeHandler=i.proxy(n.swipeHandler,n),n.dragHandler=i.proxy(n.dragHandler,n),n.keyHandler=i.proxy(n.keyHandler,n),n.instanceUid=e++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,t,o){var s=this;if("boolean"==typeof t)o=t,t=null;else if(t<0||t>=s.slideCount)return!1;s.unload(),"number"==typeof t?0===t&&0===s.$slides.length?i(e).appendTo(s.$slideTrack):o?i(e).insertBefore(s.$slides.eq(t)):i(e).insertAfter(s.$slides.eq(t)):!0===o?i(e).prependTo(s.$slideTrack):i(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){i(t).attr("data-slick-index",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.animate({height:e},i.options.speed)}},e.prototype.animateSlide=function(e,t){var o={},s=this;s.animateHeight(),!0===s.options.rtl&&!1===s.options.vertical&&(e=-e),!1===s.transformsEnabled?!1===s.options.vertical?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):!1===s.cssTransitions?(!0===s.options.rtl&&(s.currentLeft=-s.currentLeft),i({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(i){i=Math.ceil(i),!1===s.options.vertical?(o[s.animType]="translate("+i+"px, 0px)",s.$slideTrack.css(o)):(o[s.animType]="translate(0px,"+i+"px)",s.$slideTrack.css(o))},complete:function(){t&&t.call()}})):(s.applyTransition(),e=Math.ceil(e),!1===s.options.vertical?o[s.animType]="translate3d("+e+"px, 0px, 0px)":o[s.animType]="translate3d(0px,"+e+"px, 0px)",s.$slideTrack.css(o),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},e.prototype.getNavTarget=function(){var e=this,t=e.options.asNavFor;return t&&null!==t&&(t=i(t).not(e.$slider)),t},e.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&"object"==typeof t&&t.each(function(){var t=i(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},e.prototype.applyTransition=function(i){var e=this,t={};!1===e.options.fade?t[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:t[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.autoPlay=function(){var i=this;i.autoPlayClear(),i.slideCount>i.options.slidesToShow&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var i=this,e=i.currentSlide+i.options.slidesToScroll;i.paused||i.interrupted||i.focussed||(!1===i.options.infinite&&(1===i.direction&&i.currentSlide+1===i.slideCount-1?i.direction=0:0===i.direction&&(e=i.currentSlide-i.options.slidesToScroll,i.currentSlide-1==0&&(i.direction=1))),i.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=i(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=i(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,t,o=this;if(!0===o.options.dots){for(o.$slider.addClass("slick-dotted"),t=i("<ul />").addClass(o.options.dotsClass),e=0;e<=o.getDotCount();e+=1)t.append(i("<li />").append(o.options.customPaging.call(this,o,e)));o.$dots=t.appendTo(o.options.appendDots),o.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){i(t).attr("data-slick-index",e).data("originalStyling",i(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?i('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),i("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var i,e,t,o,s,n,r,l=this;if(o=document.createDocumentFragment(),n=l.$slider.children(),l.options.rows>1){for(r=l.options.slidesPerRow*l.options.rows,s=Math.ceil(n.length/r),i=0;i<s;i++){var d=document.createElement("div");for(e=0;e<l.options.rows;e++){var a=document.createElement("div");for(t=0;t<l.options.slidesPerRow;t++){var c=i*r+(e*l.options.slidesPerRow+t);n.get(c)&&a.appendChild(n.get(c))}d.appendChild(a)}o.appendChild(d)}l.$slider.empty().append(o),l.$slider.children().children().children().css({width:100/l.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,t){var o,s,n,r=this,l=!1,d=r.$slider.width(),a=window.innerWidth||i(window).width();if("window"===r.respondTo?n=a:"slider"===r.respondTo?n=d:"min"===r.respondTo&&(n=Math.min(a,d)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){s=null;for(o in r.breakpoints)r.breakpoints.hasOwnProperty(o)&&(!1===r.originalSettings.mobileFirst?n<r.breakpoints[o]&&(s=r.breakpoints[o]):n>r.breakpoints[o]&&(s=r.breakpoints[o]));null!==s?null!==r.activeBreakpoint?(s!==r.activeBreakpoint||t)&&(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e),l=s),e||!1===l||r.$slider.trigger("breakpoint",[r,l])}},e.prototype.changeSlide=function(e,t){var o,s,n,r=this,l=i(e.currentTarget);switch(l.is("a")&&e.preventDefault(),l.is("li")||(l=l.closest("li")),n=r.slideCount%r.options.slidesToScroll!=0,o=n?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":s=0===o?r.options.slidesToScroll:r.options.slidesToShow-o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-s,!1,t);break;case"next":s=0===o?r.options.slidesToScroll:o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+s,!1,t);break;case"index":var d=0===e.data.index?0:e.data.index||l.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(d),!1,t),l.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(i){var e,t;if(e=this.getNavigableIndexes(),t=0,i>e[e.length-1])i=e[e.length-1];else for(var o in e){if(i<e[o]){i=t;break}t=e[o]}return i},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(i("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",i.proxy(e.interrupt,e,!0)).off("mouseleave.slick",i.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),i(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().off("click.slick",e.selectHandler),i(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),i(window).off("resize.slick.slick-"+e.instanceUid,e.resize),i("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),i(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var i,e=this;e.options.rows>1&&((i=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(i))},e.prototype.clickHandler=function(i){!1===this.shouldClick&&(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault())},e.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),i(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){i(this).attr("style",i(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},e.prototype.disableTransition=function(i){var e=this,t={};t[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.fadeSlide=function(i,e){var t=this;!1===t.cssTransitions?(t.$slides.eq(i).css({zIndex:t.options.zIndex}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:t.options.zIndex}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},e.prototype.fadeSlideOut=function(i){var e=this;!1===e.cssTransitions?e.$slides.eq(i).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(i),e.$slides.eq(i).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(i){var e=this;null!==i&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(t){t.stopImmediatePropagation();var o=i(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=o.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var i=this,e=0,t=0,o=0;if(!0===i.options.infinite)if(i.slideCount<=i.options.slidesToShow)++o;else for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else if(!0===i.options.centerMode)o=i.slideCount;else if(i.options.asNavFor)for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else o=1+Math.ceil((i.slideCount-i.options.slidesToShow)/i.options.slidesToScroll);return o-1},e.prototype.getLeft=function(i){var e,t,o,s,n=this,r=0;return n.slideOffset=0,t=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,s=-1,!0===n.options.vertical&&!0===n.options.centerMode&&(2===n.options.slidesToShow?s=-1.5:1===n.options.slidesToShow&&(s=-2)),r=t*n.options.slidesToShow*s),n.slideCount%n.options.slidesToScroll!=0&&i+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(i>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(i-n.slideCount))*n.slideWidth*-1,r=(n.options.slidesToShow-(i-n.slideCount))*t*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,r=n.slideCount%n.options.slidesToScroll*t*-1))):i+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(i+n.options.slidesToShow-n.slideCount)*n.slideWidth,r=(i+n.options.slidesToShow-n.slideCount)*t),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,r=0),!0===n.options.centerMode&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=!1===n.options.vertical?i*n.slideWidth*-1+n.slideOffset:i*t*-1+r,!0===n.options.variableWidth&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,!0===n.options.centerMode&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow+1),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,e+=(n.$list.width()-o.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(i){return this.options[i]},e.prototype.getNavigableIndexes=function(){var i,e=this,t=0,o=0,s=[];for(!1===e.options.infinite?i=e.slideCount:(t=-1*e.options.slidesToScroll,o=-1*e.options.slidesToScroll,i=2*e.slideCount);t<i;)s.push(t),t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,t,o=this;return t=!0===o.options.centerMode?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(s,n){if(n.offsetLeft-t+i(n).outerWidth()/2>-1*o.swipeLeft)return e=n,!1}),Math.abs(i(e).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(i,e){this.changeSlide({data:{message:"index",index:parseInt(i)}},e)},e.prototype.init=function(e){var t=this;i(t.$slider).hasClass("slick-initialized")||(i(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},e.prototype.initADA=function(){var e=this,t=Math.ceil(e.slideCount/e.options.slidesToShow),o=e.getNavigableIndexes().filter(function(i){return i>=0&&i<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(t){var s=o.indexOf(t);i(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+t,tabindex:-1}),-1!==s&&i(this).attr({"aria-describedby":"slick-slide-control"+e.instanceUid+s})}),e.$dots.attr("role","tablist").find("li").each(function(s){var n=o[s];i(this).attr({role:"presentation"}),i(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+s,"aria-controls":"slick-slide"+e.instanceUid+n,"aria-label":s+1+" of "+t,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var s=e.currentSlide,n=s+e.options.slidesToShow;s<n;s++)e.$slides.eq(s).attr("tabindex",0);e.activateADA()},e.prototype.initArrowEvents=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},i.changeSlide),i.$nextArrow.off("click.slick").on("click.slick",{message:"next"},i.changeSlide),!0===i.options.accessibility&&(i.$prevArrow.on("keydown.slick",i.keyHandler),i.$nextArrow.on("keydown.slick",i.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&(i("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&i("li",e.$dots).on("mouseenter.slick",i.proxy(e.interrupt,e,!0)).on("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",i.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),i(document).on(e.visibilityChange,i.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),i(window).on("orientationchange.slick.slick-"+e.instanceUid,i.proxy(e.orientationChange,e)),i(window).on("resize.slick.slick-"+e.instanceUid,i.proxy(e.resize,e)),i("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),i(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),i(e.setPosition)},e.prototype.initUI=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.show()},e.prototype.keyHandler=function(i){var e=this;i.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===i.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===i.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){function e(e){i("img[data-lazy]",e).each(function(){var e=i(this),t=i(this).attr("data-lazy"),o=i(this).attr("data-srcset"),s=i(this).attr("data-sizes")||n.$slider.attr("data-sizes"),r=document.createElement("img");r.onload=function(){e.animate({opacity:0},100,function(){o&&(e.attr("srcset",o),s&&e.attr("sizes",s)),e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),n.$slider.trigger("lazyLoaded",[n,e,t])})},r.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),n.$slider.trigger("lazyLoadError",[n,e,t])},r.src=t})}var t,o,s,n=this;if(!0===n.options.centerMode?!0===n.options.infinite?s=(o=n.currentSlide+(n.options.slidesToShow/2+1))+n.options.slidesToShow+2:(o=Math.max(0,n.currentSlide-(n.options.slidesToShow/2+1)),s=n.options.slidesToShow/2+1+2+n.currentSlide):(o=n.options.infinite?n.options.slidesToShow+n.currentSlide:n.currentSlide,s=Math.ceil(o+n.options.slidesToShow),!0===n.options.fade&&(o>0&&o--,s<=n.slideCount&&s++)),t=n.$slider.find(".slick-slide").slice(o,s),"anticipated"===n.options.lazyLoad)for(var r=o-1,l=s,d=n.$slider.find(".slick-slide"),a=0;a<n.options.slidesToScroll;a++)r<0&&(r=n.slideCount-1),t=(t=t.add(d.eq(r))).add(d.eq(l)),r--,l++;e(t),n.slideCount<=n.options.slidesToShow?e(n.$slider.find(".slick-slide")):n.currentSlide>=n.slideCount-n.options.slidesToShow?e(n.$slider.find(".slick-cloned").slice(0,n.options.slidesToShow)):0===n.currentSlide&&e(n.$slider.find(".slick-cloned").slice(-1*n.options.slidesToShow))},e.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$slider.removeClass("slick-loading"),i.initUI(),"progressive"===i.options.lazyLoad&&i.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var i=this;i.checkResponsive(),i.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var i=this;i.autoPlayClear(),i.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var i=this;i.autoPlay(),i.options.autoplay=!0,i.paused=!1,i.focussed=!1,i.interrupted=!1},e.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&(t.initADA(),t.options.focusOnChange&&i(t.$slides.get(t.currentSlide)).attr("tabindex",0).focus()))},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(i){i.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var t,o,s,n,r,l=this,d=i("img[data-lazy]",l.$slider);d.length?(t=d.first(),o=t.attr("data-lazy"),s=t.attr("data-srcset"),n=t.attr("data-sizes")||l.$slider.attr("data-sizes"),(r=document.createElement("img")).onload=function(){s&&(t.attr("srcset",s),n&&t.attr("sizes",n)),t.attr("src",o).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===l.options.adaptiveHeight&&l.setPosition(),l.$slider.trigger("lazyLoaded",[l,t,o]),l.progressiveLazyLoad()},r.onerror=function(){e<3?setTimeout(function(){l.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),l.$slider.trigger("lazyLoadError",[l,t,o]),l.progressiveLazyLoad())},r.src=o):l.$slider.trigger("allImagesLoaded",[l])},e.prototype.refresh=function(e){var t,o,s=this;o=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>o&&(s.currentSlide=o),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),t=s.currentSlide,s.destroy(!0),i.extend(s,s.initials,{currentSlide:t}),s.init(),e||s.changeSlide({data:{message:"index",index:t}},!1)},e.prototype.registerBreakpoints=function(){var e,t,o,s=this,n=s.options.responsive||null;if("array"===i.type(n)&&n.length){s.respondTo=s.options.respondTo||"window";for(e in n)if(o=s.breakpoints.length-1,n.hasOwnProperty(e)){for(t=n[e].breakpoint;o>=0;)s.breakpoints[o]&&s.breakpoints[o]===t&&s.breakpoints.splice(o,1),o--;s.breakpoints.push(t),s.breakpointSettings[t]=n[e].settings}s.breakpoints.sort(function(i,e){return s.options.mobileFirst?i-e:e-i})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;i(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=i(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(i,e,t){var o=this;if(i="boolean"==typeof i?!0===(e=i)?0:o.slideCount-1:!0===e?--i:i,o.slideCount<1||i<0||i>o.slideCount-1)return!1;o.unload(),!0===t?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(i).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,o.reinit()},e.prototype.setCSS=function(i){var e,t,o=this,s={};!0===o.options.rtl&&(i=-i),e="left"==o.positionProp?Math.ceil(i)+"px":"0px",t="top"==o.positionProp?Math.ceil(i)+"px":"0px",s[o.positionProp]=i,!1===o.transformsEnabled?o.$slideTrack.css(s):(s={},!1===o.cssTransitions?(s[o.animType]="translate("+e+", "+t+")",o.$slideTrack.css(s)):(s[o.animType]="translate3d("+e+", "+t+", 0px)",o.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var i=this;!1===i.options.vertical?!0===i.options.centerMode&&i.$list.css({padding:"0px "+i.options.centerPadding}):(i.$list.height(i.$slides.first().outerHeight(!0)*i.options.slidesToShow),!0===i.options.centerMode&&i.$list.css({padding:i.options.centerPadding+" 0px"})),i.listWidth=i.$list.width(),i.listHeight=i.$list.height(),!1===i.options.vertical&&!1===i.options.variableWidth?(i.slideWidth=Math.ceil(i.listWidth/i.options.slidesToShow),i.$slideTrack.width(Math.ceil(i.slideWidth*i.$slideTrack.children(".slick-slide").length))):!0===i.options.variableWidth?i.$slideTrack.width(5e3*i.slideCount):(i.slideWidth=Math.ceil(i.listWidth),i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0)*i.$slideTrack.children(".slick-slide").length)));var e=i.$slides.first().outerWidth(!0)-i.$slides.first().width();!1===i.options.variableWidth&&i.$slideTrack.children(".slick-slide").width(i.slideWidth-e)},e.prototype.setFade=function(){var e,t=this;t.$slides.each(function(o,s){e=t.slideWidth*o*-1,!0===t.options.rtl?i(s).css({position:"relative",right:e,top:0,zIndex:t.options.zIndex-2,opacity:0}):i(s).css({position:"relative",left:e,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,t,o,s,n,r=this,l=!1;if("object"===i.type(arguments[0])?(o=arguments[0],l=arguments[1],n="multiple"):"string"===i.type(arguments[0])&&(o=arguments[0],s=arguments[1],l=arguments[2],"responsive"===arguments[0]&&"array"===i.type(arguments[1])?n="responsive":void 0!==arguments[1]&&(n="single")),"single"===n)r.options[o]=s;else if("multiple"===n)i.each(o,function(i,e){r.options[i]=e});else if("responsive"===n)for(t in s)if("array"!==i.type(r.options.responsive))r.options.responsive=[s[t]];else{for(e=r.options.responsive.length-1;e>=0;)r.options.responsive[e].breakpoint===s[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(s[t])}l&&(r.unload(),r.reinit())},e.prototype.setPosition=function(){var i=this;i.setDimensions(),i.setHeight(),!1===i.options.fade?i.setCSS(i.getLeft(i.currentSlide)):i.setFade(),i.$slider.trigger("setPosition",[i])},e.prototype.setProps=function(){var i=this,e=document.body.style;i.positionProp=!0===i.options.vertical?"top":"left","top"===i.positionProp?i.$slider.addClass("slick-vertical"):i.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===i.options.useCSS&&(i.cssTransitions=!0),i.options.fade&&("number"==typeof i.options.zIndex?i.options.zIndex<3&&(i.options.zIndex=3):i.options.zIndex=i.defaults.zIndex),void 0!==e.OTransform&&(i.animType="OTransform",i.transformType="-o-transform",i.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.MozTransform&&(i.animType="MozTransform",i.transformType="-moz-transform",i.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(i.animType=!1)),void 0!==e.webkitTransform&&(i.animType="webkitTransform",i.transformType="-webkit-transform",i.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.msTransform&&(i.animType="msTransform",i.transformType="-ms-transform",i.transitionType="msTransition",void 0===e.msTransform&&(i.animType=!1)),void 0!==e.transform&&!1!==i.animType&&(i.animType="transform",i.transformType="transform",i.transitionType="transition"),i.transformsEnabled=i.options.useTransform&&null!==i.animType&&!1!==i.animType},e.prototype.setSlideClasses=function(i){var e,t,o,s,n=this;if(t=n.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),n.$slides.eq(i).addClass("slick-current"),!0===n.options.centerMode){var r=n.options.slidesToShow%2==0?1:0;e=Math.floor(n.options.slidesToShow/2),!0===n.options.infinite&&(i>=e&&i<=n.slideCount-1-e?n.$slides.slice(i-e+r,i+e+1).addClass("slick-active").attr("aria-hidden","false"):(o=n.options.slidesToShow+i,t.slice(o-e+1+r,o+e+2).addClass("slick-active").attr("aria-hidden","false")),0===i?t.eq(t.length-1-n.options.slidesToShow).addClass("slick-center"):i===n.slideCount-1&&t.eq(n.options.slidesToShow).addClass("slick-center")),n.$slides.eq(i).addClass("slick-center")}else i>=0&&i<=n.slideCount-n.options.slidesToShow?n.$slides.slice(i,i+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):t.length<=n.options.slidesToShow?t.addClass("slick-active").attr("aria-hidden","false"):(s=n.slideCount%n.options.slidesToShow,o=!0===n.options.infinite?n.options.slidesToShow+i:i,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-i<n.options.slidesToShow?t.slice(o-(n.options.slidesToShow-s),o+s).addClass("slick-active").attr("aria-hidden","false"):t.slice(o,o+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==n.options.lazyLoad&&"anticipated"!==n.options.lazyLoad||n.lazyLoad()},e.prototype.setupInfinite=function(){var e,t,o,s=this;if(!0===s.options.fade&&(s.options.centerMode=!1),!0===s.options.infinite&&!1===s.options.fade&&(t=null,s.slideCount>s.options.slidesToShow)){for(o=!0===s.options.centerMode?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-o;e-=1)t=e-1,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(e=0;e<o+s.slideCount;e+=1)t=e,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){i(this).attr("id","")})}},e.prototype.interrupt=function(i){var e=this;i||e.autoPlay(),e.interrupted=i},e.prototype.selectHandler=function(e){var t=this,o=i(e.target).is(".slick-slide")?i(e.target):i(e.target).parents(".slick-slide"),s=parseInt(o.attr("data-slick-index"));s||(s=0),t.slideCount<=t.options.slidesToShow?t.slideHandler(s,!1,!0):t.slideHandler(s)},e.prototype.slideHandler=function(i,e,t){var o,s,n,r,l,d=null,a=this;if(e=e||!1,!(!0===a.animating&&!0===a.options.waitForAnimate||!0===a.options.fade&&a.currentSlide===i))if(!1===e&&a.asNavFor(i),o=i,d=a.getLeft(o),r=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?r:a.swipeLeft,!1===a.options.infinite&&!1===a.options.centerMode&&(i<0||i>a.getDotCount()*a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else if(!1===a.options.infinite&&!0===a.options.centerMode&&(i<0||i>a.slideCount-a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else{if(a.options.autoplay&&clearInterval(a.autoPlayTimer),s=o<0?a.slideCount%a.options.slidesToScroll!=0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+o:o>=a.slideCount?a.slideCount%a.options.slidesToScroll!=0?0:o-a.slideCount:o,a.animating=!0,a.$slider.trigger("beforeChange",[a,a.currentSlide,s]),n=a.currentSlide,a.currentSlide=s,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(l=(l=a.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),!0===a.options.fade)return!0!==t?(a.fadeSlideOut(n),a.fadeSlide(s,function(){a.postSlide(s)})):a.postSlide(s),void a.animateHeight();!0!==t?a.animateSlide(d,function(){a.postSlide(s)}):a.postSlide(s)}},e.prototype.startLoad=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),(o=Math.round(180*t/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&o>=0?!1===s.options.rtl?"left":"right":o<=360&&o>=315?!1===s.options.rtl?"left":"right":o>=135&&o<=225?!1===s.options.rtl?"right":"left":!0===s.options.verticalSwiping?o>=35&&o<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(i){var e,t,o=this;if(o.dragging=!1,o.swiping=!1,o.scrolling)return o.scrolling=!1,!1;if(o.interrupted=!1,o.shouldClick=!(o.touchObject.swipeLength>10),void 0===o.touchObject.curX)return!1;if(!0===o.touchObject.edgeHit&&o.$slider.trigger("edge",[o,o.swipeDirection()]),o.touchObject.swipeLength>=o.touchObject.minSwipe){switch(t=o.swipeDirection()){case"left":case"down":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide+o.getSlideCount()):o.currentSlide+o.getSlideCount(),o.currentDirection=0;break;case"right":case"up":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide-o.getSlideCount()):o.currentSlide-o.getSlideCount(),o.currentDirection=1}"vertical"!=t&&(o.slideHandler(e),o.touchObject={},o.$slider.trigger("swipe",[o,t]))}else o.touchObject.startX!==o.touchObject.curX&&(o.slideHandler(o.currentSlide),o.touchObject={})},e.prototype.swipeHandler=function(i){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==i.type.indexOf("mouse")))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),i.data.action){case"start":e.swipeStart(i);break;case"move":e.swipeMove(i);break;case"end":e.swipeEnd(i)}},e.prototype.swipeMove=function(i){var e,t,o,s,n,r,l=this;return n=void 0!==i.originalEvent?i.originalEvent.touches:null,!(!l.dragging||l.scrolling||n&&1!==n.length)&&(e=l.getLeft(l.currentSlide),l.touchObject.curX=void 0!==n?n[0].pageX:i.clientX,l.touchObject.curY=void 0!==n?n[0].pageY:i.clientY,l.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(l.touchObject.curX-l.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(l.touchObject.curY-l.touchObject.startY,2))),!l.options.verticalSwiping&&!l.swiping&&r>4?(l.scrolling=!0,!1):(!0===l.options.verticalSwiping&&(l.touchObject.swipeLength=r),t=l.swipeDirection(),void 0!==i.originalEvent&&l.touchObject.swipeLength>4&&(l.swiping=!0,i.preventDefault()),s=(!1===l.options.rtl?1:-1)*(l.touchObject.curX>l.touchObject.startX?1:-1),!0===l.options.verticalSwiping&&(s=l.touchObject.curY>l.touchObject.startY?1:-1),o=l.touchObject.swipeLength,l.touchObject.edgeHit=!1,!1===l.options.infinite&&(0===l.currentSlide&&"right"===t||l.currentSlide>=l.getDotCount()&&"left"===t)&&(o=l.touchObject.swipeLength*l.options.edgeFriction,l.touchObject.edgeHit=!0),!1===l.options.vertical?l.swipeLeft=e+o*s:l.swipeLeft=e+o*(l.$list.height()/l.listWidth)*s,!0===l.options.verticalSwiping&&(l.swipeLeft=e+o*s),!0!==l.options.fade&&!1!==l.options.touchMove&&(!0===l.animating?(l.swipeLeft=null,!1):void l.setCSS(l.swipeLeft))))},e.prototype.swipeStart=function(i){var e,t=this;if(t.interrupted=!0,1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow)return t.touchObject={},!1;void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,t.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).detach(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},e.prototype.unload=function(){var e=this;i(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(i){var e=this;e.$slider.trigger("unslick",[e,i]),e.destroy()},e.prototype.updateArrows=function(){var i=this;Math.floor(i.options.slidesToShow/2),!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&!i.options.infinite&&(i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===i.currentSlide?(i.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-i.options.slidesToShow&&!1===i.options.centerMode?(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-1&&!0===i.options.centerMode&&(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find("li").removeClass("slick-active").end(),i.$dots.find("li").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var i=this;i.options.autoplay&&(document[i.hidden]?i.interrupted=!0:i.interrupted=!1)},i.fn.slick=function(){var i,t,o=this,s=arguments[0],n=Array.prototype.slice.call(arguments,1),r=o.length;for(i=0;i<r;i++)if("object"==typeof s||void 0===s?o[i].slick=new e(o[i],s):t=o[i].slick[s].apply(o[i].slick,n),void 0!==t)return t;return o}});
;
!function(e){e.viewportSize={},e.viewportSize.getHeight=function(){return t("Height")},e.viewportSize.getWidth=function(){return $("body").hasClass("scale50")?2*t("Width"):t("Width")};var t=function(t){var i,a,n,r=t.toLowerCase(),s=e.document,l=s.documentElement;return void 0===e["inner"+t]?i=l["client"+t]:e["inner"+t]!=l["client"+t]?(a=s.createElement("body"),a.id="vpw-test-b",a.style.cssText="overflow:scroll",n=s.createElement("div"),n.id="vpw-test-d",n.style.cssText="position:absolute;top:-1000px",n.innerHTML="<style>@media("+r+":"+l["client"+t]+"px){body#vpw-test-b div#vpw-test-d{"+r+":7px!important}}</style>",a.appendChild(n),l.insertBefore(a,s.head),i=7==n["offset"+t]?l["client"+t]:e["inner"+t],l.removeChild(a)):i=e["inner"+t],i}}(this),function(e){var t="waitForImages";e.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]},e.expr[":"].uncached=function(t){if(!e(t).is('img[src][src!=""]'))return!1;var i=new Image;return i.src=t.src,!i.complete},e.fn.waitForImages=function(){var i,a,n,r=0,s=0,l=e.Deferred();if(e.isPlainObject(arguments[0])?(n=arguments[0].waitForAll,a=arguments[0].each,i=arguments[0].finished):1===arguments.length&&"boolean"===e.type(arguments[0])?n=arguments[0]:(i=arguments[0],a=arguments[1],n=arguments[2]),i=i||e.noop,a=a||e.noop,n=!!n,!e.isFunction(i)||!e.isFunction(a))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var o=e(this),c=[],u=e.waitForImages.hasImageProperties||[],d=e.waitForImages.hasImageAttributes||[],h=/url\(\s*(['"]?)(.*?)\1\s*\)/g;n?o.find("*").addBack().each(function(){var t=e(this);t.is("img:uncached")&&c.push({src:t.attr("src"),element:t[0]}),e.each(u,function(e,i){var a,n=t.css(i);if(!n)return!0;for(;a=h.exec(n);)c.push({src:a[2],element:t[0]})}),e.each(d,function(i,a){var n,r=t.attr(a);return!r||(n=r.split(","),void e.each(n,function(i,a){a=e.trim(a).split(" ")[0],c.push({src:a,element:t[0]})}))})}):o.find("img:uncached").each(function(){c.push({src:this.src,element:this})}),r=c.length,s=0,0===r&&(i.call(o[0]),l.resolveWith(o[0])),e.each(c,function(n,c){var u=new Image,d="load."+t+" error."+t;e(u).one(d,function t(n){var u=[s,r,"load"==n.type];return s++,a.apply(c.element,u),l.notifyWith(c.element,u),e(this).off(d,t),s==r?(i.call(o[0]),l.resolveWith(o[0]),!1):void 0}),u.src=c.src})}),l.promise()}}(jQuery),function(e){function t(e){var t,i=e.originalEvent.changedTouches[0],a="";switch(e.type){case"touchmove":a="mousemove";break;case"touchend":a="mouseup";break;default:return}(t=document.createEvent("MouseEvent")).initMouseEvent(a,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(t),e.preventDefault()}e.rateit={aria:{resetLabel:"reset rating",ratingLabel:"rating"}},e.fn.rateit=function(i,a){var n,r=1,s={},l="init",o=function(e){return e.charAt(0).toUpperCase()+e.substr(1)};if(0==this.length)return this;if("object"==(n=e.type(i))||void 0===i||null==i)s=e.extend({},e.fn.rateit.defaults,i);else{if("string"==n&&"reset"!==i&&void 0===a)return this.data("rateit"+o(i));"string"==n&&(l="setvalue")}return this.each(function(){var n,c,u,d,h,f,p,m,v,g,x=e(this),b=function(e,t){if(null!=t){var i="aria-value"+("value"==e?"now":e),a=x.find(".rateit-range");void 0!=a.attr(i)&&a.attr(i,t)}return arguments[0]="rateit"+o(e),x.data.apply(x,arguments)};if("reset"==i){n=b("init");for(c in n)x.data(c,n[c]);b("backingfld")&&((d=e(b("backingfld"))).val(b("value")),d[0].min&&(d[0].min=b("min")),d[0].max&&(d[0].max=b("max")),d[0].step&&(d[0].step=b("step"))),x.trigger("reset")}if(x.hasClass("rateit")||x.addClass("rateit"),u="rtl"!=x.css("direction"),"setvalue"==l){if(!b("init"))throw"Can't set value before init";"readonly"!=i||1!=a||b("readonly")||(x.find(".rateit-range").unbind(),b("wired",!1)),"value"==i&&(a=null==a?b("min"):Math.max(b("min"),Math.min(b("max"),a))),b("backingfld")&&(d=e(b("backingfld")),"value"==i&&d.val(a),"min"==i&&d[0].min&&(d[0].min=a),"max"==i&&d[0].max&&(d[0].max=a),"step"==i&&d[0].step&&(d[0].step=a)),b(i,a)}b("init")||(b("min",b("min")||s.min),b("max",b("max")||s.max),b("step",b("step")||s.step),b("readonly",void 0!==b("readonly")?b("readonly"):s.readonly),b("resetable",void 0!==b("resetable")?b("resetable"):s.resetable),b("backingfld",b("backingfld")||s.backingfld),b("starwidth",b("starwidth")||s.starwidth),b("starheight",b("starheight")||s.starheight),b("value",Math.max(b("min"),Math.min(b("max"),b("value")||s.value||s.min))),b("ispreset",void 0!==b("ispreset")?b("ispreset"):s.ispreset),b("backingfld")&&(d=e(b("backingfld")),b("value",d.hide().val()),(d.attr("disabled")||d.attr("readonly"))&&b("readonly",!0),"INPUT"==d[0].nodeName&&("range"==d[0].type||"text"==d[0].type)&&(b("min",parseInt(d.attr("min"))||b("min")),b("max",parseInt(d.attr("max"))||b("max")),b("step",parseInt(d.attr("step"))||b("step"))),"SELECT"==d[0].nodeName&&d[0].options.length>1&&(b("min",Number(d[0].options[0].value)),b("max",Number(d[0].options[d[0].length-1].value)),b("step",Number(d[0].options[1].value)-Number(d[0].options[0].value)))),h="DIV"==x[0].nodeName?"div":"span",r++,f='<button id="rateit-reset-{{index}}" data-role="none" class="rateit-reset" aria-label="'+e.rateit.aria.resetLabel+'" aria-controls="rateit-range-{{index}}"></button><{{element}} id="rateit-range-{{index}}" class="rateit-range" tabindex="0" role="slider" aria-label="'+e.rateit.aria.ratingLabel+'" aria-owns="rateit-reset-{{index}}" aria-valuemin="'+b("min")+'" aria-valuemax="'+b("max")+'" aria-valuenow="'+b("value")+'"><{{element}} class="rateit-selected" style="height:'+b("starheight")+'px"></{{element}}><{{element}} class="rateit-hover" style="height:'+b("starheight")+'px"></{{element}}></{{element}}>',x.append(f.replace(/{{index}}/gi,r).replace(/{{element}}/gi,h)),u||(x.find(".rateit-reset").css("float","right"),x.find(".rateit-selected").addClass("rateit-selected-rtl"),x.find(".rateit-hover").addClass("rateit-hover-rtl")),b("init",JSON.parse(JSON.stringify(x.data())))),x.find(".rateit-selected, .rateit-hover").height(b("starheight")),(p=x.find(".rateit-range")).width(b("starwidth")*(b("max")-b("min"))).height(b("starheight")),m="rateit-preset"+(u?"":"-rtl"),b("ispreset")?x.find(".rateit-selected").addClass(m):x.find(".rateit-selected").removeClass(m),null!=b("value")&&(v=(b("value")-b("min"))*b("starwidth"),x.find(".rateit-selected").width(v)),!0!==(g=x.find(".rateit-reset")).data("wired")&&g.bind("click",function(e){e.preventDefault(),g.blur(),x.rateit("value",null),x.trigger("reset")}).data("wired",!0);var y=function(t,i){var a=(i.changedTouches?i.changedTouches[0].pageX:i.pageX)-e(t).offset().left;return u||(a=p.width()-a),a>p.width()&&(a=p.width()),a<0&&(a=0),v=Math.ceil(a/b("starwidth")*(1/b("step")))},w=function(e){var t,i=e*b("starwidth")*b("step"),a=p.find(".rateit-hover");a.data("width")!=i&&(p.find(".rateit-selected").hide(),a.width(i).show().data("width",i),t=[e*b("step")+b("min")],x.trigger("hover",t).trigger("over",t))},T=function(t){b("value",t),b("backingfld")&&e(b("backingfld")).val(t),b("ispreset")&&(p.find(".rateit-selected").removeClass(m),b("ispreset",!1)),p.find(".rateit-hover").hide(),p.find(".rateit-selected").width(t*b("starwidth")-b("min")*b("starwidth")).show(),x.trigger("hover",[null]).trigger("over",[null]).trigger("rated",[t])};b("readonly")?g.hide():(b("resetable")||g.hide(),b("wired")||(p.bind("touchmove touchend",t),p.mousemove(function(e){var t=y(this,e);w(t)}),p.mouseleave(function(){p.find(".rateit-hover").hide().width(0).data("width",""),x.trigger("hover",[null]).trigger("over",[null]),p.find(".rateit-selected").show()}),p.mouseup(function(e){var t=y(this,e)*b("step")+b("min");T(t)}),p.keyup(function(e){(38==e.which||e.which==(u?39:37))&&T(Math.min(b("value")+b("step"),b("max"))),(40==e.which||e.which==(u?37:39))&&T(Math.max(b("value")-b("step"),b("min")))}),b("wired",!0)),b("resetable")&&g.show()),p.attr("aria-readonly",b("readonly"))})},e.fn.rateit.defaults={min:0,max:5,step:.5,starwidth:16,starheight:16,readonly:!1,resetable:!0,ispreset:!1},e(function(){e("div.rateit, span.rateit").rateit()})}(jQuery),function(e){e.fn.styleFileInput=function(t){return t=e.extend({},e.styleFileInput.defaults,t),e(this).each(function(i){var a,n,r,s,l,o,c,i,u,d,h,f=document,p=e(this),m=!!window.opera,v=!!window.ActiveXObject,g=t.namespace;p.attr("id")||p.attr("id",Math.random().toString().replace(".","-")),p.data("styleFileInput.options",t),s=e(f.createElement(t.containerTagName)).attr({id:g+"-"+p.attr("id"),class:t.containerClassName}).insertAfter(p),e(f.createElement("span")).appendTo(s).append(p),e(f.createElement("input")).attr(t.buttonAttributes).attr("type","button").appendTo(s),h=e(f.createElement(t.textTagName)).attr(t.textAttributes).appendTo(s),t.textAttributes.text&&h.text(t.textAttributes.text),t.addClearLink&&e(f.createElement("a")).attr("href","#").appendTo(s).hide(),p.bind("change."+g+" mouseover."+g+" mouseout."+g,function(r){if(p=e(this),s=p.closest("[id]:not(:input)"),n=e("a",s),h=e(">:nth-child(3)",s),a=e("[type=button]",s),c=e("[type=file]",s).val(),l=p[0].files,t=p.data("styleFileInput.options"),"change"===r.type&&p.val().length){if(n.show(),a.addClass(t.buttonActiveClassName),h.html(""),l){for(c=[],i=0,d=l.length;i<d;++i)h.is("input, textarea")?c.push(l[i].name?l[i].name:l[i].fileName):(e(t.textFileListHtml.replace(/%s/g,l[i].name?l[i].name:l[i].fileName)).addClass(l[i].type?l[i].type.replace(/\//g,"-"):"").appendTo(h),n.text(i?t.clearLinkText[1]:t.clearLinkText[0]));c.length&&(n.text(1===c.length?t.clearLinkText[0]:t.clearLinkText[1]),c=c.toString().replace(/,/g,", "))}else c.indexOf("\\")>-1&&(n.text(t.clearLinkText[0]),c=c.substring(c.lastIndexOf("\\")+1));try{h.val(c),h.text(c)}catch(e){}}else"change"!==r.type&&a.toggleClass(t.buttonHoverClassName)}),e(">:nth-child(3), a",s).bind("click."+g+" change."+g+" keyup."+g+" focus."+g,function(i){if(p=e(this),s=p.closest("[id]:not(:input)"),o=e("[type=file]",s),h=e(">:nth-child(3)",s),a=e("[type=button]",s),r=o.clone(!0),u=p.is("a"),t=o.data("styleFileInput.options"),"focus"!==i.type||u||p.val()===t.textAttributes.value){if(u&&"click"===i.type||!u&&!p.val().length)return e("a",s).hide(),a.removeClass(t.buttonActiveClassName),h.text(t.textAttributes.text),h.val(t.textAttributes.value),m&&r.attr("type","text").val("").attr("type","file"),m||v?r.replaceAll(o):o.val(""),!u&&null}else setTimeout(function(){h.select()},1)})})},e.styleFileInput={defaults:{namespace:"stylefileinput",containerTagName:"span",containerClassName:"stylefileinput-container",addClearLink:!1,clearLinkText:["Remove file","Remove files"],buttonHoverClassName:"hover",buttonActiveClassName:"active",buttonAttributes:{class:"stylefileinput-button",value:"Browse…"},textTagName:"input",textAttributes:{class:"stylefileinput-text",type:"text"},textFileListHtml:"<em>%s, <em>"}}}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(t){return!t.nodeName||-1!==e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])}function i(t){return e.isFunction(t)||e.isPlainObject(t)?t:{top:t,left:t}}var a=e.scrollTo=function(t,i,a){return e(window).scrollTo(t,i,a)};return a.defaults={axis:"xy",duration:0,limit:!0},e.fn.scrollTo=function(n,r,s){"object"==typeof r&&(s=r,r=0),"function"==typeof s&&(s={onAfter:s}),"max"===n&&(n=9e9),s=e.extend({},a.defaults,s),r=r||s.duration;var l=s.queue&&1<s.axis.length;return l&&(r/=2),s.offset=i(s.offset),s.over=i(s.over),this.each(function(){function o(t){var i=e.extend({},s,{queue:!0,duration:r,complete:t&&function(){t.call(d,f,s)}});h.animate(p,i)}if(null!==n){var c,u=t(this),d=u?this.contentWindow||window:this,h=e(d),f=n,p={};switch(typeof f){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(f)){f=i(f);break}if(!(f=u?e(f):e(f,d)).length)return;case"object":(f.is||f.style)&&(c=(f=e(f)).offset())}var m=e.isFunction(s.offset)&&s.offset(d,f)||s.offset;e.each(s.axis.split(""),function(e,t){var i="x"===t?"Left":"Top",n=i.toLowerCase(),r="scroll"+i,v=h[r](),g=a.max(d,t);c?(p[r]=c[n]+(u?0:v-h.offset()[n]),s.margin&&(p[r]-=parseInt(f.css("margin"+i),10)||0,p[r]-=parseInt(f.css("border"+i+"Width"),10)||0),p[r]+=m[n]||0,s.over[n]&&(p[r]+=f["x"===t?"width":"height"]()*s.over[n])):(i=f[n],p[r]=i.slice&&"%"===i.slice(-1)?parseFloat(i)/100*g:i),s.limit&&/^\d+$/.test(p[r])&&(p[r]=0>=p[r]?0:Math.min(p[r],g)),!e&&1<s.axis.length&&(v===p[r]?p={}:l&&(o(s.onAfterFirst),p={}))}),o(s.onAfter)}})},a.max=function(i,a){var n="scroll"+(r="x"===a?"Width":"Height");if(!t(i))return i[n]-e(i)[r.toLowerCase()]();var r="client"+r,s=(l=i.ownerDocument||i.document).documentElement,l=l.body;return Math.max(s[n],l[n])-Math.min(s[r],l[r])},e.Tween.propHooks.scrollLeft=e.Tween.propHooks.scrollTop={get:function(t){return e(t.elem)[t.prop]()},set:function(t){var i=this.get(t);if(t.options.interrupt&&t._last&&t._last!==i)return e(t.elem).stop();var a=Math.round(t.now);i!==a&&(e(t.elem)[t.prop](a),t._last=this.get(t))}},a}),function(e){"use strict";e.getScripts||(e.getScripts=function(t){var i,a,n,r;if("string"==typeof(i=e.extend({async:!1,cache:!0},t)).urls&&(i.urls=[i.urls]),r=[],a=function(){e.ajax({url:i.urls.shift(),dataType:"script",cache:i.cache,success:function(){r.push(arguments),i.urls.length>0?a():"function"==typeof t.success&&t.success(e.merge([],r))}})},n=function(){r.push(arguments),r.length===i.urls.length&&"function"==typeof t.success&&t.success(e.merge([],r))},!0===i.async)for(var s=0;s<i.urls.length;s++)e.ajax({url:i.urls[s],dataType:"script",cache:i.cache,success:n});else a()})}(jQuery),Number.prototype.formatMoney=function(e,t,i,a,n){var r=this,e=isNaN(e=Math.abs(e))?2:e,i=void 0===i?".":i,t=void 0===t?"":t,a=void 0===a?"":a,s=r<0?"-":"",l=parseInt(r=Math.abs(+r||0).toFixed(e))+"",o=(o=l.length)>3?o%3:0,c=(o?l.substr(0,o)+t:"")+l.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+t)+(e?i+Math.abs(r-l).toFixed(e).slice(2):"");return"after"===n?s+c+" "+a:s+a+c},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},$.fn.serializeObject=function(){var e={},t=this.serializeArray();return $.each(t,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e};
!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return-1==n.indexOf(t)&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{},n=i[e]=i[e]||{};return n[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return-1!=n&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=0,o=i[n];t=t||[];for(var r=this._onceEvents&&this._onceEvents[e];o;){var s=r&&r[o];s&&(this.off(e,o),delete r[o]),o.apply(this,t),n+=s?0:1,o=i[n]}return this}},t.allOff=t.removeAllListeners=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return t(e,i)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){function i(e,t){for(var i in t)e[i]=t[i];return e}function n(e){var t=[];if(Array.isArray(e))t=e;else if("number"==typeof e.length)for(var i=0;i<e.length;i++)t.push(e[i]);else t.push(e);return t}function o(e,t,r){return this instanceof o?("string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=n(e),this.options=i({},this.options),"function"==typeof t?r=t:i(this.options,t),r&&this.on("always",r),this.getImages(),h&&(this.jqDeferred=new h.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(e,t,r)}function r(e){this.img=e}function s(e,t){this.url=e,this.element=t,this.img=new Image}var h=e.jQuery,a=e.console;o.prototype=Object.create(t.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&d[t]){for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var d={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(t.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,e),n=i.exec(t.backgroundImage)}},o.prototype.addImage=function(e){var t=new r(e);this.images.push(t)},o.prototype.addBackground=function(e,t){var i=new s(e,t);this.images.push(i)},o.prototype.check=function(){function e(e,i,n){setTimeout(function(){t.progress(e,i,n)})}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},o.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,e,t)},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},r.prototype=Object.create(t.prototype),r.prototype.check=function(){var e=this.getIsImageComplete();return e?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var e=this.getIsImageComplete();e&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},o.makeJQueryPlugin=function(t){t=t||e.jQuery,t&&(h=t,h.fn.imagesLoaded=function(e,t){var i=new o(this,e,t);return i.jqDeferred.promise(h(this))})},o.makeJQueryPlugin(),o});
!function(a){"function"==typeof define&&define.amd?define("picker",["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):this.Picker=a(jQuery)}(function(a){function b(f,g,i,m){function n(){return b._.node("div",b._.node("div",b._.node("div",b._.node("div",B.component.nodes(w.open),y.box),y.wrap),y.frame),y.holder,'tabindex="-1"')}function o(){z.data(g,B).addClass(y.input).val(z.data("value")?B.get("select",x.format):f.value),x.editable||z.on("focus."+w.id+" click."+w.id,function(a){a.preventDefault(),B.open()}).on("keydown."+w.id,u),e(f,{haspopup:!0,expanded:!1,readonly:!1,owns:f.id+"_root"})}function p(){e(B.$root[0],"hidden",!0)}function q(){B.$holder.on({keydown:u,"focus.toOpen":t,blur:function(){z.removeClass(y.target)},focusin:function(a){B.$root.removeClass(y.focused),a.stopPropagation()},"mousedown click":function(b){var c=b.target;c!=B.$holder[0]&&(b.stopPropagation(),"mousedown"!=b.type||a(c).is("input, select, textarea, button, option")||(b.preventDefault(),B.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var b=a(this),c=b.data(),d=b.hasClass(y.navDisabled)||b.hasClass(y.disabled),e=h();e=e&&(e.type||e.href),(d||e&&!a.contains(B.$root[0],e))&&B.$holder[0].focus(),!d&&c.nav?B.set("highlight",B.component.item.highlight,{nav:c.nav}):!d&&"pick"in c?(B.set("select",c.pick),x.closeOnSelect&&B.close(!0)):c.clear?(B.clear(),x.closeOnClear&&B.close(!0)):c.close&&B.close(!0)})}function r(){var b;x.hiddenName===!0?(b=f.name,f.name=""):(b=["string"==typeof x.hiddenPrefix?x.hiddenPrefix:"","string"==typeof x.hiddenSuffix?x.hiddenSuffix:"_submit"],b=b[0]+f.name+b[1]),B._hidden=a('<input type=hidden name="'+b+'"'+(z.data("value")||f.value?' value="'+B.get("select",x.formatSubmit)+'"':"")+">")[0],z.on("change."+w.id,function(){B._hidden.value=f.value?B.get("select",x.formatSubmit):""})}function s(){v&&l?B.$holder.find("."+y.frame).one("transitionend",function(){B.$holder[0].focus()}):B.$holder[0].focus()}function t(a){a.stopPropagation(),z.addClass(y.target),B.$root.addClass(y.focused),B.open()}function u(a){var b=a.keyCode,c=/^(8|46)$/.test(b);return 27==b?(B.close(!0),!1):void((32==b||c||!w.open&&B.component.key[b])&&(a.preventDefault(),a.stopPropagation(),c?B.clear().close():B.open()))}if(!f)return b;var v=!1,w={id:f.id||"P"+Math.abs(~~(Math.random()*new Date))},x=i?a.extend(!0,{},i.defaults,m):m||{},y=a.extend({},b.klasses(),x.klass),z=a(f),A=function(){return this.start()},B=A.prototype={constructor:A,$node:z,start:function(){return w&&w.start?B:(w.methods={},w.start=!0,w.open=!1,w.type=f.type,f.autofocus=f==h(),f.readOnly=!x.editable,f.id=f.id||w.id,"text"!=f.type&&(f.type="text"),B.component=new i(B,x),B.$root=a('<div class="'+y.picker+'" id="'+f.id+'_root" />'),p(),B.$holder=a(n()).appendTo(B.$root),q(),x.formatSubmit&&r(),o(),x.containerHidden?a(x.containerHidden).append(B._hidden):z.after(B._hidden),x.container?a(x.container).append(B.$root):z.after(B.$root),B.on({start:B.component.onStart,render:B.component.onRender,stop:B.component.onStop,open:B.component.onOpen,close:B.component.onClose,set:B.component.onSet}).on({start:x.onStart,render:x.onRender,stop:x.onStop,open:x.onOpen,close:x.onClose,set:x.onSet}),v=c(B.$holder[0]),f.autofocus&&B.open(),B.trigger("start").trigger("render"))},render:function(b){return b?(B.$holder=a(n()),q(),B.$root.html(B.$holder)):B.$root.find("."+y.box).html(B.component.nodes(w.open)),B.trigger("render")},stop:function(){return w.start?(B.close(),B._hidden&&B._hidden.parentNode.removeChild(B._hidden),B.$root.remove(),z.removeClass(y.input).removeData(g),setTimeout(function(){z.off("."+w.id)},0),f.type=w.type,f.readOnly=!1,B.trigger("stop"),w.methods={},w.start=!1,B):B},open:function(c){return w.open?B:(z.addClass(y.active),e(f,"expanded",!0),setTimeout(function(){B.$root.addClass(y.opened),e(B.$root[0],"hidden",!1)},0),c!==!1&&(w.open=!0,v&&k.css("overflow","hidden").css("padding-right","+="+d()),s(),j.on("click."+w.id+" focusin."+w.id,function(a){var b=a.target;b!=f&&b!=document&&3!=a.which&&B.close(b===B.$holder[0])}).on("keydown."+w.id,function(c){var d=c.keyCode,e=B.component.key[d],f=c.target;27==d?B.close(!0):f!=B.$holder[0]||!e&&13!=d?a.contains(B.$root[0],f)&&13==d&&(c.preventDefault(),f.click()):(c.preventDefault(),e?b._.trigger(B.component.key.go,B,[b._.trigger(e)]):B.$root.find("."+y.highlighted).hasClass(y.disabled)||(B.set("select",B.component.item.highlight),x.closeOnSelect&&B.close(!0)))})),B.trigger("open"))},close:function(a){return a&&(x.editable?f.focus():(B.$holder.off("focus.toOpen").focus(),setTimeout(function(){B.$holder.on("focus.toOpen",t)},0))),z.removeClass(y.active),e(f,"expanded",!1),setTimeout(function(){B.$root.removeClass(y.opened+" "+y.focused),e(B.$root[0],"hidden",!0)},0),w.open?(w.open=!1,v&&k.css("overflow","").css("padding-right","-="+d()),j.off("."+w.id),B.trigger("close")):B},clear:function(a){return B.set("clear",null,a)},set:function(b,c,d){var e,f,g=a.isPlainObject(b),h=g?b:{};if(d=g&&a.isPlainObject(c)?c:d||{},b){g||(h[b]=c);for(e in h)f=h[e],e in B.component.item&&(void 0===f&&(f=null),B.component.set(e,f,d)),("select"==e||"clear"==e)&&z.val("clear"==e?"":B.get(e,x.format)).trigger("change");B.render()}return d.muted?B:B.trigger("set",h)},get:function(a,c){if(a=a||"value",null!=w[a])return w[a];if("valueSubmit"==a){if(B._hidden)return B._hidden.value;a="value"}if("value"==a)return f.value;if(a in B.component.item){if("string"==typeof c){var d=B.component.get(a);return d?b._.trigger(B.component.formats.toString,B.component,[c,d]):""}return B.component.get(a)}},on:function(b,c,d){var e,f,g=a.isPlainObject(b),h=g?b:{};if(b){g||(h[b]=c);for(e in h)f=h[e],d&&(e="_"+e),w.methods[e]=w.methods[e]||[],w.methods[e].push(f)}return B},off:function(){var a,b,c=arguments;for(a=0,namesCount=c.length;a<namesCount;a+=1)b=c[a],b in w.methods&&delete w.methods[b];return B},trigger:function(a,c){var d=function(a){var d=w.methods[a];d&&d.map(function(a){b._.trigger(a,B,[c])})};return d("_"+a),d(a),B}};return new A}function c(a){var b,c="position";return a.currentStyle?b=a.currentStyle[c]:window.getComputedStyle&&(b=getComputedStyle(a)[c]),"fixed"==b}function d(){if(k.height()<=i.height())return 0;var b=a('<div style="visibility:hidden;width:100px" />').appendTo("body"),c=b[0].offsetWidth;b.css("overflow","scroll");var d=a('<div style="width:100%" />').appendTo(b),e=d[0].offsetWidth;return b.remove(),c-e}function e(b,c,d){if(a.isPlainObject(c))for(var e in c)f(b,e,c[e]);else f(b,c,d)}function f(a,b,c){a.setAttribute(("role"==b?"":"aria-")+b,c)}function g(b,c){a.isPlainObject(b)||(b={attribute:c}),c="";for(var d in b){var e=("role"==d?"":"aria-")+d,f=b[d];c+=null==f?"":e+'="'+b[d]+'"'}return c}function h(){try{return document.activeElement}catch(a){}}var i=a(window),j=a(document),k=a(document.documentElement),l=null!=document.documentElement.style.transition;return b.klasses=function(a){return a=a||"picker",{picker:a,opened:a+"--opened",focused:a+"--focused",input:a+"__input",active:a+"__input--active",target:a+"__input--target",holder:a+"__holder",frame:a+"__frame",wrap:a+"__wrap",box:a+"__box"}},b._={group:function(a){for(var c,d="",e=b._.trigger(a.min,a);e<=b._.trigger(a.max,a,[e]);e+=a.i)c=b._.trigger(a.item,a,[e]),d+=b._.node(a.node,c[0],c[1],c[2]);return d},node:function(b,c,d,e){return c?(c=a.isArray(c)?c.join(""):c,d=d?' class="'+d+'"':"",e=e?" "+e:"","<"+b+d+e+">"+c+"</"+b+">"):""},lead:function(a){return(10>a?"0":"")+a},trigger:function(a,b,c){return"function"==typeof a?a.apply(b,c||[]):a},digits:function(a){return/\d/.test(a[1])?2:1},isDate:function(a){return{}.toString.call(a).indexOf("Date")>-1&&this.isInteger(a.getDate())},isInteger:function(a){return{}.toString.call(a).indexOf("Number")>-1&&a%1===0},ariaAttr:g},b.extend=function(c,d){a.fn[c]=function(e,f){var g=this.data(c);return"picker"==e?g:g&&"string"==typeof e?b._.trigger(g[e],g,[f]):this.each(function(){var f=a(this);f.data(c)||new b(this,c,d,e)})},a.fn[c].defaults=d.defaults},b});
!function(a){"function"==typeof define&&define.amd?define(["picker","jquery"],a):"object"==typeof exports?module.exports=a(require("./picker.js"),require("jquery")):a(Picker,jQuery)}(function(a,b){function c(a,b){var c=this,d=a.$node[0],e=d.value,f=a.$node.data("value"),g=f||e,h=f?b.formatSubmit:b.format,i=function(){return d.currentStyle?"rtl"==d.currentStyle.direction:"rtl"==getComputedStyle(a.$root[0]).direction};c.settings=b,c.$node=a.$node,c.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},c.item={},c.item.clear=null,c.item.disable=(b.disable||[]).slice(0),c.item.enable=-function(a){return a[0]===!0?a.shift():-1}(c.item.disable),c.set("min",b.min).set("max",b.max).set("now"),g?c.set("select",g,{format:h,defaultValue:!0}):c.set("select",null).set("highlight",c.item.now),c.key={40:7,38:-7,39:function(){return i()?-1:1},37:function(){return i()?1:-1},go:function(a){var b=c.item.highlight,d=new Date(b.year,b.month,b.date+a);c.set("highlight",d,{interval:a}),this.render()}},a.on("render",function(){a.$root.find("."+b.klass.selectMonth).on("change",function(){var c=this.value;c&&(a.set("highlight",[a.get("view").year,c,a.get("highlight").date]),a.$root.find("."+b.klass.selectMonth).trigger("focus"))}),a.$root.find("."+b.klass.selectYear).on("change",function(){var c=this.value;c&&(a.set("highlight",[c,a.get("view").month,a.get("highlight").date]),a.$root.find("."+b.klass.selectYear).trigger("focus"))})},1).on("open",function(){var d="";c.disabled(c.get("now"))&&(d=":not(."+b.klass.buttonToday+")"),a.$root.find("button"+d+", select").attr("disabled",!1)},1).on("close",function(){a.$root.find("button, select").attr("disabled",!0)},1)}var d=7,e=6,f=a._;c.prototype.set=function(a,b,c){var d=this,e=d.item;return null===b?("clear"==a&&(a="select"),e[a]=b,d):(e["enable"==a?"disable":"flip"==a?"enable":a]=d.queue[a].split(" ").map(function(e){return b=d[e](a,b,c)}).pop(),"select"==a?d.set("highlight",e.select,c):"highlight"==a?d.set("view",e.highlight,c):a.match(/^(flip|min|max|disable|enable)$/)&&(e.select&&d.disabled(e.select)&&d.set("select",e.select,c),e.highlight&&d.disabled(e.highlight)&&d.set("highlight",e.highlight,c)),d)},c.prototype.get=function(a){return this.item[a]},c.prototype.create=function(a,c,d){var e,g=this;return c=void 0===c?a:c,c==-(1/0)||c==1/0?e=c:b.isPlainObject(c)&&f.isInteger(c.pick)?c=c.obj:b.isArray(c)?(c=new Date(c[0],c[1],c[2]),c=f.isDate(c)?c:g.create().obj):c=f.isInteger(c)||f.isDate(c)?g.normalize(new Date(c),d):g.now(a,c,d),{year:e||c.getFullYear(),month:e||c.getMonth(),date:e||c.getDate(),day:e||c.getDay(),obj:e||c,pick:e||c.getTime()}},c.prototype.createRange=function(a,c){var d=this,e=function(a){return a===!0||b.isArray(a)||f.isDate(a)?d.create(a):a};return f.isInteger(a)||(a=e(a)),f.isInteger(c)||(c=e(c)),f.isInteger(a)&&b.isPlainObject(c)?a=[c.year,c.month,c.date+a]:f.isInteger(c)&&b.isPlainObject(a)&&(c=[a.year,a.month,a.date+c]),{from:e(a),to:e(c)}},c.prototype.withinRange=function(a,b){return a=this.createRange(a.from,a.to),b.pick>=a.from.pick&&b.pick<=a.to.pick},c.prototype.overlapRanges=function(a,b){var c=this;return a=c.createRange(a.from,a.to),b=c.createRange(b.from,b.to),c.withinRange(a,b.from)||c.withinRange(a,b.to)||c.withinRange(b,a.from)||c.withinRange(b,a.to)},c.prototype.now=function(a,b,c){return b=new Date,c&&c.rel&&b.setDate(b.getDate()+c.rel),this.normalize(b,c)},c.prototype.navigate=function(a,c,d){var e,f,g,h,i=b.isArray(c),j=b.isPlainObject(c),k=this.item.view;if(i||j){for(j?(f=c.year,g=c.month,h=c.date):(f=+c[0],g=+c[1],h=+c[2]),d&&d.nav&&k&&k.month!==g&&(f=k.year,g=k.month),e=new Date(f,g+(d&&d.nav?d.nav:0),1),f=e.getFullYear(),g=e.getMonth();new Date(f,g,h).getMonth()!==g;)h-=1;c=[f,g,h]}return c},c.prototype.normalize=function(a){return a.setHours(0,0,0,0),a},c.prototype.measure=function(a,b){var c=this;return b?"string"==typeof b?b=c.parse(a,b):f.isInteger(b)&&(b=c.now(a,b,{rel:b})):b="min"==a?-(1/0):1/0,b},c.prototype.viewset=function(a,b){return this.create([b.year,b.month,1])},c.prototype.validate=function(a,c,d){var e,g,h,i,j=this,k=c,l=d&&d.interval?d.interval:1,m=-1===j.item.enable,n=j.item.min,o=j.item.max,p=m&&j.item.disable.filter(function(a){if(b.isArray(a)){var d=j.create(a).pick;d<c.pick?e=!0:d>c.pick&&(g=!0)}return f.isInteger(a)}).length;if((!d||!d.nav&&!d.defaultValue)&&(!m&&j.disabled(c)||m&&j.disabled(c)&&(p||e||g)||!m&&(c.pick<=n.pick||c.pick>=o.pick)))for(m&&!p&&(!g&&l>0||!e&&0>l)&&(l*=-1);j.disabled(c)&&(Math.abs(l)>1&&(c.month<k.month||c.month>k.month)&&(c=k,l=l>0?1:-1),c.pick<=n.pick?(h=!0,l=1,c=j.create([n.year,n.month,n.date+(c.pick===n.pick?0:-1)])):c.pick>=o.pick&&(i=!0,l=-1,c=j.create([o.year,o.month,o.date+(c.pick===o.pick?0:1)])),!h||!i);)c=j.create([c.year,c.month,c.date+l]);return c},c.prototype.disabled=function(a){var c=this,d=c.item.disable.filter(function(d){return f.isInteger(d)?a.day===(c.settings.firstDay?d:d-1)%7:b.isArray(d)||f.isDate(d)?a.pick===c.create(d).pick:b.isPlainObject(d)?c.withinRange(d,a):void 0});return d=d.length&&!d.filter(function(a){return b.isArray(a)&&"inverted"==a[3]||b.isPlainObject(a)&&a.inverted}).length,-1===c.item.enable?!d:d||a.pick<c.item.min.pick||a.pick>c.item.max.pick},c.prototype.parse=function(a,b,c){var d=this,e={};return b&&"string"==typeof b?(c&&c.format||(c=c||{},c.format=d.settings.format),d.formats.toArray(c.format).map(function(a){var c=d.formats[a],g=c?f.trigger(c,d,[b,e]):a.replace(/^!/,"").length;c&&(e[a]=b.substr(0,g)),b=b.substr(g)}),[e.yyyy||e.yy,+(e.mm||e.m)-1,e.dd||e.d]):b},c.prototype.formats=function(){function a(a,b,c){var d=a.match(/[^\x00-\x7F]+|\w+/)[0];return c.mm||c.m||(c.m=b.indexOf(d)+1),d.length}function b(a){return a.match(/\w+/)[0].length}return{d:function(a,b){return a?f.digits(a):b.date},dd:function(a,b){return a?2:f.lead(b.date)},ddd:function(a,c){return a?b(a):this.settings.weekdaysShort[c.day]},dddd:function(a,c){return a?b(a):this.settings.weekdaysFull[c.day]},m:function(a,b){return a?f.digits(a):b.month+1},mm:function(a,b){return a?2:f.lead(b.month+1)},mmm:function(b,c){var d=this.settings.monthsShort;return b?a(b,d,c):d[c.month]},mmmm:function(b,c){var d=this.settings.monthsFull;return b?a(b,d,c):d[c.month]},yy:function(a,b){return a?2:(""+b.year).slice(2)},yyyy:function(a,b){return a?4:b.year},toArray:function(a){return a.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(a,b){var c=this;return c.formats.toArray(a).map(function(a){return f.trigger(c.formats[a],c,[0,b])||a.replace(/^!/,"")}).join("")}}}(),c.prototype.isDateExact=function(a,c){var d=this;return f.isInteger(a)&&f.isInteger(c)||"boolean"==typeof a&&"boolean"==typeof c?a===c:(f.isDate(a)||b.isArray(a))&&(f.isDate(c)||b.isArray(c))?d.create(a).pick===d.create(c).pick:b.isPlainObject(a)&&b.isPlainObject(c)?d.isDateExact(a.from,c.from)&&d.isDateExact(a.to,c.to):!1},c.prototype.isDateOverlap=function(a,c){var d=this,e=d.settings.firstDay?1:0;return f.isInteger(a)&&(f.isDate(c)||b.isArray(c))?(a=a%7+e,a===d.create(c).day+1):f.isInteger(c)&&(f.isDate(a)||b.isArray(a))?(c=c%7+e,c===d.create(a).day+1):b.isPlainObject(a)&&b.isPlainObject(c)?d.overlapRanges(a,c):!1},c.prototype.flipEnable=function(a){var b=this.item;b.enable=a||(-1==b.enable?1:-1)},c.prototype.deactivate=function(a,c){var d=this,e=d.item.disable.slice(0);return"flip"==c?d.flipEnable():c===!1?(d.flipEnable(1),e=[]):c===!0?(d.flipEnable(-1),e=[]):c.map(function(a){for(var c,g=0;g<e.length;g+=1)if(d.isDateExact(a,e[g])){c=!0;break}c||(f.isInteger(a)||f.isDate(a)||b.isArray(a)||b.isPlainObject(a)&&a.from&&a.to)&&e.push(a)}),e},c.prototype.activate=function(a,c){var d=this,e=d.item.disable,g=e.length;return"flip"==c?d.flipEnable():c===!0?(d.flipEnable(1),e=[]):c===!1?(d.flipEnable(-1),e=[]):c.map(function(a){var c,h,i,j;for(i=0;g>i;i+=1){if(h=e[i],d.isDateExact(h,a)){c=e[i]=null,j=!0;break}if(d.isDateOverlap(h,a)){b.isPlainObject(a)?(a.inverted=!0,c=a):b.isArray(a)?(c=a,c[3]||c.push("inverted")):f.isDate(a)&&(c=[a.getFullYear(),a.getMonth(),a.getDate(),"inverted"]);break}}if(c)for(i=0;g>i;i+=1)if(d.isDateExact(e[i],a)){e[i]=null;break}if(j)for(i=0;g>i;i+=1)if(d.isDateOverlap(e[i],a)){e[i]=null;break}c&&e.push(c)}),e.filter(function(a){return null!=a})},c.prototype.nodes=function(a){var b=this,c=b.settings,g=b.item,h=g.now,i=g.select,j=g.highlight,k=g.view,l=g.disable,m=g.min,n=g.max,o=function(a,b){return c.firstDay&&(a.push(a.shift()),b.push(b.shift())),f.node("thead",f.node("tr",f.group({min:0,max:d-1,i:1,node:"th",item:function(d){return[a[d],c.klass.weekdays,'scope=col title="'+b[d]+'"']}})))}((c.showWeekdaysFull?c.weekdaysFull:c.weekdaysShort).slice(0),c.weekdaysFull.slice(0)),p=function(a){return f.node("div"," ",c.klass["nav"+(a?"Next":"Prev")]+(a&&k.year>=n.year&&k.month>=n.month||!a&&k.year<=m.year&&k.month<=m.month?" "+c.klass.navDisabled:""),"data-nav="+(a||-1)+" "+f.ariaAttr({role:"button",controls:b.$node[0].id+"_table"})+' title="'+(a?c.labelMonthNext:c.labelMonthPrev)+'"')},q=function(){var d=c.showMonthsShort?c.monthsShort:c.monthsFull;return c.selectMonths?f.node("select",f.group({min:0,max:11,i:1,node:"option",item:function(a){return[d[a],0,"value="+a+(k.month==a?" selected":"")+(k.year==m.year&&a<m.month||k.year==n.year&&a>n.month?" disabled":"")]}}),c.klass.selectMonth,(a?"":"disabled")+" "+f.ariaAttr({controls:b.$node[0].id+"_table"})+' title="'+c.labelMonthSelect+'"'):f.node("div",d[k.month],c.klass.month)},r=function(){var d=k.year,e=c.selectYears===!0?5:~~(c.selectYears/2);if(e){var g=m.year,h=n.year,i=d-e,j=d+e;if(g>i&&(j+=g-i,i=g),j>h){var l=i-g,o=j-h;i-=l>o?o:l,j=h}return f.node("select",f.group({min:i,max:j,i:1,node:"option",item:function(a){return[a,0,"value="+a+(d==a?" selected":"")]}}),c.klass.selectYear,(a?"":"disabled")+" "+f.ariaAttr({controls:b.$node[0].id+"_table"})+' title="'+c.labelYearSelect+'"')}return f.node("div",d,c.klass.year)};return f.node("div",(c.selectYears?r()+q():q()+r())+p()+p(1),c.klass.header)+f.node("table",o+f.node("tbody",f.group({min:0,max:e-1,i:1,node:"tr",item:function(a){var e=c.firstDay&&0===b.create([k.year,k.month,1]).day?-7:0;return[f.group({min:d*a-k.day+e+1,max:function(){return this.min+d-1},i:1,node:"td",item:function(a){a=b.create([k.year,k.month,a+(c.firstDay?1:0)]);var d=i&&i.pick==a.pick,e=j&&j.pick==a.pick,g=l&&b.disabled(a)||a.pick<m.pick||a.pick>n.pick,o=f.trigger(b.formats.toString,b,[c.format,a]);return[f.node("div",a.date,function(b){return b.push(k.month==a.month?c.klass.infocus:c.klass.outfocus),h.pick==a.pick&&b.push(c.klass.now),d&&b.push(c.klass.selected),e&&b.push(c.klass.highlighted),g&&b.push(c.klass.disabled),b.join(" ")}([c.klass.day]),"data-pick="+a.pick+" "+f.ariaAttr({role:"gridcell",label:o,selected:d&&b.$node.val()===o?!0:null,activedescendant:e?!0:null,disabled:g?!0:null})),"",f.ariaAttr({role:"presentation"})]}})]}})),c.klass.table,'id="'+b.$node[0].id+'_table" '+f.ariaAttr({role:"grid",controls:b.$node[0].id,readonly:!0}))+f.node("div",f.node("button",c.today,c.klass.buttonToday,"type=button data-pick="+h.pick+(a&&!b.disabled(h)?"":" disabled")+" "+f.ariaAttr({controls:b.$node[0].id}))+f.node("button",c.clear,c.klass.buttonClear,"type=button data-clear=1"+(a?"":" disabled")+" "+f.ariaAttr({controls:b.$node[0].id}))+f.node("button",c.close,c.klass.buttonClose,"type=button data-close=true "+(a?"":" disabled")+" "+f.ariaAttr({controls:b.$node[0].id})),c.klass.footer)},c.defaults=function(a){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:a+"table",header:a+"header",navPrev:a+"nav--prev",navNext:a+"nav--next",navDisabled:a+"nav--disabled",month:a+"month",year:a+"year",selectMonth:a+"select--month",selectYear:a+"select--year",weekdays:a+"weekday",day:a+"day",disabled:a+"day--disabled",selected:a+"day--selected",highlighted:a+"day--highlighted",now:a+"day--today",infocus:a+"day--infocus",outfocus:a+"day--outfocus",footer:a+"footer",buttonClear:a+"button--clear",buttonToday:a+"button--today",buttonClose:a+"button--close"}}}(a.klasses().picker+"__"),a.extend("pickadate",c)});
!function(a){"function"==typeof define&&define.amd?define(["picker","jquery"],a):"object"==typeof exports?module.exports=a(require("./picker.js"),require("jquery")):a(Picker,jQuery)}(function(a,b){function c(a,b){var c=this,d=a.$node[0].value,e=a.$node.data("value"),f=e||d,g=e?b.formatSubmit:b.format;c.settings=b,c.$node=a.$node,c.queue={interval:"i",min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse create validate",view:"parse create validate",disable:"deactivate",enable:"activate"},c.item={},c.item.clear=null,c.item.interval=b.interval||30,c.item.disable=(b.disable||[]).slice(0),c.item.enable=-function(a){return a[0]===!0?a.shift():-1}(c.item.disable),c.set("min",b.min).set("max",b.max).set("now"),f?c.set("select",f,{format:g}):c.set("select",null).set("highlight",c.item.now),c.key={40:1,38:-1,39:1,37:-1,go:function(a){c.set("highlight",c.item.highlight.pick+a*c.item.interval,{interval:a*c.item.interval}),this.render()}},a.on("render",function(){var c=a.$root.children(),d=c.find("."+b.klass.viewset),e=function(a){return["webkit","moz","ms","o",""].map(function(b){return(b?"-"+b+"-":"")+a})},f=function(a,b){e("transform").map(function(c){a.css(c,b)}),e("transition").map(function(c){a.css(c,b)})};d.length&&(f(c,"none"),c[0].scrollTop=~~d.position().top-2*d[0].clientHeight,f(c,""))},1).on("open",function(){a.$root.find("button").attr("disabled",!1)},1).on("close",function(){a.$root.find("button").attr("disabled",!0)},1)}var d=24,e=60,f=12,g=d*e,h=a._;c.prototype.set=function(a,b,c){var d=this,e=d.item;return null===b?("clear"==a&&(a="select"),e[a]=b,d):(e["enable"==a?"disable":"flip"==a?"enable":a]=d.queue[a].split(" ").map(function(e){return b=d[e](a,b,c)}).pop(),"select"==a?d.set("highlight",e.select,c):"highlight"==a?d.set("view",e.highlight,c):"interval"==a?d.set("min",e.min,c).set("max",e.max,c):a.match(/^(flip|min|max|disable|enable)$/)&&(e.select&&d.disabled(e.select)&&d.set("select",b,c),e.highlight&&d.disabled(e.highlight)&&d.set("highlight",b,c),"min"==a&&d.set("max",e.max,c)),d)},c.prototype.get=function(a){return this.item[a]},c.prototype.create=function(a,c,f){var i=this;return c=void 0===c?a:c,h.isDate(c)&&(c=[c.getHours(),c.getMinutes()]),b.isPlainObject(c)&&h.isInteger(c.pick)?c=c.pick:b.isArray(c)?c=+c[0]*e+ +c[1]:h.isInteger(c)||(c=i.now(a,c,f)),"max"==a&&c<i.item.min.pick&&(c+=g),"min"!=a&&"max"!=a&&(c-i.item.min.pick)%i.item.interval!==0&&(c+=i.item.interval),c=i.normalize(a,c,f),{hour:~~(d+c/e)%d,mins:(e+c%e)%e,time:(g+c)%g,pick:c%g}},c.prototype.createRange=function(a,c){var d=this,e=function(a){return a===!0||b.isArray(a)||h.isDate(a)?d.create(a):a};return h.isInteger(a)||(a=e(a)),h.isInteger(c)||(c=e(c)),h.isInteger(a)&&b.isPlainObject(c)?a=[c.hour,c.mins+a*d.settings.interval]:h.isInteger(c)&&b.isPlainObject(a)&&(c=[a.hour,a.mins+c*d.settings.interval]),{from:e(a),to:e(c)}},c.prototype.withinRange=function(a,b){return a=this.createRange(a.from,a.to),b.pick>=a.from.pick&&b.pick<=a.to.pick},c.prototype.overlapRanges=function(a,b){var c=this;return a=c.createRange(a.from,a.to),b=c.createRange(b.from,b.to),c.withinRange(a,b.from)||c.withinRange(a,b.to)||c.withinRange(b,a.from)||c.withinRange(b,a.to)},c.prototype.now=function(a,b){var c,d=this.item.interval,f=new Date,g=f.getHours()*e+f.getMinutes(),i=h.isInteger(b);return g-=g%d,c=0>b&&-d>=d*b+g,g+="min"==a&&c?0:d,i&&(g+=d*(c&&"max"!=a?b+1:b)),g},c.prototype.normalize=function(a,b){var c=this.item.interval,d=this.item.min&&this.item.min.pick||0;return b-="min"==a?0:(b-d)%c},c.prototype.measure=function(a,c,f){var g=this;return c||(c="min"==a?[0,0]:[d-1,e-1]),"string"==typeof c?c=g.parse(a,c):c===!0||h.isInteger(c)?c=g.now(a,c,f):b.isPlainObject(c)&&h.isInteger(c.pick)&&(c=g.normalize(a,c.pick,f)),c},c.prototype.validate=function(a,b,c){var d=this,e=c&&c.interval?c.interval:d.item.interval;return d.disabled(b)&&(b=d.shift(b,e)),b=d.scope(b),d.disabled(b)&&(b=d.shift(b,-1*e)),b},c.prototype.disabled=function(a){var c=this,d=c.item.disable.filter(function(d){return h.isInteger(d)?a.hour==d:b.isArray(d)||h.isDate(d)?a.pick==c.create(d).pick:b.isPlainObject(d)?c.withinRange(d,a):void 0});return d=d.length&&!d.filter(function(a){return b.isArray(a)&&"inverted"==a[2]||b.isPlainObject(a)&&a.inverted}).length,-1===c.item.enable?!d:d||a.pick<c.item.min.pick||a.pick>c.item.max.pick},c.prototype.shift=function(a,b){var c=this,d=c.item.min.pick,e=c.item.max.pick;for(b=b||c.item.interval;c.disabled(a)&&(a=c.create(a.pick+=b),!(a.pick<=d||a.pick>=e)););return a},c.prototype.scope=function(a){var b=this.item.min.pick,c=this.item.max.pick;return this.create(a.pick>c?c:a.pick<b?b:a)},c.prototype.parse=function(a,b,c){var d,f,g,i,j,k=this,l={};if(!b||"string"!=typeof b)return b;c&&c.format||(c=c||{},c.format=k.settings.format),k.formats.toArray(c.format).map(function(a){var c,d=k.formats[a],e=d?h.trigger(d,k,[b,l]):a.replace(/^!/,"").length;d&&(c=b.substr(0,e),l[a]=c.match(/^\d+$/)?+c:c),b=b.substr(e)});for(i in l)j=l[i],h.isInteger(j)?i.match(/^(h|hh)$/i)?(d=j,("h"==i||"hh"==i)&&(d%=12)):"i"==i&&(f=j):i.match(/^a$/i)&&j.match(/^p/i)&&("h"in l||"hh"in l)&&(g=!0);return(g?d+12:d)*e+f},c.prototype.formats={h:function(a,b){return a?h.digits(a):b.hour%f||f},hh:function(a,b){return a?2:h.lead(b.hour%f||f)},H:function(a,b){return a?h.digits(a):""+b.hour%24},HH:function(a,b){return a?h.digits(a):h.lead(b.hour%24)},i:function(a,b){return a?2:h.lead(b.mins)},a:function(a,b){return a?4:g/2>b.time%g?"a.m.":"p.m."},A:function(a,b){return a?2:g/2>b.time%g?"AM":"PM"},toArray:function(a){return a.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(a,b){var c=this;return c.formats.toArray(a).map(function(a){return h.trigger(c.formats[a],c,[0,b])||a.replace(/^!/,"")}).join("")}},c.prototype.isTimeExact=function(a,c){var d=this;return h.isInteger(a)&&h.isInteger(c)||"boolean"==typeof a&&"boolean"==typeof c?a===c:(h.isDate(a)||b.isArray(a))&&(h.isDate(c)||b.isArray(c))?d.create(a).pick===d.create(c).pick:b.isPlainObject(a)&&b.isPlainObject(c)?d.isTimeExact(a.from,c.from)&&d.isTimeExact(a.to,c.to):!1},c.prototype.isTimeOverlap=function(a,c){var d=this;return h.isInteger(a)&&(h.isDate(c)||b.isArray(c))?a===d.create(c).hour:h.isInteger(c)&&(h.isDate(a)||b.isArray(a))?c===d.create(a).hour:b.isPlainObject(a)&&b.isPlainObject(c)?d.overlapRanges(a,c):!1},c.prototype.flipEnable=function(a){var b=this.item;b.enable=a||(-1==b.enable?1:-1)},c.prototype.deactivate=function(a,c){var d=this,e=d.item.disable.slice(0);return"flip"==c?d.flipEnable():c===!1?(d.flipEnable(1),e=[]):c===!0?(d.flipEnable(-1),e=[]):c.map(function(a){for(var c,f=0;f<e.length;f+=1)if(d.isTimeExact(a,e[f])){c=!0;break}c||(h.isInteger(a)||h.isDate(a)||b.isArray(a)||b.isPlainObject(a)&&a.from&&a.to)&&e.push(a)}),e},c.prototype.activate=function(a,c){var d=this,e=d.item.disable,f=e.length;return"flip"==c?d.flipEnable():c===!0?(d.flipEnable(1),e=[]):c===!1?(d.flipEnable(-1),e=[]):c.map(function(a){var c,g,i,j;for(i=0;f>i;i+=1){if(g=e[i],d.isTimeExact(g,a)){c=e[i]=null,j=!0;break}if(d.isTimeOverlap(g,a)){b.isPlainObject(a)?(a.inverted=!0,c=a):b.isArray(a)?(c=a,c[2]||c.push("inverted")):h.isDate(a)&&(c=[a.getFullYear(),a.getMonth(),a.getDate(),"inverted"]);break}}if(c)for(i=0;f>i;i+=1)if(d.isTimeExact(e[i],a)){e[i]=null;break}if(j)for(i=0;f>i;i+=1)if(d.isTimeOverlap(e[i],a)){e[i]=null;break}c&&e.push(c)}),e.filter(function(a){return null!=a})},c.prototype.i=function(a,b){return h.isInteger(b)&&b>0?b:this.item.interval},c.prototype.nodes=function(a){var b=this,c=b.settings,d=b.item.select,e=b.item.highlight,f=b.item.view,g=b.item.disable;return h.node("ul",h.group({min:b.item.min.pick,max:b.item.max.pick,i:b.item.interval,node:"li",item:function(a){a=b.create(a);var i=a.pick,j=d&&d.pick==i,k=e&&e.pick==i,l=g&&b.disabled(a),m=h.trigger(b.formats.toString,b,[c.format,a]);return[h.trigger(b.formats.toString,b,[h.trigger(c.formatLabel,b,[a])||c.format,a]),function(a){return j&&a.push(c.klass.selected),k&&a.push(c.klass.highlighted),f&&f.pick==i&&a.push(c.klass.viewset),l&&a.push(c.klass.disabled),a.join(" ")}([c.klass.listItem]),"data-pick="+a.pick+" "+h.ariaAttr({role:"option",label:m,selected:j&&b.$node.val()===m?!0:null,activedescendant:k?!0:null,disabled:l?!0:null})]}})+h.node("li",h.node("button",c.clear,c.klass.buttonClear,"type=button data-clear=1"+(a?"":" disabled")+" "+h.ariaAttr({controls:b.$node[0].id})),"",h.ariaAttr({role:"presentation"})),c.klass.list,h.ariaAttr({role:"listbox",controls:b.$node[0].id}))},c.defaults=function(a){return{clear:"Clear",format:"h:i A",interval:30,closeOnSelect:!0,closeOnClear:!0,klass:{picker:a+" "+a+"--time",holder:a+"__holder",list:a+"__list",listItem:a+"__list-item",disabled:a+"__list-item--disabled",selected:a+"__list-item--selected",highlighted:a+"__list-item--highlighted",viewset:a+"__list-item--viewset",now:a+"__list-item--now",buttonClear:a+"__button--clear"}}}(a.klasses().picker),a.extend("pickatime",c)});
!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(c){return b(a,c)}):"object"==typeof exports?b(a,require("jquery")):b(a,a.jQuery||a.Zepto)}(this,function(a,b){"use strict";function c(a){if(w&&"none"===a.css("animation-name")&&"none"===a.css("-webkit-animation-name")&&"none"===a.css("-moz-animation-name")&&"none"===a.css("-o-animation-name")&&"none"===a.css("-ms-animation-name"))return 0;var b,c,d,e,f=a.css("animation-duration")||a.css("-webkit-animation-duration")||a.css("-moz-animation-duration")||a.css("-o-animation-duration")||a.css("-ms-animation-duration")||"0s",g=a.css("animation-delay")||a.css("-webkit-animation-delay")||a.css("-moz-animation-delay")||a.css("-o-animation-delay")||a.css("-ms-animation-delay")||"0s",h=a.css("animation-iteration-count")||a.css("-webkit-animation-iteration-count")||a.css("-moz-animation-iteration-count")||a.css("-o-animation-iteration-count")||a.css("-ms-animation-iteration-count")||"1";for(f=f.split(", "),g=g.split(", "),h=h.split(", "),e=0,c=f.length,b=Number.NEGATIVE_INFINITY;e<c;e++)d=parseFloat(f[e])*parseInt(h[e],10)+parseFloat(g[e]),d>b&&(b=d);return b}function d(){if(b(document).height()<=b(window).height())return 0;var a,c,d=document.createElement("div"),e=document.createElement("div");return d.style.visibility="hidden",d.style.width="100px",document.body.appendChild(d),a=d.offsetWidth,d.style.overflow="scroll",e.style.width="100%",d.appendChild(e),c=e.offsetWidth,d.parentNode.removeChild(d),a-c}function e(){if(!x){var a,c,e=b("html"),f=k("is-locked");e.hasClass(f)||(c=b(document.body),a=parseInt(c.css("padding-right"),10)+d(),c.css("padding-right",a+"px"),e.addClass(f))}}function f(){if(!x){var a,c,e=b("html"),f=k("is-locked");e.hasClass(f)&&(c=b(document.body),a=parseInt(c.css("padding-right"),10)-d(),c.css("padding-right",a+"px"),e.removeClass(f))}}function g(a,b,c,d){var e=k("is",b),f=[k("is",u.CLOSING),k("is",u.OPENING),k("is",u.CLOSED),k("is",u.OPENED)].join(" ");a.$bg.removeClass(f).addClass(e),a.$overlay.removeClass(f).addClass(e),a.$wrapper.removeClass(f).addClass(e),a.$modal.removeClass(f).addClass(e),a.state=b,!c&&a.$modal.trigger({type:b,reason:d},[{reason:d}])}function h(a,d,e){var f=0,g=function(a){a.target===this&&f++},h=function(a){a.target===this&&0===--f&&(b.each(["$bg","$overlay","$wrapper","$modal"],function(a,b){e[b].off(r+" "+s)}),d())};b.each(["$bg","$overlay","$wrapper","$modal"],function(a,b){e[b].on(r,g).on(s,h)}),a(),0===c(e.$bg)&&0===c(e.$overlay)&&0===c(e.$wrapper)&&0===c(e.$modal)&&(b.each(["$bg","$overlay","$wrapper","$modal"],function(a,b){e[b].off(r+" "+s)}),d())}function i(a){a.state!==u.CLOSED&&(b.each(["$bg","$overlay","$wrapper","$modal"],function(b,c){a[c].off(r+" "+s)}),a.$bg.removeClass(a.settings.modifier),a.$overlay.removeClass(a.settings.modifier).hide(),a.$wrapper.hide(),f(),g(a,u.CLOSED,!0))}function j(a){var b,c,d,e,f={};for(a=a.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,","),b=a.split(","),e=0,c=b.length;e<c;e++)b[e]=b[e].split(":"),d=b[e][1],("string"==typeof d||d instanceof String)&&(d="true"===d||"false"!==d&&d),("string"==typeof d||d instanceof String)&&(d=isNaN(d)?d:+d),f[b[e][0]]=d;return f}function k(){for(var a=q,b=0;b<arguments.length;++b)a+="-"+arguments[b];return a}function l(){var a,c,d=location.hash.replace("#","");if(d){try{c=b('[data-remodal-id="'+d+'"]')}catch(e){}c&&c.length&&(a=b[p].lookup[c.data(p)],a&&a.settings.hashTracking&&a.open())}else n&&n.state===u.OPENED&&n.settings.hashTracking&&n.close()}function m(a,c){var d=b(document.body),e=d,f=this;f.settings=b.extend({},t,c),f.index=b[p].lookup.push(f)-1,f.state=u.CLOSED,f.$overlay=b("."+k("overlay")),null!==f.settings.appendTo&&f.settings.appendTo.length&&(e=b(f.settings.appendTo)),f.$overlay.length||(f.$overlay=b("<div>").addClass(k("overlay")+" "+k("is",u.CLOSED)).hide(),e.append(f.$overlay)),f.$bg=b("."+k("bg")).addClass(k("is",u.CLOSED)),f.$modal=a.addClass(q+" "+k("is-initialized")+" "+f.settings.modifier+" "+k("is",u.CLOSED)).attr("tabindex","-1"),f.$wrapper=b("<div>").addClass(k("wrapper")+" "+f.settings.modifier+" "+k("is",u.CLOSED)).hide().append(f.$modal),e.append(f.$wrapper),f.$wrapper.on("click."+q,'[data-remodal-action="close"]',function(a){a.preventDefault(),f.close()}),f.$wrapper.on("click."+q,'[data-remodal-action="cancel"]',function(a){a.preventDefault(),f.$modal.trigger(v.CANCELLATION),f.settings.closeOnCancel&&f.close(v.CANCELLATION)}),f.$wrapper.on("click."+q,'[data-remodal-action="confirm"]',function(a){a.preventDefault(),f.$modal.trigger(v.CONFIRMATION),f.settings.closeOnConfirm&&f.close(v.CONFIRMATION)}),f.$wrapper.on("click."+q,function(a){var c=b(a.target);c.hasClass(k("wrapper"))&&f.settings.closeOnOutsideClick&&f.close()})}var n,o,p="remodal",q=a.REMODAL_GLOBALS&&a.REMODAL_GLOBALS.NAMESPACE||p,r=b.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(a){return a+"."+q}).join(" "),s=b.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(a){return a+"."+q}).join(" "),t=b.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:"",appendTo:null},a.REMODAL_GLOBALS&&a.REMODAL_GLOBALS.DEFAULTS),u={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},v={CONFIRMATION:"confirmation",CANCELLATION:"cancellation"},w=function(){var a=document.createElement("div").style;return void 0!==a.animationName||void 0!==a.WebkitAnimationName||void 0!==a.MozAnimationName||void 0!==a.msAnimationName||void 0!==a.OAnimationName}(),x=/iPad|iPhone|iPod/.test(navigator.platform);m.prototype.open=function(){var a,c=this;c.state!==u.OPENING&&c.state!==u.CLOSING&&(a=c.$modal.attr("data-remodal-id"),a&&c.settings.hashTracking&&(o=b(window).scrollTop(),location.hash=a),n&&n!==c&&i(n),n=c,e(),c.$bg.addClass(c.settings.modifier),c.$overlay.addClass(c.settings.modifier).show(),c.$wrapper.show().scrollTop(0),c.$modal.focus(),h(function(){g(c,u.OPENING)},function(){g(c,u.OPENED)},c))},m.prototype.close=function(a){var c=this;c.state!==u.OPENING&&c.state!==u.CLOSING&&c.state!==u.CLOSED&&(c.settings.hashTracking&&c.$modal.attr("data-remodal-id")===location.hash.substr(1)&&(location.hash="",b(window).scrollTop(o)),h(function(){g(c,u.CLOSING,!1,a)},function(){c.$bg.removeClass(c.settings.modifier),c.$overlay.removeClass(c.settings.modifier).hide(),c.$wrapper.hide(),f(),g(c,u.CLOSED,!1,a)},c))},m.prototype.getState=function(){return this.state},m.prototype.destroy=function(){var a,c=b[p].lookup;i(this),this.$wrapper.remove(),delete c[this.index],a=b.grep(c,function(a){return!!a}).length,0===a&&(this.$overlay.remove(),this.$bg.removeClass(k("is",u.CLOSING)+" "+k("is",u.OPENING)+" "+k("is",u.CLOSED)+" "+k("is",u.OPENED)))},b[p]={lookup:[]},b.fn[p]=function(a){var c,d;return this.each(function(e,f){d=b(f),null==d.data(p)?(c=new m(d,a),d.data(p,c.index),c.settings.hashTracking&&d.attr("data-remodal-id")===location.hash.substr(1)&&c.open()):c=b[p].lookup[d.data(p)]}),c},b(document).ready(function(){b(document).on("click","[data-remodal-target]",function(a){a.preventDefault();var c=a.currentTarget,d=c.getAttribute("data-remodal-target"),e=b('[data-remodal-id="'+d+'"]');b[p].lookup[e.data(p)].open()}),b(document).find("."+q).each(function(a,c){var d=b(c),e=d.data("remodal-options");e?("string"==typeof e||e instanceof String)&&(e=j(e)):e={},d[p](e)}),b(document).on("keydown."+q,function(a){n&&n.settings.closeOnEscape&&n.state===u.OPENED&&27===a.keyCode&&n.close()}),b(window).on("hashchange."+q,l)})});
/**
 * Copyright (C) 2017 Kyle Florence
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation; either version 2
 * of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
 *
 * @website https://github.com/kflorence/jquery-deserialize/
 * @version 2.0.0-rc1
 *
 * Dual licensed under the MIT and GPLv2 licenses.
 */
(function( factory ) {
  if ( typeof module === "object" && module.exports ) {
    // Node/CommonJS
    module.exports = factory( require( "jquery" ) );

  } else {
    factory( window.jQuery );
  }
}(function( $ ) {

  function updateKeyValueArray( prop, value, obj ) {
    var current = obj[ prop ];

    if ( current === undefined ) {
      obj[ prop ] = [ value ];

    } else {
      current.push( value );
    }

    return obj;
  }

  function getFieldsByName( $elements, filter ) {
    var elementsByName = {};

    var fields = $elements
      .map(function convertFormToElements() {
        return this.elements ? $.makeArray( this.elements ) : this;
      })
      .filter( filter || ":input" )
      .get();

    $.each( fields, function( index, field ) {
      updateKeyValueArray( field.name, field, elementsByName );
    });

    return elementsByName;
  }

  function getElementType( element ) {
    return ( element.type || element.nodeName ).toLowerCase();
  }

  function normalizeData( data ) {
    var normalized = {};
    var rPlus = /\+/g;

    if ( $.isPlainObject( data ) ) {
      $.extend( normalized, data );

      $.each( normalized, function( name, value ) {
        if ( !$.isArray( value ) ) {
          normalized[ name ] = [ value ];
        }
      });

    } else if ( $.isArray( data ) ) {
      $.each( data, function( index, field ) {
        updateKeyValueArray( field.name, field.value, normalized );
      });

    } else if ( typeof data === "string" ) {
      $.each( data.split( "&" ), function( index, field ) {
        var current = field.split( "=" );
        var name = decodeURIComponent( current[ 0 ].replace( rPlus, "%20" ) );
        var value = decodeURIComponent( current[ 1 ].replace( rPlus, "%20" ) );
        updateKeyValueArray( name, value, normalized );
      });
    }

    return normalized;
  }

  var updateTypes = {
    checked: [
      "radio",
      "checkbox"
    ],
    selected: [
      "option",
      "select-one",
      "select-multiple"
    ],
    value: [
      "button",
      "color",
      "date",
      "datetime",
      "datetime-local",
      "email",
      "hidden",
      "month",
      "number",
      "password",
      "range",
      "reset",
      "search",
      "submit",
      "tel",
      "text",
      "textarea",
      "time",
      "url",
      "week"
    ]
  };

  function getPropertyToUpdate( element ) {
    var type = getElementType( element );
    var elementProperty = undefined;

    $.each( updateTypes, function( property, types ) {
      if ( $.inArray( type, types ) > -1 ) {
        elementProperty = property;
        return false;
      }
    });

    return elementProperty;
  }

  function update( element, elementIndex, value, valueIndex, callback ) {
    var property = getPropertyToUpdate( element );

    if ( property == "value" && elementIndex == valueIndex ) {
      element.value = value;
      callback.call( element, value );

    } else if ( property == "checked" || property == "selected" ) {
      var fields = [];

      if ( element.options ) {
        $.each( element.options, function( index, option ) {
          fields.push( option );
        });

      } else {
        fields.push( element );
      }

      if ( element.multiple && valueIndex == 0 ) {
        element.selectedIndex = -1;
      }

      $.each( fields, function( index, field ) {
        if ( field.value == value ) {
          field[ property ] = true;
          callback.call( field, value );
        }
      });
    }
  }

  var defaultOptions = {
    change: $.noop,
    complete: $.noop
  };

  $.fn.deserialize = function( data, options ) {

    if ( $.isFunction( options ) ) {
      options = { complete: options };
    }

    options = $.extend( defaultOptions, options || {} );
    data = normalizeData( data );

    var elementsByName = getFieldsByName( this, options.filter );

    $.each( data, function( name, values ) {
      $.each( elementsByName[ name ], function( elementIndex, element ) {
        $.each( values, function( valueIndex, value ) {
          update( element, elementIndex, value, valueIndex, options.change );
        });
      });
    });

    options.complete.call( this );

    return this;
  };
}));
function utoa(str){return window.btoa(unescape(encodeURIComponent(str)));}
function atou(str){return decodeURIComponent(escape(window.atob(str)));}

/*  
!function(n){n.fn.readingTime=function(e){const t=n(this);let i,r,a,s,u,g,l,m,o;this.settings=n.extend({},{readingTimeTarget:".eta",readingTimeAsNumber:!1,wordCountTarget:null,wordsPerMinute:270,round:!0,lang:"en",lessThanAMinuteString:"",prependTimeString:"",prependWordString:"",remotePath:null,remoteTarget:null,success:function(){},error:function(){}},e);const d=this.settings,T=function(e){""!==e.text?(s=e.text.trim().split(/\s+/g).length,i=d.wordsPerMinute/60,u=s/i,g=Math.floor(u/60),l=Math.round(u-60*g),m=`${g}:${l}`,d.round?g>0?n(d.readingTimeTarget).text(d.prependTimeString+g+(d.readingTimeAsNumber?"":" "+a)):n(d.readingTimeTarget).text(d.readingTimeAsNumber?g:d.prependTimeString+r):n(d.readingTimeTarget).text(d.prependTimeString+m),""!==d.wordCountTarget&&void 0!==d.wordCountTarget&&n(d.wordCountTarget).text(d.prependWordString+s),o={wpm:d.wordsPerMinute,words:s,eta:{time:m,minutes:g,seconds:u}},d.success.call(this,o)):d.error.call(this,{error:"The element does not contain any text"})};return this.length?("ar"==d.lang?(r=d.lessThanAMinuteString||"أقل من دقيقة",a="دقيقة"):"cz"==d.lang?(r=d.lessThanAMinuteString||"Méně než minutu",a="min"):"da"==d.lang?(r=d.lessThanAMinuteString||"Mindre end et minut",a="min"):"de"==d.lang?(r=d.lessThanAMinuteString||"Weniger als eine Minute",a="min"):"es"==d.lang?(r=d.lessThanAMinuteString||"Menos de un minuto",a="min"):"fr"==d.lang?(r=d.lessThanAMinuteString||"Moins d'une minute",a="min"):"hu"==d.lang?(r=d.lessThanAMinuteString||"Kevesebb mint egy perc",a="perc"):"is"==d.lang?(r=d.lessThanAMinuteString||"Minna en eina mínútu",a="min"):"it"==d.lang?(r=d.lessThanAMinuteString||"Meno di un minuto",a="min"):"nl"==d.lang?(r=d.lessThanAMinuteString||"Minder dan een minuut",a="min"):"no"==d.lang?(r=d.lessThanAMinuteString||"Mindre enn ett minutt",a="min"):"pl"==d.lang?(r=d.lessThanAMinuteString||"Mniej niż minutę",a="min"):"ru"==d.lang?(r=d.lessThanAMinuteString||"Меньше минуты",a="мой"):"sk"==d.lang?(r=d.lessThanAMinuteString||"Menej než minútu",a="min"):"sv"==d.lang?(r=d.lessThanAMinuteString||"Mindre än en minut",a="min"):"tr"==d.lang?(r=d.lessThanAMinuteString||"Bir dakikadan az",a="dk"):(r=d.lessThanAMinuteString||"Less than a minute",a="min"),t.each(function(e){null!=d.remotePath&&null!=d.remoteTarget?n.get(d.remotePath,function(e){T({text:n("<div>").html(e).find(d.remoteTarget).text()})}):T({text:t.text()})}),!0):(d.error.call(this,{error:"The element could not be found"}),this)}}(jQuery);*/
function dec2hex(dec){return ('0'+dec.toString(16)).substr(-2)}
function generateId(len){var arr=new Uint8Array((len||40)/2);if(window.crypto){window.crypto.getRandomValues(arr);return Array.from(arr,dec2hex).join('')}else{return ''}}

;
/*! Lazy Load 2.0.0-rc.2 - MIT license - Copyright 2007-2019 Mika Tuupola */
!function(t,e){"object"==typeof exports?module.exports=e(t):"function"==typeof define&&define.amd?define([],e):t.LazyLoad=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";function e(t,e){this.settings=s(r,e||{}),this.images=t||document.querySelectorAll(this.settings.selector),this.observer=null,this.init()}"function"==typeof define&&define.amd&&(t=window);const r={src:"data-src",srcset:"data-srcset",selector:".lazyload",root:null,rootMargin:"0px",threshold:0},s=function(){let t={},e=!1,r=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],r++);for(;r<o;r++)!function(r){for(let o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e&&"[object Object]"===Object.prototype.toString.call(r[o])?t[o]=s(!0,t[o],r[o]):t[o]=r[o])}(arguments[r]);return t};if(e.prototype={init:function(){if(!t.IntersectionObserver)return void this.loadImages();let e=this,r={root:this.settings.root,rootMargin:this.settings.rootMargin,threshold:[this.settings.threshold]};this.observer=new IntersectionObserver(function(t){Array.prototype.forEach.call(t,function(t){if(t.isIntersecting){e.observer.unobserve(t.target);let r=t.target.getAttribute(e.settings.src),s=t.target.getAttribute(e.settings.srcset);"img"===t.target.tagName.toLowerCase()?(r&&(t.target.src=r),s&&(t.target.srcset=s)):t.target.style.backgroundImage="url("+r+")"}})},r),Array.prototype.forEach.call(this.images,function(t){e.observer.observe(t)})},loadAndDestroy:function(){this.settings&&(this.loadImages(),this.destroy())},loadImages:function(){if(!this.settings)return;let t=this;Array.prototype.forEach.call(this.images,function(e){let r=e.getAttribute(t.settings.src),s=e.getAttribute(t.settings.srcset);"img"===e.tagName.toLowerCase()?(r&&(e.src=r),s&&(e.srcset=s)):e.style.backgroundImage="url('"+r+"')"})},destroy:function(){this.settings&&(this.observer.disconnect(),this.settings=null)}},t.lazyload=function(t,r){return new e(t,r)},t.jQuery){const r=t.jQuery;r.fn.lazyload=function(t){return t=t||{},t.attribute=t.attribute||"data-src",new e(r.makeArray(this),t),this}}return e});;
$.fn.trackProductVariants=function(){var a=$(this);if(FloxSettings.glami){a.trackGlamiPixelProductVariants("ViewContent")}if(FloxSettings.fbremarket){a.trackFBremarketProductVariants("ViewContent")}if(FloxSettings.sklik){a.trackSklikProductVariants("offerdetail")}if(FloxSettings.adwords){a.trackAdwordsProductVariants(FloxSettings.adwords.page_type)}if(FloxSettings.gtg){a.trackGTGProductVariants("product")}if(FloxSettings.etarget){a.trackEtargetProductVariants()}trackAnalyticsPageview();a.customTrackProductVariants()};$.fn.trackAddToCart=function(){var a=$(this);if(FloxSettings.glami){a.trackGlamiPixelProductVariants("AddToCart")}if(FloxSettings.fbremarket){a.trackFBremarketProductVariants("AddToCart")}if(FloxSettings.sklik){}if(FloxSettings.adwords){a.trackAdwordsProductVariants("conversionintent")}if(FloxSettings.gtg){a.trackGTGProductVariants("conversionintent")}if(FloxSettings.etarget){}a.customTrackAddToCart()};$.fn.customTrackProductVariants=function(){};$.fn.customTrackAddToCart=function(){};$.fn.getItemIds=function(b,d){var c=$(this),a;if(c.attr("data-variants-id")){a=c.attr("data-product-id")+"_"+c.attr("data-variants-id")}else{a=c.attr("data-product-id")}if(typeof d!=="undefined"&&d===1){return a}else{if(b==="AddToCart"||b==="conversionintent"){if($.inArray(a,FloxSettings.trackerData.cartIds)===-1){FloxSettings.trackerData.cartIds.push(a)}return FloxSettings.trackerData.cartIds}else{return[a]}}};$.fn.getPrice=function(a){var b=$(this),c=b.attr("data-value");return parseFloat(c)};function hasVariants(a){return a.some(function(b){if(b){return b.includes("_")}else{return false}})}$.fn.trackGlamiPixelProductVariants=function(a){var b=$(this);if(!FloxSettings.glami.init){(function(j,c,g,e,d,k,l){j.GlamiTrackerObject=d;j[d]=j[d]||function(){(j[d].q=j[d].q||[]).push(arguments)};k=c.createElement(g),l=c.getElementsByTagName(g)[0];k.async=1;k.src=e;l.parentNode.insertBefore(k,l)})(window,document,"script","//www.glami."+FloxSettings.glami.lang_code+"/js/compiled/pt.js","glami");glami("create",FloxSettings.glami.apikey,FloxSettings.glami.lang_code);FloxSettings.glami.init=true}glami("track",a,{item_ids:b.getItemIds(a),content_type:"product",value:b.getPrice(a),currency:FloxSettings.currency})};$.fn.trackFBremarketProductVariants=function(c){var d=$(this);if(!FloxSettings.fbremarket.init){!function(k,g,l,h,m,i,j){if(k.fbq){return}m=k.fbq=function(){m.callMethod?m.callMethod.apply(m,arguments):m.queue.push(arguments)};if(!k._fbq){k._fbq=m}m.push=m;m.loaded=!0;m.version="2.0";m.queue=[];i=g.createElement(l);i.async=!0;i.src=h;j=g.getElementsByTagName(l)[0];j.parentNode.insertBefore(i,j)}(window,document,"script","//connect.facebook.net/en_US/fbevents.js");fbq("init",FloxSettings.fbremarket.apikey);FloxSettings.fbremarket.init=true}var a=d.getItemIds(c);var b="product";fbq("track",c,{content_ids:a,content_type:b,value:d.getPrice(c),currency:FloxSettings.currency})};$.fn.trackSklikProductVariants=function(a){var c=$(this);var b=c.getItemIds(a,1);var d=a;document.createElement("img").src="//c.imedia.cz/retargeting?id="+FloxSettings.sklik.seznam_retargeting_id+"&url="+encodeURIComponent(location.href)};$.fn.trackAdwordsProductVariants=function(c){var f=$(this);if(FloxSettings.adwords.gtag){window.dataLayer=window.dataLayer||[];function g(){dataLayer.push(arguments)}g("event",c,{value:f.getPrice(c),items:f.getItemIds(c,1),currency:FloxSettings.currency})}else{var b={};b[FloxSettings.adwords.prefix+"prodid"]=f.getItemIds(c,1);b[FloxSettings.adwords.prefix+"pagetype"]=FloxSettings.adwords.page_type;b[FloxSettings.adwords.prefix+"totalvalue"]=f.getPrice(c);var a=FloxSettings.adwords.conversion_id;var e=window.google_tag_params;var d=true;document.createElement("script").src="//www.googleadservices.com/pagead/conversion.js"}};$.fn.trackGTGProductVariants=function(a){var b=$(this);window.dataLayer=window.dataLayer||[];dataLayer.push({event:a,pageType:a,value:b.getPrice(a),currency:FloxSettings.currency,contentIds:b.getItemIds(a)})};$.fn.trackEtargetProductVariants=function(){var b=$(this);if(FloxSettings.etarget.cookie){function a(e){this.pr="etargetTimedX";var d=e.split("-");this.nd=d[0];this.id=d[1];this.sc=function(){var f=new Date();f.setTime(f.getTime()+1800000);document.cookie=this.pr+this.nd+this.id+"=1; expires="+f.toGMTString()+"; path=/"},this.gc=function(){return(document.cookie.indexOf(this.pr+this.nd+this.id+"=1")>-1)},this.go=function(){this.c=this.gc();if(!this.c){this.sc();this.scr=document.createElement("script");document.body.appendChild(this.scr);this.scr.async=true;var f=(("https:"==document.location.protocol)?"https://":"http://");this.scr.src=f+this.nd+".search.etargetnet.com/rt.php?z="+this.id}},this.go()}setTimeout(function(){a(FloxSettings.etarget.retargeting_id)},5000)}else{var c=document.createElement("script");c.setAttribute("async","true");c.type="text/javascript";c.src="//"+FloxSettings.etarget.lang+".search.etargetnet.com/j/?h="+FloxSettings.etarget.retargeting_id;((document.getElementsByTagName("head")||[null])[0]||document.getElementsByTagName("script")[0].parentNode).appendChild(c)}};function trackAnalyticsPageview(){if(FloxSettings.ga){FloxSettings.ga.tracker.push(["_trackPageview",window.location.href]);if(typeof gau==="function"){gau("send","pageview")}}};;
$.fn.showValidationErrors=function(b){var a=$(this);a.find("label").each(function(){if($(this).hasClass("inputError")){$(this).removeClass("inputError");$(this).find("span.toolTip span.toolTipError").remove()}});a.find(".valErrors").hide().empty();a.find(".inputError .toolTipError").remove();a.find(".inputError").removeClass("inputError");if(a.find(".recaptchaV2").length>0){a.find(".recaptchaV2").each(function(){grecaptcha.reset(reCaptchaForms[$(this).attr("id")])})}$.each(b,function(d,e){var c=a.find('input[name="'+d+'"]');if(c.length>0&&c.attr("type")!=="radio"&&c.attr("type")!=="checkbox"){c.closest("label").addClass("inputError");c.siblings("span.toolTip").append('<span class="toolTipError">'+e+"</span>")}else{if(a.find(".valErrors").length===0){a.prepend('<div class="valErrors boxSimple" />')}a.find(".valErrors").show().append('<p class="boxError">'+e+"</p>")}})};$.fn.hideValidationErrors=function(){var a=$(this);a.find(".valErrors").hide().empty()};$.fn.addValError=function(b,a){var c=$(this).find(".valErrors").last();c.parent().removeValError(a);c.append('<p class="boxError valErrorName'+a+'">'+b+"</p>")};$.fn.removeValError=function(a){var b=$(this).find(".valErrors").last();b.find(".valErrorName"+a).remove()};$.fn.errorFiltering=function(){var b=$(this);var a=b.closest("form");$("#slider .valErrors").hide();a.find(".inputError > input,.inputError > textarea").each(function(){var c=$(this).attr("name");b.find(".valErrorName"+c).remove()})};$.fn.changeProductPrice=function(product_id,lang_id,currency_id){var form=$(this),variants=[];form.find('select[name^="variant"],input:radio[name^="variant"]:checked').each(function(){if($(this).val().trim().length){variants.push($(this).val())}});form.find(".productCombinations .productCombText > input:radio:checked").each(function(){$(this).siblings(".productCombVariantList").children("li").each(function(){if($(this).attr("data-vid").trim().length){variants.push($(this).attr("data-vid"))}})});var vars=variants.join("_");$.get("/erp/frontend_asynch/prices/getPrice/"+product_id+"/"+lang_id+"/"+currency_id+"/"+vars+"/",function(data){var xData=eval("("+data+")");form.attr("data-value",xData.final_price);form.attr("data-variants-id",vars);$(".priceValueNumber").html(xData.curried_final_price);$(".priceTaxValueNumber").html(xData.curried_taxed_final_price);if(xData.has_discount){$(".hasDiscount").show();$(".discountValue").html(xData.curried_discount);$(".discountTaxValue").html(xData.curried_taxed_discount);$(".beforeDiscountValue").html(xData.curried_price_before);$(".beforeDiscountTaxValue").html(xData.curried_taxed_price_before);$(".discountPercent").html(xData.percent_discount+"%")}else{$(".hasDiscount").hide()}$(".unitPriceValueNumber").html(xData.curried_unit_price);$(".unitPriceTaxValueNumber").html(xData.curried_taxed_unit_price);$("#product-indicators > .indicators > .indicator").hide();if(xData.indicators_list.length>0){for(var j in xData.indicators_list){var currentInd=xData.indicators_list[j];var exist=$("#p"+product_id+"i"+currentInd.indicator_id);if(exist.length>0){exist.show()}else{if(currentInd.file.length>0){$('<img alt="'+currentInd.title+'" src="/resize/e/200/25'+currentInd.file+'" id="p'+product_id+"i"+currentInd.indicator_id+'" class="indicator" title="'+currentInd.note+'" >').appendTo($("#product-indicators > .indicators"))}else{$('<span id="p'+product_id+"i"+currentInd.indicator_id+'" class="indicator" title="'+currentInd.note+'" />').appendTo($("#product-indicators > .indicators")).html(currentInd.title);if(currentInd.color.length>0){$("#p"+product_id+"i"+currentInd.indicator_id).css("background-color",currentInd.color).css("color","#fff")}else{$("#p"+product_id+"i"+currentInd.indicator_id).css("background-color","transparent").css("color","#000")}}}}}if(xData.has_wh_status){if(xData.wh_status_file){$("#warehouse-status").css("color",xData.wh_status_color).attr("title",xData.wh_status_note).html('<img src="/resize/e/200/25/'+xData.wh_status_file+'" alt="'+xData.wh_status_name+'">')}else{$("#warehouse-status").css("color",xData.wh_status_color).attr("title",xData.wh_status_note).html(xData.wh_status_name)}$("#warehouse-status-cont").show();if(xData.wh_status_allow_order&&!xData.cart_hidden){$("#cart-allowed").show()}else{$("#cart-allowed").hide()}if(xData.wh_status_delivery_date){$("#warehouse-dd").text(xData.wh_status_delivery_date);$("#warehouse-delivery-info").attr("title",$("#warehouse-delivery-info").attr("data-title")+xData.wh_status_order_deadline_datetime).show()}else{$("#warehouse-delivery-info").hide()}if(xData.cart_hidden){$("#product-detail .detailPriceInfo, #product-detail .pricingTable").hide()}else{$("#product-detail .detailPriceInfo, #product-detail .pricingTable").show()}}else{$("#cart-allowed").show();$("#warehouse-status-cont").hide()}if($("#warehouse-item-id").length>0){if(xData.warehouse_number&&xData.warehouse_number.length>0){$("#warehouse-item-id").show();$("#warehouse-number").html(xData.warehouse_number)}else{$("#warehouse-item-id").hide()}}if($("#product-identificator").length>0){if(xData.warehouse_ean&&xData.warehouse_ean.length>0){$("#product-identificator").show();$("#product-ean").html(xData.warehouse_ean)}else{$("#product-identificator").hide()}}if(xData.warehouse_image&&!xData.combinations){var image=$("#product-detail #product-image, #product-detail .productImage img").first(),newImage=xData.warehouse_image;if(image.length>0){if(image.is("#product-detail .productImage img")){newImage=xData.warehouse_image.replace("/400/400/","/250/300/")}if(image.attr("data-height")&&image.attr("data-width")){newImage=xData.warehouse_image.replace("/400/400/","/"+image.attr("data-width")+"/"+image.attr("data-height")+"/")}if(image.attr("data-flags")){newImage=newImage.replace("/resize/e/","/resize/"+image.attr("data-flags")+"/")}if(image.attr("src")!==newImage){image.fadeOut(300,function(){image.attr("src",newImage);image.fadeIn(300)});image.parent(".linkImage").attr("href",xData.warehouse_image.replace("/400/400/","/1200/1200/"));image.customProductDetailImageChange()}}}if($("#warehouse-item-quantity").length>0&&xData.quantity&&xData.quantity.length>0){$("#warehouse-item-quantity").html(xData.quantity);$("#warehouse-show-quantities").show()}else{$("#warehouse-show-quantities").hide()}var qdListCont=$(".quantDiscountsCont");if(qdListCont.length){if(Array.isArray(xData.quantity_discounts)&&!xData.quantity_discounts.length){qdListCont.hide()}else{qdListCont.show();var format=$(".quantDiscounts > .formatkeyCont"),qdList=$(".quantDiscounts");qdList.children().not(".formatkeyCont,.basicUnitPrice").remove();var qd2={},last=1,diff,end;for(var key in xData.quantity_discounts){diff=key-last;if(diff>1){end=key-1;qd2[last]=last+"-"+end}else{qd2[last]=last}last=key}qd2[last]=last;var last=1;for(var key in qd2){var newQD=format.clone();if(key==="1"){qdList.find(".QD_"+key+"_number").html(qd2[key])}else{newQD.find(".formatkey_number").removeClass("formatkey_number").addClass("QD_"+key+"_number").html(qd2[key]),newQD.find(".formatkey").removeClass("formatkey").addClass("QD_"+key).html(xData.quantity_discounts[key]);newQD.removeClass("invisible formatkeyCont").appendTo(qdList)}last=key}if(last>1){qdList.find(".QD_more").not(".formatkeyCont .QD_more,.basicUnitPrice .QD_more").each(function(){var el=$(this);if(el.closest(".QD_text").find(".QD_"+last+"_number").length===0){el.remove()}})}}}if(xData.combinations){for(var key in xData.combinations){var comb=xData.combinations[key],combCont=$("#comb-"+comb.item_key);combCont.find(".priceCombValueNumber").html(comb.pricing.curried_final_price);combCont.find(".priceCombTaxValueNumber").html(comb.pricing.curried_taxed_final_price);if(comb.pricing.has_discount){combCont.find(".hasCombDiscount").show();combCont.find(".discountCombValue").html(comb.pricing.curried_discount);combCont.find(".discountCombTaxValue").html(comb.pricing.curried_taxed_discount);combCont.find(".beforeDiscountCombValue").html(comb.pricing.curried_price_before);combCont.find(".beforeDiscountCombTaxValue").html(comb.pricing.curried_taxed_price_before);combCont.find(".discountCombPercent").html(comb.pricing.discount_percent+"%")}else{combCont.find(".hasCombDiscount").hide()}combCont.find(".unitPriceCombValueNumber").html(comb.pricing.curried_unit_price);combCont.find(".unitPriceCombTaxValueNumber").html(comb.pricing.curried_taxed_unit_price)}}form.trackProductVariants()})};$.fn.customProductDetailImageChange=function(){};$.fn.productDetailCombinations=function(){var a=$(this);a.find(".productCombName input").each(function(){$(this).on("change",function(d){var b=$(this),c=b.closest(".productComb"),e=b.closest("#product-detail"),f=e.find("#product-image, .productImage img");a.createDetailUrl();c.closest(".productCombList").children(".productComb").removeClass("selected");c.addClass("selected");if(c.attr("data-comb-image")&&f.attr("src")!==c.attr("data-comb-image")){f.fadeOut(300,function(){f.attr("src",c.attr("data-comb-image"));f.fadeIn(300)});f.parent(".linkImage").attr("href",c.attr("data-comb-image-big"))}})})};$.fn.productDetailVariants=function(){var a=$(this);a.find(".productVariantValue").on("change",function(){a.createDetailUrl()})};$.fn.createDetailUrl=function(){var d=$(this),a=d.getDetailVariants(),e=$("title").first().text()+" ",f=e.slice(0,e.lastIndexOf(" - "))+" - ",b="?";for(var c in a){b+=a[c].name+"="+a[c].value+"&";f+=a[c].variant_title+": "+a[c].value_title+", "}b=b.slice(0,-1);f=f.slice(0,-2);History.pushState(a,f,b)};$.fn.getDetailVariants=function(){var b=$(this),a=new Array();b.find("select.productVariantValue").each(function(){var c=$(this);a.push({id:c.attr("id"),name:c.attr("name"),value:c.val(),value_title:c.find('option[value="'+c.val()+'"]').first().attr("title"),variant_title:c.closest(".productVariant").find(".productVariantTitle").first().text()})});b.find("input.productVariantValue:radio:checked").each(function(){var c=$(this);a.push({id:c.attr("data-id"),name:c.attr("name"),value:c.val(),value_title:c.attr("title"),variant_title:c.closest(".productVariant").find(".productVariantTitle").first().text()})});b.find(".productCombinations .productCombText > input:radio:checked").each(function(){var c=$(this),d=c.siblings(".productCombVariantList");d.children("li").each(function(){var e=$(this);a.push({id:e.attr("data-key"),name:"variant["+e.attr("data-key")+"]",value:e.attr("data-vid"),value_title:e.children("span.variantValue").text(),variant_title:e.children("span.variantName").text()})})});return a};$.fn.setDetailVariants=function(a){var d=$(this);if(a.length>0){for(var c in a){var b=$('.productVariantValue[name="'+a[c].name+'"]');if(b.first().is("select")){b.first().val(a[c].value).trigger("chosen:updated")}else{if(b.first().is("input:radio")){b.filter("[value="+a[c].value+"]").prop({checked:true})}}}}else{d.find("select.productVariantValue").each(function(){$(this)[0].selectedIndex=0;$(this)[0].trigger("chosen:updated")});d.find("input:radio.productVariantValue").prop({checked:false})}d.find(".productForm").refreshVariantPrice()};$.fn.refreshVariantPrice=function(){var d=$(this);var c=d.attr("data-product-id");var b=d.attr("data-lang-id");var a=d.attr("data-currency-id");d.changeProductPrice(c,b,a)};$.fn.rateProduct=function(){var c=$(this),d=c.closest(".productRating"),b=d.attr("data-pid"),a="/e/products/rateProduct/"+b+"/"+c.rateit("value"),e=$("#product-rating");$.get(a,function(g){if(g.success===true){var f=e.parent();if(e.length>0){e.rateit("value",g.data.rating);f.find(".ratingNumber").html(g.data.rating);f.find(".ratingReviewCount").html(g.data.count)}else{f.find(".norateit").remove();f.append('<span class="rateit" data-rateit-readonly="true" data-rateit-min="0" data-rateit-step="1" data-rateit-value="'+g.data.rating+'" data-rateit-resetable="true" data-rateit-ispreset="true" id="product-rating"></span><span><strong class="ratingNumber">'+g.data.rating+'</strong>/5 (<span class="ratingReviewCount">'+g.data.count+"</span>x)</span>");f.find("#product-rating").rateit()}}},"json")};var reCaptchaForms={};var currentReCForm;function reCaptchaSubmit(a){if(currentReCForm){currentReCForm.get(0).submit()}}function regformRecaptchaSubmit(c){var b=currentReCForm;var a=b.attr("action")+"/1";b.sliderSubmit(a);currentReCForm=null}var captchaLoad=function(){if($(".recaptchaV2").length>0){$(".recaptchaV2").each(function(){var b=$(this);var a={};a.sitekey=b.attr("data-sitekey");a.theme=b.attr("data-theme");if(b.attr("data-size")==="invisible"){a.size=b.attr("data-size");a.badge=b.attr("data-badge");a.callback=b.attr("data-callback")}reCaptchaForms[$(this).attr("id")]=grecaptcha.render(b[0],a);if($(this).attr("id")!=="regform"&&b.attr("data-size")==="invisible"){b.closest("form").on("submit",function(d){d.preventDefault();var c=$(this);currentReCForm=c;grecaptcha.reset(reCaptchaForms[b.attr("id")]);grecaptcha.execute(reCaptchaForms[b.attr("id")])})}})}};$.fn.captchaLoadSpec=function(){if($(this).find(".recaptchaV2").length>0){$(this).find(".recaptchaV2").each(function(){var b=$(this);var a={};a.sitekey=b.attr("data-sitekey");if(b.attr("data-size")==="invisible"){a.size=b.attr("data-size");a.badge=b.attr("data-badge");a.callback=b.attr("data-callback")}if(!reCaptchaForms[$(this).attr("id")]){reCaptchaForms[$(this).attr("id")]=grecaptcha.render(b[0],a)}if($(this).attr("id")!=="regform"&&b.attr("data-size")==="invisible"){b.closest("form").on("submit",function(d){d.preventDefault();var c=$(this);currentReCForm=c;grecaptcha.reset(reCaptchaForms[b.attr("id")]);grecaptcha.execute(reCaptchaForms[b.attr("id")])})}})}};$.fn.recaptchaV3FormSubmit=function(){var b=$(this);if(b.attr("id")==="regform"||b.attr("id")==="basic-regform"){b.recaptchaV3RegFormSubmit()}else{var a=b.attr("data-sitekey"),d=b.attr("id").replace(/\D+/g,"").replace("-","_"),c=b.closest("form");c.on("submit",function(e){if(c.find('input[name="g-recaptcha-token"]').length){return}e.preventDefault();grecaptcha.ready(function(){grecaptcha.execute(a,{action:d}).then(function(f){c.prepend('<input type="hidden" name="g-recaptcha-token" value="'+f+'">');c.removeAttr("data-sentform");c.submit()})})})}};$.fn.recaptchaV3RegFormSubmit=function(){var b=$(this),a=b.attr("data-sitekey"),d=b.attr("id").replace(/\D+/g,"").replace("-","_"),c=b.closest("form");c.on("submit",function(e){if(c.find('input[name="g-recaptcha-token"]').length){c.find('input[name="g-recaptcha-token"]').remove()}e.preventDefault();grecaptcha.ready(function(){grecaptcha.execute(a,{action:d}).then(function(f){c.prepend('<input type="hidden" name="g-recaptcha-token" value="'+f+'">');c.removeAttr("data-sentform");c.sliderSubmit(c.attr("action")+"/1")})})})};$.fn.addressAdd=function(){var b=$(this);var d=b.closest("fieldset[id]");var a=d.attr("data-type");var c=(($("html").attr("data-lang")!==undefined)?$("html").attr("data-lang"):"")+"/e/account/showAddAddress/"+a+"/"+b.attr("data-address-selectable")+"/"+b.attr("data-address-editable");$(this).createSlider("address-"+a+"-add",c,0,0,function(e){e.find(".formAddress > form").submit(function(h){h.preventDefault();if(h.isPropagationStopped()){return}var g=$(this);var f=g.attr("action");var i=g.serialize()+"&ajax=1";g.sliderSubmit(f,i,function(j,l){d.find(".boxAddresses").append(l.html);var k=d.find(".boxAddress").last();k.addressBoxUpdate();e.sliderClose(function(m){m.html("")})})})})};$.fn.addressDelete=function(){var activator=$(this);if(confirm(activator.attr("data-confirm-text"))){var parent=activator.closest(".boxAddress");parent.append('<div class="loading1"></div>');$.post(activator.attr("href"),"ajax=1",function(data){data=eval("("+data+")");if(data.success){parent.remove()}})}};$.fn.addressEdit=function(){var b=$(this);var d=b.closest("fieldset[id]");var a=b.closest(".boxAddress");var c=(($("html").attr("data-lang")!==undefined)?$("html").attr("data-lang"):"")+"/e/account/showEditAddress/"+b.attr("data-address-id")+"/"+b.attr("data-address-selectable");$(this).createSlider("address-edit",c,1,0,function(e){e.find(".formAddress > form").submit(function(h){h.preventDefault();var g=$(this);var f=g.attr("action");var i=g.serialize()+"&ajax=1";g.sliderSubmit(f,i,function(j,k){a.addressBoxUpdate(k.html);e.sliderClose(function(l){l.html("")})})})})};$.fn.addressBoxUpdate=function(b){var a=$(this);if(b){a.before(b).remove()}a.find(".addressDelete").click(function(c){c.preventDefault();$(this).addressDelete()});a.find(".addressEdit").click(function(c){c.preventDefault();$(this).addressEdit()})};function changeTotal(){var form=$("form").serializeArray();var payment_id=$('#payment input[name="payment"]:checked').val();if(!payment_id){payment_id=0}var shipping_id=$('#shipping input[name="shipping"]:checked').val();if(!shipping_id){shipping_id=0}var refreshData={};$(".orderDisc").each(function(){var input=$(this);refreshData[input.attr("name")]=input.val()});$.post((($("html").attr("data-lang")!==undefined)?$("html").attr("data-lang"):"")+"/erp/frontend_asynch/order_ajax/refreshTotal/"+payment_id+"/"+shipping_id,refreshData,function(data){var xData=eval("("+data+")");if(xData.total_credits){$(".cartPriceTotal").html(xData.total+"<br>+"+xData.total_credits);if(xData.with_tax){$(".cartTaxedPriceTotal").html(xData.total_tax+"<br>+"+xData.total_credits)}}else{$(".cartPriceTotal").html(xData.total);if(xData.with_tax){$(".cartTaxedPriceTotal").html(xData.total_tax)}}if(xData.with_discount>0){$(".cartDiscount").show();$(".cartPriceDiscount").html("-"+xData.discount);$(".cartPriceWDiscount").html(xData.total_with_discount);$(".cartPriceTotal").parent(".cartPriceBox").removeClass("highlighted");$(".cartTaxedPriceTotal").parent(".cartPriceBox").removeClass("highlighted")}else{$(".cartDiscount").hide();if($(".cartTaxedPriceTotal").length>0){$(".cartTaxedPriceTotal").parent(".cartPriceBox").addClass("highlighted")}else{$(".cartPriceTotal").parent(".cartPriceBox").addClass("highlighted")}}var certificate_input=$('input[name="gift_certificate"]');certificate_input.changeCertificate(xData);var elemTable=$(".elemCartTable");if(elemTable.length>0){var highlightedTaxPrice=true;if($(".tableCart .cartTableItemPrice > strong").length>0){highlightedTaxPrice=false}elemTable.find(".shipping").remove();if(xData.shipping){var name=xData.shipping.name;var price=xData.shipping.curried_price;if(xData.with_tax){var taxed_price=xData.shipping.curried_price_tax;if(highlightedTaxPrice){elemTable.append('<tr class="shipping"><td class="tableItem tableItemLeft tableTitleCell tableItemWrap">'+name+'</td><td class="tableItem cartPlusMinus"></td><td class="tableItem cartTableItemPrice">'+price+'</td><td class="tableItem cartTableItemTaxedPrice"><strong>'+taxed_price+"</strong></td></tr>")}else{elemTable.append('<tr class="shipping"><td class="tableItem tableItemLeft tableTitleCell tableItemWrap">'+name+'</td><td class="tableItem cartPlusMinus"></td><td class="tableItem cartTableItemPrice"><strong>'+price+'</strong></td><td class="tableItem cartTableItemTaxedPrice">'+taxed_price+"</td></tr>")}}else{elemTable.append('<tr class="shipping"><td class="tableItem tableItemLeft tableTitleCell tableItemWrap">'+name+'</td><td class="tableItem cartPlusMinus"></td><td class="tableItem cartTableItemPrice"><strong>'+price+"</strong></td></tr>")}}elemTable.find(".payment").remove();if(xData.payment){var name=xData.payment.name;var price=xData.payment.curried_price;if(xData.with_tax){var taxed_price=xData.payment.curried_price_tax;if(highlightedTaxPrice){elemTable.append('<tr class="payment"><td class="tableItem tableItemLeft tableTitleCell tableItemWrap">'+name+'</td><td class="tableItem cartPlusMinus"></td><td class="tableItem cartTableItemPrice">'+price+'</td><td class="tableItem cartTableItemTaxedPrice"><strong>'+taxed_price+"</strong></td></tr>")}else{elemTable.append('<tr class="payment"><td class="tableItem tableItemLeft tableTitleCell tableItemWrap">'+name+'</td><td class="tableItem cartPlusMinus"></td><td class="tableItem cartTableItemPrice"><strong>'+price+'</strong></td><td class="tableItem cartTableItemTaxedPrice">'+taxed_price+"</td></tr>")}}else{elemTable.append('<tr class="payment"><td class="tableItem tableItemLeft tableTitleCell tableItemWrap">'+name+'</td><td class="tableItem cartPlusMinus"></td><td class="tableItem cartTableItemPrice"><strong>'+price+"</strong></td></tr>")}}elemTable.find(".certificate").remove();if(certificate_input.length>0&&$.trim(certificate_input.val())!==""&&!xData.certificate_error){if(xData.with_tax){elemTable.append('<tr class="certificate"><td class="tableItem tableItemLeft tableTitleCell tableItemWrap">'+certificate_input.attr("placeholder")+'</td><td colspan="3" class="tableItem tableItemRight">'+certificate_input.val()+"</td></tr>")}else{elemTable.append('<tr class="certificate"><td class="tableItem tableItemLeft tableTitleCell tableItemWrap">'+certificate_input.attr("placeholder")+'</td><td colspan="2" class="tableItem tableItemRight">'+certificate_input.val()+"</td></tr>")}}elemTable.find(".autoround").remove();if(xData.autoround){if(xData.with_tax){elemTable.append('<tr class="autoround"><td colspan="3" class="tableItem tableItemLeft tableTitleCell tableItemWrap">'+elemTable.attr("data-autoround")+'</td><td class="tableItem cartTableItemPrice">'+xData.autoround+"</td></tr>")}else{elemTable.append('<tr class="autoround"><td colspan="2" class="tableItem tableItemLeft tableTitleCell tableItemWrap">'+elemTable.attr("data-autoround")+'</td><td class="tableItem cartTableItemPrice">'+xData.autoround+"</td></tr>")}}$(".partnerCards").each(function(){var card=$(this),errorFound=false,emptyInput=false;elemTable.find("."+card.attr("id")).remove();var cardData="";card.find(".orderDisc").each(function(){var cardInput=$(this);if(cardData!==""){cardData=cardData+", "}cardData=cardData+cardInput.val();if($.trim(cardInput.val())===""||(typeof xData.partner_cards!=="undefined"&&typeof xData.partner_cards[cardInput.attr("name")+"_error"]!=="undefined")){errorFound=true}if($.trim(cardInput.val())===""){emptyInput=true}});if(!errorFound){card.find(".toolTipError").remove();card.find("label").removeClass("inputError");if(xData.with_tax){elemTable.append('<tr class="'+card.attr("id")+'"><td class="tableItem tableItemLeft tableTitleCell tableItemWrap">'+card.find("legend").text()+'</td><td colspan="3" class="tableItem tableItemRight">'+cardData+"</td></tr>")}else{elemTable.append('<tr class="'+card.attr("id")+'"><td class="tableItem tableItemLeft tableTitleCell tableItemWrap">'+card.find("legend").text()+'</td><td colspan="2" class="tableItem tableItemRight">'+cardData+"</td></tr>")}}else{if(!emptyInput){card.find(".orderDisc").each(function(){var cardInput=$(this);if(typeof xData.partner_cards!=="undefined"&&typeof xData.partner_cards[cardInput.attr("name")+"_error"]!=="undefined"){cardInput.siblings("span.toolTip").find(".toolTipError").remove();cardInput.closest("label").removeClass("inputError");cardInput.closest("label").addClass("inputError");cardInput.siblings("span.toolTip").append('<span class="toolTipError">'+xData.partner_cards[cardInput.attr("name")+"_error"]+"</span>")}})}else{card.find(".toolTipError").remove();card.find("label").removeClass("inputError")}}})}})}$.fn.changeCertificate=function(b){var a=$(this);if(a.length>0&&$.trim(a.val())!==""){if(b.certificate_error){a.siblings("span.toolTip").find(".toolTipError").remove();a.closest("label").removeClass("inputError");a.closest("label").addClass("inputError");a.siblings("span.toolTip").append('<span class="toolTipError">'+b.certificate_error+"</span>")}else{a.siblings("span.toolTip").find(".toolTipError").remove();a.closest("label").removeClass("inputError")}}};$.fn.refreshShipPaym=function(){var type_changed=($(this).attr("id")==="payment")?1:0;var types=new Array("shipping","payment");var changedInputList=$("#"+types[type_changed]);var editInputList=$("#"+types[(type_changed+1)%2]);var changedIdSelected=changedInputList.find('input[name="'+types[type_changed]+'"]:checked').val();if(!changedIdSelected){changedIdSelected="0"}var editIdSelected=editInputList.find('input[name="'+types[(type_changed+1)%2]+'"]:checked').val();if(!editIdSelected){editIdSelected="0"}var country_code=$(this).getOrderCountry();var ajax_url=(($("html").attr("data-lang")!==undefined)?$("html").attr("data-lang"):"")+"/erp/frontend_asynch/order_ajax/"+types[type_changed]+"Change/"+changedIdSelected+"/"+editIdSelected+"/"+country_code;$.get(ajax_url,function(data){var xData=eval("("+data+")");editInputList.find('input[name="'+types[(type_changed+1)%2]+'"]').attr("disabled","disabled").closest(".radioLabel").addClass("disabled");$.each(xData,function(i,item){var input=editInputList.find('input[name="'+types[(type_changed+1)%2]+'"][value="'+item[types[(type_changed+1)%2]+"_id"]+'"]');input.removeAttr("disabled");var label=input.closest(".radioLabel");if(types[(type_changed+1)%2]==="payment"&&typeof item.bonuspro_id!=="undefined"){label.find(".orderPaymentPrice").html(item.curried_price)}label.removeClass("disabled").show()});editInputList.find('input[name="'+types[(type_changed+1)%2]+'"][disabled]').removeAttr("checked");changeTotal()})};$.fn.refreshOrderCountry=function(){var country_code=$(this).getOrderCountry();var shippings=$("#shipping");var selectedShipping=shippings.find('input[name="shipping"]:checked').val();if(typeof selectedShipping==="undefined"){selectedShipping="0"}var payments=$("#payment");var selectedPayment=payments.find('input[name="payment"]:checked').val();if(typeof selectedPayment==="undefined"){selectedPayment="0"}var ajax_url=(($("html").attr("data-lang")!==undefined)?$("html").attr("data-lang"):"")+"/erp/frontend_asynch/order_ajax/countryChange/"+selectedShipping+"/"+selectedPayment+"/"+country_code;$.get(ajax_url,function(data){var xData=eval("("+data+")");shippings.find(".radioLabel").hide().find('input[name="shipping"]').attr("disabled","disabled").closest(".radioLabel").addClass("disabled");shippings.find(".noShippingNote").show();$.each(xData.shippings,function(i,item){if(item.active==="1"){shippings.find('input[name="shipping"][value="'+item.shipping_id+'"]').removeAttr("disabled").closest(".radioLabel").removeClass("disabled").show();shippings.find(".noShippingNote").hide()}});shippings.find('input[name="shipping"][disabled]').removeAttr("checked");payments.find(".radioLabel").hide().find('input[name="payment"]').attr("disabled","disabled").closest(".radioLabel").addClass("disabled");payments.find(".noPaymentNote").show();$.each(xData.payments,function(i,item){var input=payments.find('input[name="payment"][value="'+item.payment_id+'"]');input.removeAttr("disabled");var label=input.closest(".radioLabel");if(typeof item.bonuspro_id!=="undefined"){label.find(".orderPaymentPrice").html(item.curried_price)}label.removeClass("disabled").show();payments.find(".noPaymentNote").hide()});payments.find('input[name="payment"][disabled]').removeAttr("checked");changeTotal();if(xData.shipping_change==="1"){shippings.closest("form").addValError(shippings.attr("data-country-change"),"country")}if(xData.payment_change==="1"){payments.closest("form").addValError(payments.attr("data-country-change"),"country")}if(xData.shipping_change==="1"||xData.payment_change==="1"){$.scrollTo(shippings.closest("form").find(".valErrors"),250)}else{payments.closest("form").removeValError("country")}})};$.fn.checkOrderCountry=function(){var c=$(this).getOrderCountry();var a=$("#diff-delivery-address").is(":checked");var b=c;if(a){if($("#delivery-address").not("#slider #delivery-address").length>0){b=$('#delivery-address .selectCountryInput[name="d_country"]').not("#slider .selectCountryInput").val()}else{b=$("#delivery-addresses .addressSelectable").not("#slider .addressSelectable").find("input:checked").attr("data-country-code")}}else{if($("#invoice-address").not("#slider #invoice-address").length>0){b=$('#invoice-address .selectCountryInput[name="country"]').not("#slider .selectCountryInput").val()}else{b=$("#invoice-addresses .addressSelectable").not("#slider .addressSelectable").find("input:checked").attr("data-country-code")}}if(b!==c){$(this).setOrderCountry(b);$(this).refreshOrderCountry()}};$.fn.getOrderCountry=function(){if($(this).closest("form").attr("data-country-code")===""){$(this).setOrderCountry("0")}return $(this).closest("form").attr("data-country-code")};$.fn.setOrderCountry=function(a){$(this).closest("form").attr("data-country-code",a)};$.fn.toggleCompany=function(){if($(this).val()==="company"){$(".formCompanyData").slideDown("slow");$(".formCompanyData input.jsInputDisabled").prop("disabled",false)}else{$(".formCompanyData").slideUp("slow");$(".formCompanyData input.jsInputDisabled").prop("disabled",true)}};function toggleDelivery(){if($("#diff-delivery-address").length>0){var a=$("#diff-delivery-address").is(":checked");if(a){$("#delivery-addresses").slideDown("slow",function(){$("#delivery-addresses input,#delivery-addresses select").removeAttr("disabled");$("#delivery-addresses select").each(function(){$(this).chosen("destroy");$(this).applySelectTransform()})})}else{$("#delivery-addresses input,#delivery-addresses select").attr("disabled","disabled");$("#delivery-addresses").slideUp("slow")}}}$.fn.checkVatID=function(){var input=$(this),vatid=input.val().replace(/\/|\.|\s+|\&/g,""),$time=Date.now||function(){return +new Date},url="/e/tax/verify?"+$time(),send_data="vat_id="+vatid;input.val(vatid);if($("html").attr("lang")){send_data+="&lang="+$("html").attr("lang")}input.val(vatid);if(vatid.trim()!==""){input.addClass("loadingInput");$.post(url,send_data,function(data){var data=eval("("+data+")");input.removeClass("loadingInput");if(data.success===true){input.closest("label").removeClass("inputError");input.siblings("span.toolTip").find(".toolTipError").remove()}else{input.closest("label").addClass("inputError");input.siblings("span.toolTip").find(".toolTipError").remove();input.siblings("span.toolTip").append('<span class="toolTipError">'+data.reason+"</span>")}})}else{input.closest("label").removeClass("inputError");input.siblings("span.toolTip").find(".toolTipError").remove()}};var updateCartCustom=function(a){};function updateCart(a){if($("#slider-cart").is(":visible")){$("#slider").hideValidationErrors();if(a.success==="partial"){$("#slider").showValidationErrors(a.err_fields)}}if($("#content .blockCart").length){$("#content .blockCart").hideValidationErrors();if(a.success==="partial"){$("#content .blockCart").showValidationErrors(a.err_fields)}}updateSmallCart(a);for(var b in a.items){var c=$("."+a.items[b].rowid);if(c.length===0){$(".tableScroll > .tableCart > tbody").each(function(){var e=$(this);var d=e.children("tr").first();d.clone().removeAttr("class").addClass(a.items[b].rowid).appendTo(e);c=$("."+a.items[b].rowid);if(c.find(".tableTitleCell > .fa-gift").length===0){c.find(".tableTitleCell").prepend('<i class="fa fa-gift" style="color:'+a.items[b].credits_color+'" title="Gift"></i>')}c.find(".tableTitleCell a").attr("href",a.items[b].link);c.find(".tableTitleCell a").not(".cartProductImage").text(a.items[b].name);if(a.items[b].image){if(a.items[b].image.startsWith("https://")){c.find(".cartProductImage img").attr("src","/resize/ers/58/58"+a.items[b].image.replace("https:/",""))}else{if(a.items[b].image.startsWith("http://")){c.find(".cartProductImage img").attr("src","/resize/er/58/58"+a.items[b].image.replace("http:/",""))}else{c.find(".cartProductImage img").attr("src","/resize/e/58/58"+a.items[b].image)}}}else{c.find(".cartProductImage").remove()}c.find(".cartPlusMinus").html(a.items[b].qty+'<input name="qty" type="hidden" value="'+a.items[b].qty+'">');c.find(".cartButtonRemove").remove()})}c.addClass("notDeleted");c.find("input.qty").val(a.items[b].qty);c.find("td.qty2").html(a.items[b].qty);if(a.items[b].bonus_item&&a.items[b].print_credits_subtotal){c.find("td.cartTableItemPrice").html(a.items[b].print_price+'<br><span style="color:'+a.items[b].credits_color+'">+'+a.items[b].print_credits_subtotal+"</span>");c.find("td.cartTableItemTaxedPrice").html("<strong>"+a.items[b].print_price_tax+'</strong><br><span style="color:'+a.items[b].credits_color+'">+'+a.items[b].print_credits_subtotal+"</span>")}else{c.find("td.cartTableItemPrice").html(a.items[b].print_price);c.find("td.cartTableItemTaxedPrice").html("<strong>"+a.items[b].print_price_tax+"</strong>")}}$(".tableCart > tbody > tr").each(function(){if(!$(this).hasClass("notDeleted")){$(this).remove()}else{$(this).removeClass("notDeleted")}});if(a.total_credits){$(".cartPriceTotal").html(a.total+"<br>+"+a.total_credits);$(".cartTaxedPriceTotal").html(a.total_tax+"<br>+"+a.total_credits)}else{$(".cartPriceTotal").html(a.total);$(".cartTaxedPriceTotal").html(a.total_tax)}if(a.discount_applied>0){$(".cartDiscount").show();$(".cartPriceDiscount").html("-"+a.discount);$(".cartPriceWDiscount").html(a.total_with_discount);$(".cartPriceTotal").parent(".cartPriceBox").removeClass("highlighted");$(".cartTaxedPriceTotal").parent(".cartPriceBox").removeClass("highlighted")}else{$(".cartDiscount").hide();if($(".cartTaxedPriceTotal").length>0){$(".cartTaxedPriceTotal").parent(".cartPriceBox").addClass("highlighted")}else{$(".cartPriceTotal").parent(".cartPriceBox").addClass("highlighted")}}if(a.free_shipping_indication){if(a.free_shipping_remaining>0){$(".cartFSIachieved").addClass("FSIhidden");$(".cartFSI").removeClass("FSIhidden")}else{$(".cartFSI").addClass("FSIhidden");$(".cartFSIachieved").removeClass("FSIhidden")}$(".FSIrem").html(a.free_shipping_remaining_curried);$(".FSIact").html(a.free_shipping_actual_curried);$(".FSIbar").each(function(){var f=$(this),e=parseInt(f.attr("width")),d=e*a.free_shipping_actual/a.free_shipping_limit;var g=f.find(".FSIanim");g.attr("from",g.attr("to")).attr("to",d);g[0].beginElement()})}changeTotal();updateCartCustom(a)}function updateSmallCart(b){var a=b.total;if(b.total_tax){a=b.total_tax}if(b.total_with_discount){a=b.total_with_discount}$(".smallCartPrice").html(a);$(".smallCartItems").html(b.total_pieces);if(b.total_pieces>0){$(".buttonCartInvisible").show();$(".buttonOrderInvisible").show()}else{$(".buttonCartInvisible").hide();$(".buttonOrderInvisible").hide()}}function cartBonusActivator(){setTimeout(function(){$(".cartBonus .formCartAdd").off("submit").on("submit",function(a){$(this).submitToCartCont(a)});$(".bxslider").equalHeight(".cartBonusProduct",1);$(".bxslider").activateSlider()},300)}$.fn.submitToCart=function(){var form=$(this);var formData=form.serialize();var clickBut=form.find('button[type="submit"][data-clicked="1"]');if(clickBut&&clickBut.attr("value")&&clickBut.attr("name")){formData=formData+"&"+clickBut.attr("name")+"="+clickBut.attr("value")}var urlAction=form.attr("action")+"/1";var cartLink=urlAction.substring(0,urlAction.indexOf("/e/cart"))+"/e/cart/index/1";var sliderOverlay=$("#slider-overlay");sliderOverlay.unbind("click");sliderOverlay.fadeIn("slow",null);sliderOverlay.showLoading();$.post(urlAction,formData,function(msg){var data=eval("("+msg+")");if(data.success!==undefined&&!data.success&&data.success!=="partial"){if(!form.is(".cartBonus .formCartAdd")){sliderOverlay.fadeOut("slow",null);sliderOverlay.hideLoading()}form.showValidationErrors(data.err_fields);form.enableSubmit()}else{form.hideValidationErrors();if(data.success==="partial"){$("#slider").hideValidationErrors()}updateSmallCart(data);form.createSlider("cart",cartLink,1,0,function(){if(data.success==="partial"){$("#slider").showValidationErrors(data.err_fields)}cartBonusActivator()},function(){form.enableSubmit()},1);if(typeof(Storage)!=="undefined"){noteReturnShopping()}if(data.plain_total&&FloxSettings.trackerData){form.attr("data-value",data.plain_total);form.trackAddToCart()}form.customSubmitToCart()}})};$.fn.submitToCartCont=function(a){a.preventDefault();if(a.isPropagationStopped()){return}$(this).submitToCart()};$.fn.customSubmitToCart=function(){};function noteReturnShopping(){var a=$("html").first().attr("data-lssid"),b={lssid:a,url:window.location.href};localStorage.setItem("floxReturnShopping",utoa(JSON.stringify(b)))}function getReturnShopping(){var a=localStorage.getItem("floxReturnShopping"),b=$("html").first().attr("data-lssid");if(a===null){return null}else{var c=JSON.parse(atou(a));if(b===c.lssid){return c.url}else{localStorage.removeItem("floxReturnShopping");return null}}}$.fn.anotationsProducts=function(){var a=$(this);a.each(function(){var b=$(this),d=b.find(".products"),c=d.children(".productListGrid,.productListList,.productListTable,.productListFGrid,.productListFList,.productListFTable").first();b.data("ogFilter",b.getAnotationsFilter({}));b.canLoadMoreProducts();if(!d.attr("data-column-count")&&c.attr("data-column-count")){d.attr("data-column-count",c.attr("data-column-count"))}if(d.attr("data-productlist-empty-filter-text")){c.attr("data-productlist-empty-filter-text",d.attr("data-productlist-empty-filter-text"))}if(d.attr("data-productlist-empty-text")){c.attr("data-productlist-empty-text",d.attr("data-productlist-empty-text"))}if(b.attr("data-category-id")&&b.attr("data-playlist-"+b.attr("data-category-id"))){c.updatePlaylistLink(b.attr("data-playlist-"+b.attr("data-category-id")))}b.find(".loadMoreProducts").on("click",function(i){i.preventDefault();var f=parseInt(b.attr("data-pagination-limit"))+parseInt(b.attr("data-per-page")),h={view_count:f},g=b.getAnotationsFilter({});b.createUrl($.extend({},g,h),true)});b.find(".pagination a").on("click",function(f){$(this).registerPaginationEvent(f,b)});b.find('input[name="view_style"]').on("change",function(i){var f=$(this).val(),h={view_style:f},g=b.getAnotationsFilter({});b.createUrl($.extend({},g,h),false)});b.find('select[name="view_sort"]').on("change",function(i){var f=$(this).val(),h={view_sort:f,view_count:parseInt(b.attr("data-per-page")),pagination_page:0},g=b.getAnotationsFilter({});b.continueLoading();b.createUrl($.extend({},g,h),false)});b.find('input[name="view_order_desc"]').on("change",function(i){var f=parseInt($(this).val()),h={view_order_desc:(this.checked)?f:0,view_count:parseInt(b.attr("data-per-page")),pagination_page:0},g=b.getAnotationsFilter({});b.continueLoading();b.createUrl($.extend({},g,h),false)});b.find('input[name="view_in_stock"]').on("change",function(i){var f=parseInt($(this).val()),h={view_in_stock:(this.checked)?f:0,view_count:parseInt(b.attr("data-per-page")),pagination_page:0},g=b.getAnotationsFilter({});b.continueLoading();b.createUrl($.extend({},g,h),false)});b.find('input[name="fulltext"]').on("keyup change",function(h){var f=$(this).val(),g={fulltext:f,view_count:parseInt(b.attr("data-per-page")),pagination_page:0};clearTimeout(window.fulltextTO);window.fulltextTO=setTimeout(function(){var e=b.getAnotationsFilter({});b.continueLoading();b.createUrl($.extend({},e,g),false)},500)}).on("keypress",function(f){if(f.keyCode==13){return false}});b.find(".priceFilterFrom > input,.priceFilterTo > input").on("keyup",function(){var e=$(this);clearTimeout(window.priceFilter2);window.priceFilter2=setTimeout(function(){var l=e.parent("label").siblings("label").first().find("input"),g,f,j,k;if(e.parent("label").hasClass("priceFilterFrom")){g=parseFloat(e.val());f=parseFloat(l.val())}else{g=parseFloat(l.val());f=parseFloat(e.val())}if(isNaN(g)){g=0}if(isNaN(f)){f=0}if(g<f){j=Math.round(g*100)/100;k=Math.round(f*100)/100}else{j=Math.round(f*100)/100;k=Math.round(g*100)/100}var i={price_from:j,price_to:k,view_count:parseInt(b.attr("data-per-page")),pagination_page:0},h=b.getAnotationsFilter({});b.continueLoading();b.createUrl($.extend({},h,i),false)},500)}).on("keypress",function(f){if(f.keyCode==13){return false}});b.registerVariantsEvents();if(b.find(".loadMoreProducts").length){$(window).scroll(function(){var h=b.find(".loadMoreProducts").first();var e=$(window).scrollTop();var f=e+$(window).height();var k=$(h).offset().top-200;var j=k+$(h).height();var m=false;if(b.attr("data-continue-loading")&&parseInt(b.attr("data-continue-loading"))>0){m=true}if(m&&b.attr("data-more-items")==="1"&&(j<=f)&&(k>=e)){b.attr("data-more-items","0");var l=parseInt(b.attr("data-pagination-limit"))+parseInt(b.attr("data-per-page")),i={view_count:l},g=b.getAnotationsFilter({});b.attr("data-continue-loading",parseInt(b.attr("data-continue-loading"))-1);b.createUrl($.extend({},g,i),true)}})}});History.Adapter.bind(window,"statechange",function(){var b=History.getState();if("id" in b.data){if($("#"+b.data.id).length){$("#"+b.data.id).getProducts(b.data)}}else{if(!Array.isArray(b.data)){a.each(function(){var c=$(this);if($.isEmptyObject(b.data)){b.data=c.data("ogFilter")}c.getProducts(b.data)})}}})};$.fn.updatePlaylistLink=function(b){var c=$(this),a=c.find(".productListItemJS");a.each(function(){var d=$(this);d.find(".productListLink").attr("href",d.attr("data-href")+"?pp="+b)})};$.fn.registerPaginationEvent=function(h,a){h.preventDefault();var g=$(this),d;if(g.hasClass("buttonPaginationFirst")){d=0}else{if(g.hasClass("buttonPaginationPrevious")){d=parseInt(a.attr("data-page"))+parseInt(a.attr("data-pagination-limit"))-parseInt(a.attr("data-per-page"))-parseInt(a.attr("data-per-page"))}else{if(g.hasClass("buttonPaginationNext")){d=parseInt(a.attr("data-page"))+parseInt(a.attr("data-pagination-limit"))-parseInt(a.attr("data-per-page"))+parseInt(a.attr("data-per-page"))}else{if(g.hasClass("buttonPaginationLast")){d=(parseInt(g.text())-1)*parseInt(a.attr("data-per-page"))}else{d=(parseInt(g.text())-1)*parseInt(a.attr("data-per-page"))}}}}var b=parseInt(a.attr("data-per-page")),f={view_count:b,pagination_page:d},c=a.getAnotationsFilter({});$.scrollTo(a.find(".products").first(),500);a.createUrl($.extend({},c,f),false)};$.fn.registerVariantsEvents=function(){var a=$(this);a.find(".searchform").find("select,input").not("input.chosen-search-input").on("change",function(){var c={view_count:parseInt(a.attr("data-per-page")),pagination_page:0,variant_filter:parseInt(a.attr("data-variant-filter"))+1},b=a.getAnotationsFilter();a.continueLoading();a.createUrl($.extend({},b,c),false)})};$.fn.continueLoading=function(){var a=$(this);if(a.attr("data-continue-loading-count")){a.attr("data-continue-loading",a.attr("data-continue-loading-count"))}};$.fn.createUrl=function(d,c){var a=$(this),e=$("head > title").first().text(),b="?view_style="+d.view_style;$.each(d,function(f,g){if(f!=="view_style"&&g!=="0"&&g!==0&&g!==""&&(typeof g!=="object")){b+="&"+f+"="+g}if(typeof g==="object"){$.each(g,function(h,i){b+="&"+f+"="+i})}});if(c){History.replaceState(d,e,b)}else{History.pushState(d,e,b)}trackAnalyticsPageview()};$.fn.getAnotationsFilter=function(d){var b=$(this),c={id:b.attr("id"),view_style:b.attr("data-type"),view_count:parseInt(b.attr("data-pagination-limit")),pagination_page:parseInt(b.attr("data-page"))};if(b.attr("data-fulltext")){c.fulltext=b.attr("data-fulltext")}if(b.attr("data-price-from")&&b.attr("data-price-to")){c.price_from=b.attr("data-price-from");c.price_to=b.attr("data-price-to")}if(b.attr("data-order-by")){c.view_sort=b.attr("data-order-by")}if(b.attr("data-order-desc")){c.view_order_desc=parseInt(b.attr("data-order-desc"))}if(b.attr("data-in-stock")){c.view_in_stock=parseInt(b.attr("data-in-stock"))}if(b.attr("data-variant-filter")){c.variant_filter=parseInt(b.attr("data-variant-filter"))}var a=b.find(".searchform").find("input,select").serializeObject();c=$.extend({},c,a);return c};$.fn.getOriginalAnotationsFilter=function(d){var b=$(this),c={id:b.attr("id"),view_style:b.attr("data-type"),view_count:parseInt(b.attr("data-pagination-limit")),pagination_page:parseInt(b.attr("data-page"))};if(b.attr("data-fulltext")){c.fulltext=b.attr("data-fulltext")}if(b.attr("data-price-from")&&b.attr("data-price-to")){c.price_from=b.attr("data-price-from");c.price_to=b.attr("data-price-to")}if(b.attr("data-order-by")){c.view_sort=b.attr("data-order-by")}if(b.attr("data-order-desc")){c.view_order_desc=parseInt(b.attr("data-order-desc"))}if(b.attr("data-in-stock")){c.view_in_stock=parseInt(b.attr("data-in-stock"))}if(b.attr("data-variant-filter")){c.variant_filter=parseInt(b.attr("data-variant-filter"))}var a=b.find(".searchform").find("input,select").serializeObject();c=$.extend({},c,a);return c};$.fn.setAnotationsFilter=function(b){var a=$(this);a.attr("data-type",b.view_style);if(a.attr("data-fulltext")){a.attr("data-fulltext",b.fulltext)}if(a.attr("data-price-from")&&a.attr("data-price-to")){a.attr("data-price-from",b.price_from);a.attr("data-price-to",b.price_to)}if(a.attr("data-order-by")){a.attr("data-order-by",b.view_sort)}if(a.attr("data-order-desc")){a.attr("data-order-desc",b.view_order_desc)}if(a.attr("data-in-stock")){a.attr("data-in-stock",b.view_in_stock)}a.attr("data-pagination-limit",b.view_count);a.attr("data-page",b.pagination_page);if(a.attr("data-variant-filter")){a.attr("data-variant-filter",b.variant_filter)}};$.fn.propertiesChanged=function(d,c,a){var b=true;$.each(d,function(e,f){if(d[e]!==c[e]){if($.inArray(e,a)===-1){b=false}}});return b};$.fn.loadProducts=function(c,h,e){var b=$(this),d=b.attr("data-category-id"),a=(($("html").attr("data-lang")!==undefined)?$("html").attr("data-lang"):"")+"/e/products/getProductsAsync/"+d,g=b.find(".products");if(b.attr("data-block-id")&&b.attr("data-use-block")==="1"){var f=b.attr("data-block-id");a=(($("html").attr("data-lang")!==undefined)?$("html").attr("data-lang"):"")+"/e/products/getBlockProductsAsync/"+f}if(b.attr("data-bonus-id")){var i=b.attr("data-bonus-id");a=(($("html").attr("data-lang")!==undefined)?$("html").attr("data-lang"):"")+"/e/bonus/getItemsAsync/"+i}g.productsLoadingStart(h);$.get(a,c,function(j){g.productsLoadingEnd(h);e(j)})};$.fn.loadAnnotations=function(c,j,h){var b=$(this),d=b.attr("data-category-id"),g=b.getAnotationsFilter({}),a=(($("html").attr("data-lang")!==undefined)?$("html").attr("data-lang"):"")+"/e/products/getAnnotationsAsync/"+d,i=b.find(".products"),f=b.find(".searchform"),l=b.find(".pagination");if(b.attr("data-block-id")&&b.attr("data-use-block")==="1"){var e=b.attr("data-block-id");a=(($("html").attr("data-lang")!==undefined)?$("html").attr("data-lang"):"")+"/e/products/getBlockAnnotationsAsync/"+e}if(b.attr("data-bonus-id")){var k=b.attr("data-bonus-id");a=(($("html").attr("data-lang")!==undefined)?$("html").attr("data-lang"):"")+"/e/bonus/getAnnotationsAsync/"+k}i.productsLoadingStart(j);$.get(a,c,function(n){i.productsLoadingEnd(j);h(n.products);var m=false;if(!n.pagination){b.find(".paginationContainer").addClass("invisible");n.pagination=$('<span class="pagination"></span>');m=true;b.attr("data-more-items","0")}else{b.find(".paginationContainer").removeClass("invisible")}l.each(function(){var o=$(this);o.hide().after(n.pagination);o.remove();b.find(".pagination a").on("click",function(p){$(this).registerPaginationEvent(p,b)});if(!m){b.canLoadMoreProducts()}});b.find(".productCountWord").text(n.countword);b.find(".productCount").text(n.count);if(c.variant_filter!==g.variant_filter){f.children().remove();$.each(n.filter,function(o,p){f.append(p)});b.registerVariantsEvents();f.find("select").each(function(){$(this).applySelectTransform()});f.customVariantFilterUpdate()}},"json")};$.fn.customProductListUpdate=function(){};$.fn.customGridProductListUpdate=function(){};$.fn.customListProductListUpdate=function(){};$.fn.customTableProductListUpdate=function(){};$.fn.loadPagination=function(e){var c=$(this),f=c.attr("data-category-id"),h=c.find(".products"),d=(($("html").attr("data-lang")!==undefined)?$("html").attr("data-lang"):"")+"/e/products/getPaginationAsync/"+f,b=c.find(".pagination");if(c.attr("data-pagin-block-id")){var g=c.attr("data-pagin-block-id"),d=(($("html").attr("data-lang")!==undefined)?$("html").attr("data-lang"):"")+"/e/products/getBlockPaginationAsync/"+g}if(c.attr("data-block-id")){var g=c.attr("data-block-id"),d=(($("html").attr("data-lang")!==undefined)?$("html").attr("data-lang"):"")+"/e/products/getBlockPaginationAsync/"+g}if(c.attr("data-bonus-id")){var a=c.attr("data-bonus-id"),d=(($("html").attr("data-lang")!==undefined)?$("html").attr("data-lang"):"")+"/e/bonus/getPaginationAsync/"+a}e=$.extend({},e,{pagination_page:e.pagination_page+e.view_count-parseInt(c.attr("data-per-page")),view_count:parseInt(c.attr("data-per-page"))});$.get(d,e,function(j){var i=false;if(!j.pagination){c.find(".paginationContainer").addClass("invisible");j.pagination=$('<span class="pagination"></span>');i=true;c.attr("data-more-items","0")}else{c.find(".paginationContainer").removeClass("invisible")}b.each(function(){var k=$(this);k.hide().after(j.pagination);k.remove();c.find(".pagination a").on("click",function(l){$(this).registerPaginationEvent(l,c)});if(!i){c.canLoadMoreProducts()}});c.find(".productCountWord").text(j.countword);c.find(".productCount").text(j.count)},"json")};$.fn.loadVariantFilter=function(d){var b=$(this),e=b.attr("data-category-id"),a=(b.attr("data-special-url")!==undefined)?b.attr("data-special-url"):"products",c=(($("html").attr("data-lang")!==undefined)?$("html").attr("data-lang"):"")+"/e/"+a+"/getFilterAsync/"+e,f=b.find(".searchform");$.get(c,d,function(g){f.children().remove();$.each(g,function(h,i){f.append(i)});b.registerVariantsEvents();f.find("select").each(function(){$(this).applySelectTransform()});f.customVariantFilterUpdate()},"json")};$.fn.customVariantFilterUpdate=function(){};$.fn.productsLoadingStart=function(c){var b=$(this),a=b.find(".productsLoadingOverlay").first();if(c){a=b.find(".productsLoadingAppend").first()}a.show();a.showLoading()};$.fn.productsLoadingEnd=function(c){var b=$(this),a=b.find(".productsLoadingOverlay").first();if(c){a=b.find(".productsLoadingAppend").first()}a.hide();a.hideLoading()};$.fn.canLoadMoreProducts=function(){var a=$(this),b=a.find(".paginationItem").last();if(b.children("a").length===1){a.find(".loadMoreProducts").show();a.find(".noMoreProducts").hide();a.attr("data-more-items","1")}else{a.find(".loadMoreProducts").hide();a.find(".noMoreProducts").show();a.attr("data-more-items","0")}};$.fn.showLoading=function(){var b=$(this);var a=b.find("img");if(a.length>0){a.show()}else{$('<img class="loadingImg" src="/erp-templates/skins/default/universal/img/loading.gif">').appendTo(b).attr("alt",b.attr("data-title")).attr("unselectable","on")}};$.fn.hideLoading=function(){var b=$(this);var a=b.find("img");a.hide()};$.fn.addXButton=function(a){if($(this).children(".closeButton").length===0){$(this).append('<span class="closeButton"><i class="fa fa-times"></i></span>');$(this).find(".closeButton").click(a)}};$.fn.createSlider=function(b,a,e,d,f,c){if($("#slider").children("#slider-"+b).length===0){$("#slider").append('<div id="slider-'+b+'" class="sliderContent" />')}$("#slider-"+b).sliderOpen(a,e,d,f,c)};$.fn.sliderOpen=function(f,a,g,b,i){var c=$(this);var h=c.attr("id").replace("slider-","");var d=$("#slider-overlay");if(!$("#slider").is(":hidden")){$(".sliderContent").hide();slideUp("#slider")}d.unbind("click");d.fadeIn("slow",null);c.saveScrollPosition();$.scrollTo(0,300);if(f&&(a||!$.trim(c.html()))){d.showLoading();$.get(f,function(j){d.hideLoading();c.html(j);if(j.length){c.find(".fieldset").addClass("fieldsetNoBG");c.defaultTransformations();c.find(".sliderDeactivator").click(i);c.sliderOpen(0,0,g,b,i)}})}else{if(!g){c.addXButton(function(){c.sliderClose(i)})}c.sliderHeightFixer(h);var e;$(window).bind("resize",function(){clearTimeout(e);e=setTimeout(function(){c.sliderHeightFixer(h)},50)});c.captchaLoadSpec();if(b&&typeof(b)==="function"){b(c)}c.show();if(navigator.userAgent.match(/(iPhone|iPod|iPad)/i)!==null){c.find("button,a.submit,a.button").removeClass("buttonCart")}$("#slider").fadeIn();if(!g){d.click(function(){c.sliderClose(i)})}}};$.fn.saveScrollPosition=function(){var b=$(this),a=b.attr("data-scroll-pos");if(!(typeof a!==typeof undefined&&a!==false)){b.attr("data-scroll-pos",$(window).scrollTop())}};$.fn.sliderClose=function(b){var a=$(this);slideUp("#slider");$("#slider-overlay").fadeOut("fast",function(){a.hide();if(b&&typeof(b)==="function"){b(a)}$(".scroller").removeClass("scroller");var c=a.attr("data-scroll-pos");if(typeof c!==typeof undefined&&c!==false){$.scrollTo(c,300);a.removeAttr("data-scroll-pos")}$(window).unbind("resize")})};$.fn.sliderSubmit=function(a,b,f){var c=$(this);var d=c.closest(".sliderContent");var e=c.serialize();if(b){e=b}$.post(a,e,function(g){if(g.success){if(f&&typeof(f)==="function"){f(c,g)}if(g.url){window.location.href=g.url}}else{d.hideLoading();c.showValidationErrors(g.err_fields);c.enableSubmit()}},"json")};$.fn.sliderHeightFixer=function(c){var b=$(this);var e=$(window).height();var d=0;var a=e;if(!c){c="basic"}switch(c){case"cart":b.find(".tableScroll").addClass("scroller");d=77;a=e-250;break;case"basic":default:b.find(".formInput").addClass("scroller");d=250;a=e-40;break}$(".scroller").css({"min-height":d+"px","max-height":a+"px"})};$.fn.submitPoll=function(){var form=$(this),url=form.attr("action")+"/1",data=form.serialize();$.post(url,data,function(retdata){var data=eval("("+retdata+")");if(data.success){form.showPollResults(data)}else{form.showValidationErrors(data.err_fields)}})};$.fn.showPollResults=function(c){var b=$(this);b.hide();b.closest(".blockPoll").find(".pollResultsLink").hide();var a=b.closest(".blockPoll").find(".pollResults");a.html(c.results);a.show();a.find(".pollAnswerPercent").each(function(){$(this).animatePoll()})};$.fn.animatePoll=function(){$(this).addClass("pollResult0");$(this).before("<span class='pollAnswerPercentGraph' />");var a=$(this).attr("data-poll-percent");$(this).siblings(".pollAnswerPercentGraph").css("background-color",$(this).attr("data-poll-color")).animate({width:a*1.2},2000)};$.fn.radioInputsAppleTransform=function(){var a=$(this);a.children().each(function(){$(this).addClass("radio")});a.find("label.radio").click(function(){$(this).find('input[type="radio"]').trigger("change")});a.find('input[type="radio"]').change(function(){$(this).parents(a).children("label.radio").removeClass("checked");$(this).parent().addClass("checked")})};$.fn.showContent=function(){$(this).each(function(){slideDown($(this))})};$.fn.hideContent=function(){$(this).each(function(){slideUp($(this))})};$.fn.replyToComment=function(){var d=$(this);var f=d.closest(".comment");var e=$("#comment-form");var a=e.find("h2").first();var c=$("#product-add-comment");if(f.attr("data-active")==="1"){f.attr("data-active","0");d.html(d.attr("data-reply"));f.removeClass("commentToReply");e.find('input[name="title"]').val("");a.html(a.attr("data-standard-text"));e.insertAfter(f.parent().children(".comment:last"));e.find('input[name="reply_on"]').val("")}else{$(".commentToReply").attr("data-active","0").removeClass("commentToReply").find("a[data-comment-id]").html(d.attr("data-reply"));f.attr("data-active","1");f.addClass("commentToReply");d.html(d.attr("data-creply"));var b=f.find(".commentTitle > h3").first().html();e.find('input[name="title"]').val("Re: "+b);a.html(a.attr("data-answer-text")+": "+b);e.insertAfter(f);e.find('input[name="reply_on"]').val(d.attr("data-comment-id"));e.find('input[name="name"]').focus()}};$.fn.applySelectTransform=function(){var a=$(this);var b=navigator.userAgent||navigator.vendor||window.opera;if($("head > script.floxsett").attr("data-select-ios")==="0"&&(/iPad|iPhone|iPod/.test(b)&&!window.MSStream)){return}if(/android/i.test(b)){return}a.each(function(){var d=$(this),c={disable_search_threshold:7,inherit_select_classes:true};if(d.hasClass("noSelectTransform")){return}if(d.attr("data-chosen-search-off")&&d.attr("data-chosen-search-off")==="1"){c={disable_search:true,inherit_select_classes:true}}d.chosen(c)})};var createdByStart=function(){var e=$("#bw_logo");if(e.length>0){var c=e.attr("data-partner"),b=e.attr("data-text"),a=e.attr("data-create"),d=e.attr("data-created");if(c==="flox.sk"){c="biznisweb.sk"}if(c==="flox.cz"){c="byznysweb.cz"}if(c!=="floxi.sk"){e.html("");e.append('<img class="logoImg" src="/erp-templates/skins/default/universal/img/logos/'+c+'.png?a" alt="'+c+'">');e.append('<p class="logoText"><a rel="nofollow" href="https://www.'+c+'/create?utm_source=footer&amp;utm_medium=footer&amp;utm_campaign" class="button right" target="_blank">'+a+"</a> "+b+"</p>");e.append('<p class="logoLink">'+d+': <a rel="nofollow" href="https://www.'+c+'?utm_source=footer&amp;utm_medium=footer&amp;utm_campaign" target="_blank">'+c.replace("biz","Biz").replace("byz","Byz").replace("web","Web")+"</a></p>")}else{e.html("");e.append('<p class="logoLink">Vytvorené pomocou <a rel="nofollow" href="https://www.kros.sk/inteo" target="_blank">Inteo</a> od KROSu.&nbsp;</p>');e.attr("id","bw_logo_0")}}};function floxContentSlider(h){var c=(h.element.attr("data-effect")==="fade")?"fade":"slide";var a=(h.element.children(".sequence-pagination").length===0)?false:"#"+h.element.attr("id")+" > .sequence-pagination";var g=(h.element.children(".sequence-arrows").length===0)?false:"#"+h.element.attr("id")+" > .sequence-arrows";var e=(g)?g+" > .sequence-prev":false;var d=(g)?g+" > .sequence-next":false;var f=parseInt(h.element.attr("data-period"));var b={reverseAnimationsWhenNavigatingBackwards:true,animateStartingFrameIn:false,autoPlay:true,preloader:true,autoPlayDelay:f*1000,fallback:{theme:c,speed:1000},prevButton:e,nextButton:d,pagination:a};if(f<0){$.extend(b,{autoPlay:false,autoPlayDelay:5000})}if(h.element.attr("data-effect").indexOf("slideleft")>-1){$.extend(b,{swipeEvents:{left:"next",right:"prev"}})}h.sequence=h.element.sequence(b).data("sequence")}$.fn.activateSlider=function(){$(this).each(function(){var a={minSlides:1,maxSlides:3,slideWidth:250,slideMargin:10,pager:false,touchEnabled:false};if($(this).attr("data-bxslider-auto")==="1"){a.auto=true;a.autoHover=true}if($(this).closest(".banner").hasClass("4col")){a.maxSlides=4}if($(this).attr("data-bxslider-pause")){if(!isNaN(parseFloat($(this).attr("data-bxslider-pause")))){a.pause=parseFloat($(this).attr("data-bxslider-pause"))*1000}}$(this).waitForImages(function(){$(this).bxSlider(a)})})};function activateSlickSliders(){if($(".blockTestimonials").length){$(".blockTestimonials-theme1 .testimonialsList").slick({infinite:true,respondTo:"min",mobileFirst:true,slidesToShow:1,adaptiveHeight:true,responsive:[{breakpoint:500,settings:{slidesToShow:2,dots:true}},{breakpoint:780,settings:{slidesToShow:3}},{breakpoint:1100,settings:{slidesToShow:4}},{breakpoint:1600,settings:{slidesToShow:5}}]});$(".blockTestimonials-theme3 .testimonialsList").slick({infinite:true,slidesToShow:1,dots:true,fade:true,cssEase:"linear",adaptiveHeight:true})}}function slideDown(a){$(a).slideDown(400,"swing")}function slideUp(a){$(a).slideUp(400,"swing")}function floxPriceSlider(d){var c=d.element[0];noUiSlider.create(c,{start:[d.pfrom,d.pto],connect:true,behaviour:"tap",tooltips:[d.formatter,d.formatter],range:{min:d.min,max:d.max}});var a=d.element.closest(".productList");var e=d.element.closest(".priceFilterCont").find(".priceFilterFrom > input");var b=d.element.closest(".priceFilterCont").find(".priceFilterTo > input");c.noUiSlider.on("update",function(f,h){var g=f[h];if(h){b.val(g)}else{e.val(g)}});c.noUiSlider.on("change",function(f,g){clearTimeout(window.priceFilter);window.priceFilter=setTimeout(function(){var i={price_from:Math.round(f[0]*100)/100,price_to:Math.round(f[1]*100)/100,view_count:parseInt(a.attr("data-per-page")),pagination_page:0,variant_filter:parseInt(a.attr("data-variant-filter"))+1},h=a.getAnotationsFilter({});a.continueLoading();a.createUrl($.extend({},h,i),false)},500)});e.on("keyup change",function(){var g=$(this),f=g.closest(".priceFilterCont").find(".priceSliderCont")[0];clearTimeout(window.priceFilter);window.priceFilter=setTimeout(function(){f.noUiSlider.set([g.val(),null]);var i={price_from:Math.round(g.val()*100)/100,variant_filter:parseInt(a.attr("data-variant-filter"))+1},h=a.getAnotationsFilter({});a.continueLoading();a.createUrl($.extend({},h,i),false)},1000)});b.on("keyup change",function(){var f=$(this),g=f.closest(".priceFilterCont").find(".priceSliderCont")[0];clearTimeout(window.priceFilter);window.priceFilter=setTimeout(function(){g.noUiSlider.set([null,f.val()]);var i={price_to:Math.round(f.val()*100)/100,variant_filter:parseInt(a.attr("data-variant-filter"))+1},h=a.getAnotationsFilter({});a.continueLoading();a.createUrl($.extend({},h,i),false)},1000)})}$.fn.equalHeight=function(g,d,k){var h=$(this),c=new Array(),a=h.find(g),l=0;if(!a.length){return}var b=a.eq(0).offset().top;a.each(function(){if(b===$(this).offset().top){l++;return true}else{return false}});var f,e;for(f=0,e=a.length;f<e;f+=l){c.push(a.slice(f,f+l))}c.forEach(function(s,n){if(!d&&s.length===s.filter(".sh").length){return true}s.removeClass("sh");s.children().removeAttr("style");if(s.length<2){return true}var q=new Array();for(var o=0;o<s.length;o++){var r=$(s[o]).children();for(var m=0;m<r.length;m++){var p=r.eq(m);if(q.length<=m){q[m]=0}if(q[m]<p.height()){q[m]=p.height()}}}for(var o=0;o<s.length;o++){var r=$(s[o]).children();for(var m=0;m<r.length;m++){var p=r.eq(m);if(!p.hasClass(k)){p.css("padding-bottom",(parseInt(p.css("padding-bottom"))+q[m]-p.height())+"px")}}$(s[o]).addClass("sh")}})};$.fn.dateInputInit=function(){var a=$(this);if(a.length>0){var b=a.first().attr("data-date-lng");switch(b){case"sk":jQuery.extend(jQuery.fn.pickadate.defaults,{monthsFull:["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december"],monthsShort:["jan","feb","mar","apr","máj","jún","júl","aug","sep","okt","nov","dec"],weekdaysFull:["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],weekdaysShort:["Ne","Po","Ut","St","Št","Pi","So"],today:"dnes",clear:"vymazať",close:"zavrieť",firstDay:1,format:"d.m.yyyy",formatSubmit:"d.m.yyyy"}),jQuery.extend(jQuery.fn.pickatime.defaults,{clear:"vymazať"});break;case"cz":jQuery.extend(jQuery.fn.pickadate.defaults,{monthsFull:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],monthsShort:["led","úno","bře","dub","kvě","čer","čvc","srp","zář","říj","lis","pro"],weekdaysFull:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],weekdaysShort:["ne","po","út","st","čt","pá","so"],today:"dnes",clear:"vymazat",close:"zavřít",firstDay:1,format:"d.m.yyyy",formatSubmit:"d.m.yyyy"}),jQuery.extend(jQuery.fn.pickatime.defaults,{clear:"vymazat"});break;case"de":jQuery.extend(jQuery.fn.pickadate.defaults,{monthsFull:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],weekdaysFull:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],weekdaysShort:["So","Mo","Di","Mi","Do","Fr","Sa"],today:"Heute",clear:"Löschen",close:"Schließen",firstDay:1,format:"d.m.yyyy",formatSubmit:"d.m.yyyy"}),jQuery.extend(jQuery.fn.pickatime.defaults,{clear:"Löschen"});break;case"es":jQuery.extend(jQuery.fn.pickadate.defaults,{monthsFull:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthsShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],weekdaysFull:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],weekdaysShort:["dom","lun","mar","mié","jue","vie","sáb"],today:"hoy",clear:"borrar",close:"cerrar",firstDay:1,format:"d.m.yyyy",formatSubmit:"d.m.yyyy"}),jQuery.extend(jQuery.fn.pickatime.defaults,{clear:"borrar"});break;case"ru":jQuery.extend(jQuery.fn.pickadate.defaults,{monthsFull:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],monthsShort:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],weekdaysFull:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],weekdaysShort:["вс","пн","вт","ср","чт","пт","сб"],today:"сегодня",clear:"удалить",close:"закрыть",firstDay:1,format:"d.m.yyyy",formatSubmit:"d.m.yyyy"}),jQuery.extend(jQuery.fn.pickatime.defaults,{clear:"удалить"});break;case"pl":jQuery.extend(jQuery.fn.pickadate.defaults,{monthsFull:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],monthsShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru"],weekdaysFull:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],weekdaysShort:["niedz.","pn.","wt.","śr.","cz.","pt.","sob."],today:"Dzisiaj",clear:"Usuń",close:"Zamknij",firstDay:1,format:"d.m.yyyy",formatSubmit:"d.m.yyyy"}),jQuery.extend(jQuery.fn.pickatime.defaults,{clear:"usunąć"});break;case"hu":jQuery.extend(jQuery.fn.pickadate.defaults,{monthsFull:["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],monthsShort:["jan","febr","márc","ápr","máj","jún","júl","aug","szept","okt","nov","dec"],weekdaysFull:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"],weekdaysShort:["V","H","K","Sze","CS","P","Szo"],today:"Ma",clear:"Törlés",close:"Bezárás",firstDay:1,format:"d.m.yyyy",formatSubmit:"d.m.yyyy"}),jQuery.extend(jQuery.fn.pickatime.defaults,{clear:"Törlés"});break;case"fr":jQuery.extend(jQuery.fn.pickadate.defaults,{monthsFull:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthsShort:["Jan","Fev","Mar","Avr","Mai","Juin","Juil","Aou","Sep","Oct","Nov","Dec"],weekdaysFull:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],weekdaysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],today:"Aujourd'hui",clear:"Effacer",close:"Fermer",firstDay:1,format:"d.m.yyyy",formatSubmit:"d.m.yyyy",labelMonthNext:"Mois suivant",labelMonthPrev:"Mois précédent",labelMonthSelect:"Sélectionner un mois",labelYearSelect:"Sélectionner une année"}),jQuery.extend(jQuery.fn.pickatime.defaults,{clear:"Effacer"});break;case"it":jQuery.extend(jQuery.fn.pickadate.defaults,{monthsFull:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],monthsShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],weekdaysFull:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],weekdaysShort:["dom","lun","mar","mer","gio","ven","sab"],today:"Oggi",clear:"Cancella",close:"Chiudi",firstDay:1,format:"d.m.yyyy",formatSubmit:"d.m.yyyy",labelMonthNext:"Mese successivo",labelMonthPrev:"Mese precedente",labelMonthSelect:"Seleziona un mese",labelYearSelect:"Seleziona un anno"}),jQuery.extend(jQuery.fn.pickatime.defaults,{clear:"Cancella",format:"HH:i",formatSubmit:"HH:i"});break}a.each(function(c){var d;if($(this).parents("label").length){d=$(this).pickadate({closeOnSelect:true,closeOnClear:true,selectYears:true,container:$(this).closest("p")})}else{d=$(this).pickadate({closeOnSelect:true,closeOnClear:true,selectYears:true})}if(!$(this).siblings(".dateInputInfo").length){$(this).after('<i class="dateInputInfo fa fa-calendar"></i>')}})}};$.fn.solveShipPaymPrivacy=function(){var a=$(this),b=$("#pp-"+a.attr("name")+"-"+a.attr("value"));a.closest(".shippaymList").find(".policyEventCont > input").prop("disabled",true);if(b.length){b.find(".privacyPolicies > .policyEventCont").each(function(){var c=$(this);var d=b.find("input[name='policy_"+c.attr("data-policyid")+"']");if(a.is(":checked")){d.prop("disabled",false)}else{d.prop("disabled",true)}});b.find(".privacyPolicies > .policyEventCont.solved").removeClass("solved");b.find(".privacyPolicies > .policyEventCont[data-policytype='overlay'], .privacyPolicies > .policyEventCont[data-policytype='age-overlay']").not(".solved").first().solveShipPaymCheckboxPrivacy(a)}};$.fn.solveShipPaymCheckboxPrivacy=function(b){var a=$(this);a.openPrivacyPolicyModal(b)};$.fn.openPrivacyPolicyModal=function(e){var b=$(this),a="modal"+b.attr("data-event")+"-p"+b.attr("data-policyid")+((b.attr("data-entityid"))?"-e"+b.attr("data-entityid"):""),c=b.find('[data-modal-id="'+a+'"]'),d=b.find("input[name='policy_"+b.attr("data-policyid")+"']"),f=b.closest(".shippingExtension, .paymentExtension");if(c.length&&b.length){if(e.is(":checked")){c.activateFloxCSSModal();c.on("click",".floxCSSModalClose,.floxCSSModalCancel,.floxCSSModalConfirm",function(h){h.preventDefault();d.prop("disabled",false);var g=0;if($(this).hasClass("floxCSSModalConfirm")){g=1}if(g){d.val(1)}else{d.val(0)}if(b.attr("data-policyaction")==="require"){if(!g){d.prop("disabled",true);e.prop("checked",false).change()}else{b.addClass("solved");f.find(".privacyPolicies > .policyEventCont[data-policytype='overlay'], .privacyPolicies > .policyEventCont[data-policytype='age-overlay']").not(".solved").first().solveShipPaymCheckboxPrivacy(e)}}else{b.addClass("solved");f.find(".privacyPolicies > .policyEventCont[data-policytype='overlay'], .privacyPolicies > .policyEventCont[data-policytype='age-overlay']").not(".solved").first().solveShipPaymCheckboxPrivacy(e)}c.closeFloxCSSModal()})}}};$.fn.searchShipping=function(){var shippings=$(this);shippings.each(function(){var shipping=$(this),id=shipping.attr("id"),branch=shipping.closest(".shippingExtension,.flox-ship-pay__extension").attr("data-shipping-type"),input=shipping.find("#"+id+"_input"),radio_group=shipping.find("#"+id+"_radio_group"),template=$(shipping.find(".shipFltResultTemplate").prop("content")).find(".shipFltResult");input.on("keyup",function(){clearTimeout(window.shippingFilter);window.shippingFilter=setTimeout(function(){radio_group.empty();var url="/erp/frontend_asynch/order_ajax/searchBranch/"+branch,data="search="+input.val();if(input.val().trim()===""){shipping.find(".shipFltResults").hide();return false}var title=shipping.find(".shipFltResultsTitle"),toggleResultsFull=shipping.find(".shipFltResultsToggle");title.html('<i class="fa fa-refresh fa-spin fa-fw"></i> '+title.attr("data-loading"));shipping.find(".shipFltResults").show();$.post(url,data,function(retData1){var retData=eval("("+retData1+")");if(!retData||retData.length===0){toggleResultsFull.hide();title.html('<i class="fa fa-exclamation-triangle fa-fw"></i> '+title.attr("data-none"))}else{title.html(title.attr("data-text"));toggleResultsFull.show()}radio_group.empty();$.each(retData,function(index,value){if(!document.createElement("template").content){radio_group.append('<div class="shipFltResult"><label class="shipFltRadio"><input type="radio" name="'+id+'_id" value="'+value.branch_id+'"><span>'+value.description+"</span></label></div>");return}var templateData=template.clone(),radioInput=templateData.find(".shipFltRadio > input"),radioDesc=templateData.find(".shipFltRadio > span"),additional_data=templateData.find(".shipFltInfo");radioInput.attr("value",value.branch_id);radioDesc.text(value.description);var oh=additional_data.find(".shipFltOH").first(),link=additional_data.children(".shipFltInfoItemLink"),gps=additional_data.children(".shipFltInfoItemGPS"),note=additional_data.children(".shipFltInfoItemNote");$.each(value.info.open_hours,function(ohIndex,ohValue){var ohDay=$.map(ohValue,function(soh){if(soh.open.length||soh.close.length){var retSOH=soh.open;if(soh.open.length&&soh.close.length){retSOH=retSOH+"-"}retSOH=retSOH+soh.close;return retSOH}return""}).join(" ");if(ohDay.trim().length){oh.append('<li class="'+oh.attr("data-day-class")+'"><span>'+ohIndex+"</span> <span>"+ohDay+"</span></li>")}});if(value.info.link.length){link.append('<a target="_blank" href="'+value.info.link+'">'+link.attr("data-link-text")+"</a>")}else{link.remove()}if(value.info.gps.length){gps.append('<a target="_blank" href="https://www.google.com/maps/search/?api=1&query='+value.info.gps+'">'+gps.attr("data-map-text")+"</a>")}else{gps.remove()}if(value.info.note.length){note.append('<div class="shipFltInfoItemNoteText">'+value.info.note+"</div>")}else{note.remove()}radio_group.append(templateData)});if(!document.createElement("template").content){$(".shipFltResultsToggle").hide();$(".shipFltResultTemplate").hide();$(".shipFltResultList").css("height","300px");$(".shipFltResultList").css("display","block");$(".shipFltRadio").css("display","block")}}).fail(function(){radio_group.empty();toggleResultsFull.hide();title.html('<i class="fa fa-exclamation-triangle fa-fw"></i> '+title.attr("data-none"))})},800)}).on("keydown",function(ev){if(ev.keyCode===13){ev.preventDefault();$(this).blur();return false}});shipping.on("change",".shipFltRadio > input",function(){var input=$(this),result=input.closest(".shipFltResult"),result_list=result.parent(".shipFltResultList");result_list.children(".shipFltResult").removeClass("selected");result.addClass("selected")}).on("click",".shipFltResultsToggle",function(ev){ev.preventDefault();shipping.toggleClass("detailInfoOff")}).on("click",".shipFltSelectedDelete",function(ev){ev.preventDefault();shipping.find(".shipFltSelected").remove()}).on("click",".shipFltResult",function(){$(this).find(".shipFltRadio > input").prop("checked",true).trigger("change")}).on("click",".shipFltInfoItemGPS a, .shipFltInfoItemLink a",function(ev){ev.stopPropagation()})})};$.fn.solvePageviewPrivacy=function(){var b=$(this),c=b.attr("data-expiry"),a="modal"+b.attr("data-event")+"-p"+b.attr("data-policyid")+((b.attr("data-entityid"))?"-e"+b.attr("data-entityid"):"");if(b.attr("data-permanency")==="permanent"){}else{if(b.attr("data-permanency")==="single_use"){b.openPrivacyPolicyPageviewModal()}else{if(b.attr("data-permanency")==="local"&&typeof(Storage)!=="undefined"){if(localStorage.getItem(a)===null||(localStorage.getItem(a)==="1"&&c!=="-1")||(localStorage.getItem(a)!==null&&localStorage.getItem(a)!=="1"&&parseInt(localStorage.getItem(a))<Math.floor(Date.now()/1000))){b.openPrivacyPolicyPageviewModal()}else{b.addClass("solved");$(".privacyPolicies > .policyEventCont[data-policytype!='bar'][data-event='pageview']").not(".policyEventCont.solved").first().solvePageviewPrivacy()}}else{if(b.attr("data-permanency")==="cookie"){if(typeof Cookies.get(a)==="undefined"||(Cookies.get(a)==="1"&&c!=="-1")||(typeof Cookies.get(a)!=="undefined"&&Cookies.get(a)!=="1"&&parseInt(Cookies.get(a))<Math.floor(Date.now()/1000))){b.openPrivacyPolicyPageviewModal()}else{b.addClass("solved");$(".privacyPolicies > .policyEventCont[data-policytype!='bar'][data-event='pageview']").not(".policyEventCont.solved").first().solvePageviewPrivacy()}}}}}};$.fn.openPrivacyPolicyPageviewModal=function(){var b=$(this),a="modal"+b.attr("data-event")+"-p"+b.attr("data-policyid")+((b.attr("data-entityid"))?"-e"+b.attr("data-entityid"):""),c=b.attr("data-expiry"),d=b.find('[data-modal-id="'+a+'"]');if(c!=="-1"){var e=b.attr("data-expiry-date")}if(d.length){d.activateFloxCSSModal();d.on("click",".floxCSSModalConfirm",function(f){f.preventDefault();if(b.attr("data-permanency")==="local"&&typeof(Storage)!=="undefined"){if(c==="-1"){localStorage.setItem(a,"1")}else{localStorage.setItem(a,e)}}if(b.attr("data-permanency")==="cookie"){if(c==="-1"){Cookies.set(a,1)}else{if(c.strpos("y-")!==null){Cookies.set(a,e,{expires:parseInt(c.replace("y-",""))*365})}else{Cookies.set(a,e,{expires:365})}}}b.addClass("solved");d.closeFloxCSSModal();$(".privacyPolicies > .policyEventCont[data-policytype!='bar'][data-event='pageview']").not(".policyEventCont.solved").first().solvePageviewPrivacy()}).on("click",".floxCSSModalCancel, .floxCSSModalClose",function(f){f.preventDefault();if(!b.hasClass("solved")&&b.attr("data-policyaction")==="require"){window.location="/"}else{b.addClass("solved");d.closeFloxCSSModal();$(".privacyPolicies > .policyEventCont[data-policytype!='bar'][data-event='pageview']").not(".policyEventCont.solved").first().solvePageviewPrivacy()}})}};$.fn.annoyerBar=function(){var f=$(this),c=f.closest(".policyEventCont"),a="bar"+c.attr("data-event")+"-p"+c.attr("data-policyid")+((c.attr("data-entityid"))?"-e"+c.attr("data-entityid"):""),b=$(".annoyerBarCont"),e=c.attr("data-expiry"),d=f.find('button[data-annoyer-action="confirm"]');if(e!=="-1"){var g=c.attr("data-expiry-date")}if(b.length){f.detach().appendTo(b);if(c.attr("data-permanency")==="local"&&typeof(Storage)!=="undefined"){if((e==="-1"&&localStorage.getItem(a)==="1")||(e!=="-1"&&parseInt(localStorage.getItem(a))>Math.floor(Date.now()/1000))){f.remove()}}if(c.attr("data-permanency")==="cookie"){if((e==="-1"&&Cookies.get(a)==="1")||(e!=="-1"&&parseInt(Cookies.get(a))>Math.floor(Date.now()/1000))){f.remove()}}d.on("click",function(h){if(c.attr("data-permanency")==="local"&&typeof(Storage)!=="undefined"){if(e==="-1"){localStorage.setItem(a,"1")}else{localStorage.setItem(a,g)}}if(c.attr("data-permanency")==="cookie"){if(e==="-1"){Cookies.set(a,1)}else{if(e.strpos("y-")!==null){Cookies.set(a,g,{expires:parseInt(e.replace("y-",""))*365})}else{Cookies.set(a,g,{expires:365})}}}f.hideContent()})}};$.fn.preventDblSubmit=function(){var b=$(this),a=b.find('button[type="submit"], input[type="submit"]');a.each(function(){var c=$(this);c.prepend('<i class="fa fa-cog fa-spin"></i> ');c.prop("disabled",true)})};$.fn.enableSubmit=function(){var b=$(this),a=b.find('button[type="submit"], input[type="submit"]');b.attr("data-sentform","0");a.each(function(){var c=$(this);c.find("i.fa-cog.fa-spin").remove();c.prop("disabled",false)})};$.fn.loadFormData=function(a,e){var c=$(this),g=c.attr("id"),d=$("html").first().attr("data-lssid");if(localStorage.getItem("floxFD_"+g)===null){return}var f=JSON.parse(atou(localStorage.getItem("floxFD_"+g)));if(d===f.lssid){var b=Array();Object.keys(f.formData).forEach(function(h){if($('.flox-ship-pay__extension input[name="'+h+'"]').hasClass("shipping-branches__selected-input")){$('.flox-ship-pay__extension input[name="'+h+'"]').val(f.formData[h])}});c.deserialize(f.formData,{change:function(){if(a==="order-form"){if($(this).hasClass("flox-ship-pay__input")){b.push($(this))}else{if($(this).hasClass("shipping-branches__selected-description-saver")){$(this).trigger("change")}else{$(this).trigger("change",true)}}}else{if(a){$(this).trigger("change")}}if($(this).parent("select").next().hasClass("chosen-container")){$(this).trigger("chosen:updated")}},complete:function(){if(b.length){b.forEach(function(h){h.trigger("change",true)})}if(typeof e==="function"){e()}}})}else{localStorage.removeItem("floxFD_"+g)}};$.fn.saveFormData=function(){var b=$(this),f=b.attr("id"),c=$("html").first().attr("data-lssid"),d=b.serializeArray(),e={lssid:c,formData:{}};for(var a=0,g=d.length;a<g;++a){if(d[a].name!=="order_submission_id"&&d[a].name!=="gift_certificate"&&d[a].name.substring(0,7)!=="policy_"){e.formData[d[a].name]=d[a].value}}localStorage.setItem("floxFD_"+f,utoa(JSON.stringify(e)))};function floxPopup(){var b=$("[data-remodal-id='flox-popup']"),c=23,e=localStorage.getItem("floxPPExpirT");if(FloxSettings.popupExpiration&&parseInt(FloxSettings.popupExpiration)>0){c=parseInt(FloxSettings.popupExpiration)*24}if(b.length){if(e!==null){var a=Date.now(),g=Math.abs(a-e),f=Math.ceil(g/(1000*3600))}else{var f=c+1}if(f>c){var d=$('[data-remodal-id="flox-popup"]').remodal();d.open();localStorage.setItem("floxPPExpirT",Date.now())}}}function productTab(){$("#product-detail #tabs .floxTabs > .floxTabsItem").removeClass("active");$("#product-detail #tabs .floxTabsContent").removeClass("active");$('a[href="'+window.location.hash+'"]').parent(".floxTabsItem").addClass("active");$(window.location.hash).addClass("active");if($("#menu-cont").hasClass("fixed")&&$("#menu-cont").hasClass("active")){$.scrollTo($(location.hash),300,{offset:-170})}else{$.scrollTo($(location.hash),300)}}$.fn.toggleFavourite=function(){var a=$(this),b=a.parent(".userListsCont"),c=a.hasClass("active");var d="product_id="+b.attr("data-pid");$.post(a.attr("href"),d,function(e){if(!e.success){return}if(!c){a.addClass("active");a.attr("href",b.attr("data-urlout"));a.attr("title",b.attr("data-textout"));a.children("span").text(b.attr("data-textout"))}else{a.removeClass("active");a.attr("href",b.attr("data-urlin"));a.attr("title",b.attr("data-textin"));a.children("span").text(b.attr("data-textin"))}},"json")};$.fn.submitNewList=function(b){var a=$(this),d=a.find("input,textarea").serialize(),c=a.closest(".userListAddModal");$.post(a.attr("data-create-list"),d,function(i){if(!i.success){if(b){var h=$(".userListAddResultModal"),e=h.find(".floxCSSModalTitle"),f=h.find(".userListAddResultLink");e.addClass("floxCSSModalTitleError").html(e.attr("data-create-list-error"));f.addClass("invisible");h.find(".orDivide").addClass("invisible");h.activateFloxCSSModal()}else{var h=$(".floxListPageErrorCont"),j=h.find(".floxListPageError");j.html(j.attr("data-list-create-error"));c.closeFloxCSSModal();h.activateFloxCSSModal()}return}var m=$(".userListTemplate");if(m.length>0){m.each(function(){var o=$(this),n=$(o.prop("content")).find(".userListTemplateContent").clone();if(n.hasClass("templateDataID")){n.attr("data-list-id",i.list_id).removeClass("templateDataID")}n.find(".templateDataID").attr("data-list-id",i.list_id).removeClass("templateDataID");n.find(".templateHrefID").each(function(){$(this).attr("href",$(this).attr("href")+i.list_id).removeClass("templateHrefID")});n.find(".templateTextTitle").removeClass("templateTextTitle").text(i.title);n.removeClass("userListTemplateContent");o.parent().prepend(n)})}if(b){var k=a.closest(".userListAddModal").find('.detailUserList[data-list-id="'+i.list_id+'"] > .addToList');if(k.length){k.trigger("click")}}else{var l=$(".userListAddFormResultModal"),g=l.find(".userListAddFormResultLink");g.attr("href",g.attr("data-link")+i.list_id);c.closeFloxCSSModal();l.activateFloxCSSModal()}},"json")};$.fn.removeList=function(){var a=$(this),d=a.closest(".userList"),c=a.closest(".controlData"),e=$(".floxListPageErrorCont");var b="list_id="+c.attr("data-list-id");$.post(a.attr("href"),b,function(g){if(!g.success){var f=e.find(".floxListPageError");f.html(f.attr("data-list-delete-error"));e.activateFloxCSSModal();return}if(c.attr("data-redirect-url")){location.href=c.attr("data-redirect-url")}if(d.length){d.remove()}},"json")};$.fn.texteditFrontend=function(){var b=$(this),a=b.closest(".texteditCont"),e=b.closest(".texteditTopCont"),g=a.find(".textedit"),d=b.find(".texteditInput").val(),f=$(".floxListPageErrorCont");var c=e.attr("data-textedit-var")+"="+e.attr("data-textedit-id")+"&"+b.find(".texteditInput").serialize();if(e.attr("data-textedit-include-qty")==="1"){c=c+"&quantity="+e.find('.textInput[name="qty"]').val()}$.post(e.attr("data-textedit-url"),c,function(i){b.find(".texteditLabel").removeClass("invisible");g.removeClass("invisible");b.find(".texteditInput,.texteditButton").addClass("invisible").prop("disabled",true);a.removeClass("editing");if(!i.success){var h=f.find(".floxListPageError");h.html(h.attr("data-"+a.attr("data-error-type")+"-error"));f.activateFloxCSSModal();return}g.text(d)},"json")};$.fn.addProductToList=function(e){var b=$(this),d=b.closest(".productForm"),a=$(".userListAddResultModal");var c="product_id="+d.attr("data-product-id")+"&list_id="+e.attr("data-list-id");if(d.find(".productCombinations").length>0){c=c+"&"+d.find(".productCombinations input").serialize()}if(d.find(".productVariants").length>0){c=c+"&"+d.find(".productVariants input,.productVariants select").serialize()}$.post(b.attr("href"),c,function(h){var g=a.find(".floxCSSModalTitle"),f=a.find(".userListAddResultLink");if(!h.success){g.addClass("floxCSSModalTitleError").html(g.attr("data-product-add-error"));f.addClass("invisible");a.find(".orDivide").addClass("invisible");if(h.err_fields&&h.err_fields.length){a.showValidationErrors(h.err_fields)}else{a.hideValidationErrors()}}else{g.removeClass("floxCSSModalTitleError").html(g.attr("data-product-added"));f.removeClass("invisible").attr("href",f.attr("data-link")+e.attr("data-list-id"));a.find(".orDivide").removeClass("invisible");a.hideValidationErrors()}b.closest(".productUserListsCont").closeFloxCSSModal();a.activateFloxCSSModal()},"json")};$.fn.removeProductFromList=function(){var c=$(this),b=c.closest(".listItem"),a=b.parent(".listItems"),e=$(".floxListPageErrorCont");b.addClass("listItemREMOVEinit");b.css("max-height",b.height());b.addClass("listItemREMOVE");var d=b.attr("data-textedit-var")+"="+b.attr("data-textedit-id");$.post(c.attr("href"),d,function(m){if(!m.success){b.removeClass("listItemREMOVE");b.removeClass("listItemREMOVEinit");b.css("max-height","none");var f=e.find(".floxListPageError");f.html(f.attr("data-li-remove-error"));e.activateFloxCSSModal();return}var h=$(".userListIntoCartCont .price");if(b.attr("data-current-price").length&&h.length){var g=parseFloat(b.attr("data-current-price")),k=parseFloat(h.attr("data-total")),l=k-g;h.attr("data-total",l);var i=h.children(".priceActual"),j=l.toFixed(2).toString();if(i.text().indexOf(",")>-1){j=j.replace(".",",")}if(h.attr("data-currency")==="usd"){j="$"+j}if(h.attr("data-currency")==="eur"){j=j+" €"}if(h.attr("data-currency")==="czk"){j=j+" Kč"}i.text(j)}setTimeout(function(){b.remove();if(a.children(".listItem").length===0){a.html('<li class="listItem"><p>'+a.attr("data-list-empty")+"</p></li>")}},400)},"json")};function swapProductPositionInList(b,a){b.addClass("listItemMoveDOWN");b.css("transform","translateY("+a.outerHeight()+"px)");a.addClass("listItemMoveUP");a.css("transform","translateY(-"+b.outerHeight()+"px)");setTimeout(function(){b.removeClass("listItemMoveDOWN").removeAttr("style");a.removeClass("listItemMoveUP").removeAttr("style");b.insertAfter(a)},500)}$.fn.upProductFromList=function(){var b=$(this),a=b.closest(".listItem"),d=a.prev(),e=$(".floxListPageErrorCont");swapProductPositionInList(d,a);var c=a.attr("data-textedit-var")+"="+a.attr("data-textedit-id");$.post(b.attr("href"),c,function(g){if(!g.success){swapProductPositionInList(a,d);var f=e.find(".floxListPageError");f.html(f.attr("data-li-up-error"));e.activateFloxCSSModal();return}},"json")};$.fn.downProductFromList=function(){var b=$(this),a=b.closest(".listItem"),d=a.next(),e=$(".floxListPageErrorCont");swapProductPositionInList(a,d);var c=a.attr("data-textedit-var")+"="+a.attr("data-textedit-id");$.post(b.attr("href"),c,function(g){if(!g.success){swapProductPositionInList(d,a);var f=e.find(".floxListPageError");f.html(f.attr("data-li-down-error"));e.activateFloxCSSModal();return}},"json")};$.fn.shareList=function(){var b=$(this),a=b.closest(".productUserListShare").find(".shareListWindowCont"),c=$(".floxListPageErrorCont");$.post(b.attr("href"),function(e){if(!e.success){var d=c.find(".floxListPageError");d.html(d.attr("data-list-share-error"));c.activateFloxCSSModal();return}a.find(".shareListInput").val(e.link);a.find(".shareListNewWindow").attr("href",e.link);a.activateFloxCSSModal()},"json")};$.fn.listIntoCart=function(){var c=$(this),b=c.closest(".userListIntoCartCont");c.attr("data-clicked","1");var a="/e/cart/index/1";var e=$("html").attr("data-lang");if(e){a=e+a}var d=$("#slider-overlay");d.unbind("click");d.fadeIn("slow",null);d.showLoading();$.post(c.attr("href"),function(f){if(!f.success){alert("Nepodarilo sa vlozit list do kosika");d.fadeOut("slow",null);d.hideLoading();if(f.err_fields&&f.err_fields.length){b.showValidationErrors(f.err_fields)}c.attr("data-clicked","");return}b.hideValidationErrors();if(f.err_fields&&f.err_fields.length){$("#slider").hideValidationErrors()}updateSmallCart(f);b.createSlider("cart",a,1,0,function(){if(f.err_fields&&f.err_fields.length){$("#slider").showValidationErrors(f.err_fields)}cartBonusActivator()},function(){c.attr("data-clicked","")})},"json")};$.fn.createListFromCart=function(){var c=$(this),d=c.find("input, textarea").serialize(),b=c.closest(".createListFromCartFormCont"),a=$(".listFromCartCreatedCont");$.post(c.attr("data-create-list"),d,function(g){var e=a.find(".listFromCartCreatedLink"),f=a.find(".floxCSSModalTitle");if(!g.success){f.removeClass("floxCSSModalTitleError").html(f.attr("data-error"));e.addClass("invisible")}else{f.removeClass("floxCSSModalTitleError").html(f.attr("data-success"));e.removeClass("invisible").attr("href",e.attr("href")+g.list_id)}b.closeFloxCSSModal();a.activateFloxCSSModal()},"json")};$.fn.registerProductListsEvents=function(){var a=$(this);a.on("click",".addProductToUserList",function(c){c.preventDefault();var b=$(".productUserListsCont");b.activateFloxCSSModal()});a.on("click",".createNewListForm button",function(b){b.preventDefault();$(this).closest(".createNewListForm").submitNewList(true)});a.on("keypress",".createNewListForm input",function(b){if(b.keyCode===13||b.which===13){b.preventDefault();$(this).closest(".createNewListForm").submitNewList(true)}});a.on("click",".createNewList",function(c){c.preventDefault();var b=$(".userListAddFormCont");b.activateFloxCSSModal()});a.on("click",".userListAddForm button",function(b){b.preventDefault();$(this).closest(".userListAddForm").submitNewList(false)});a.on("keypress",".userListAddForm input",function(b){if(b.keyCode===13||b.which===13){b.preventDefault();$(this).closest(".userListAddForm").find('textarea[name="note"]').focus()}});a.on("click",".removeList",function(b){b.preventDefault();$(this).removeList()});a.on("click",".texteditActive",function(f){var b=$(this).closest(".texteditCont");if(b.hasClass("editing")){return}var e=b.find(".texteditForm"),g=b.find(".textedit"),d=e.find(".texteditInput");f.preventDefault();if(d.is("textarea")){d.height(g.outerHeight())}e.find(".texteditLabel").addClass("invisible");g.addClass("invisible");e.find(".texteditInput,.texteditButton").removeClass("invisible").prop("disabled",false);b.addClass("editing");var c=d.val().length;d.focus();d[0].setSelectionRange(c,c)});a.on("click",".texteditActive .texteditForm .texteditButton",function(c){clearTimeout(window.texteditInputBlur);var b=$(this).closest(".texteditForm");c.preventDefault();b.texteditFrontend()}).on("keypress",".texteditActive .texteditForm .texteditInput",function(c){var b=$(this).closest(".texteditForm");if(c.keyCode===13||c.which===13){c.preventDefault();b.texteditFrontend()}}).on("blur",".texteditActive .texteditForm .texteditInput",function(d){var c=$(this).closest(".texteditForm"),b=c.closest(".texteditCont"),e=b.find(".textedit");window.texteditInputBlur=setTimeout(function(){c.find(".texteditLabel").removeClass("invisible");e.removeClass("invisible");c.find(".texteditInput,.texteditButton").addClass("invisible").prop("disabled",true);b.removeClass("editing")},250)});a.on("change",'.texteditTopCont .textInput[name="qty"]',function(c){clearTimeout(window.texteditInputBlur);var b=$(this).closest(".texteditTopCont").find(".texteditForm");b.find(".texteditInput").prop("disabled",false);b.texteditFrontend()});a.on("click",".productUserCurrentLists .addToList",function(c){c.preventDefault();var b=$(this);b.addProductToList(b.closest(".detailUserList"))});a.on("click",".removeItem",function(b){b.preventDefault();$(this).removeProductFromList()});a.on("click",".upItem",function(b){b.preventDefault();$(this).upProductFromList()});a.on("click",".downItem",function(b){b.preventDefault();$(this).downProductFromList()});a.on("click",".shareList",function(b){b.preventDefault();$(this).shareList()});a.on("click",".userListIntoCart",function(b){b.preventDefault();if($(this).attr("data-clicked")==="1"){return}$(this).listIntoCart()});a.on("click",".createListFromCart",function(c){c.preventDefault();var b=$(".createListFromCartFormCont");b.activateFloxCSSModal()});a.on("click",".createListFromCartForm button",function(b){b.preventDefault();$(this).closest(".createListFromCartForm").createListFromCart()});a.on("keypress",".createListFromCartForm input",function(b){if(b.keyCode===13||b.which===13){b.preventDefault();$(this).closest(".createListFromCartForm").find('textarea[name="note"]').focus()}})};$.fn.activateFloxCSSModal=function(){var a=$(this);a.find("input, textarea, button").prop("disabled",false);a.addClass("active")};$.fn.closeFloxCSSModal=function(b){var a=$(this);a.find("input, textarea, button").prop("disabled",true);if(!b){a.find('input[type="text"], textarea').val("")}a.removeClass("active")};$.fn.changeTitleFloxCSSModal=function(b){var a=$(this);a.find(".floxCSSModalTitle").html(b)};;
$.fn.initFlox=function(){$("html").removeClass("no-js");$(this).find(".products,.productForm").on("click",".addToFavs",function(ev){ev.preventDefault();$(this).toggleFavourite()});$(this).find(".addToFavsLogin,.addProductToUserListLogin").on("click",function(ev){ev.preventDefault();$(".userListLogin").first().activateFloxCSSModal()});$(this).find(".userListLogin .button.sliderLoginActivator,.userListLogin .button.sliderRegisterActivator").on("click",function(ev){ev.preventDefault();$(this).closest(".userListLogin").closeFloxCSSModal()});$(this).on("click",".floxCSSModalClose",function(ev){ev.preventDefault();var cont=$(this).closest(".floxCSSModal");cont.closeFloxCSSModal()});$(this).find(".floxListPageCont").registerProductListsEvents();$(this).find("form").submit(function(ev){var form=$(this);if(form.attr("id")==="order-form"||form.hasClass("orderForm")){form.preventDblSubmit()}if(form.attr("data-sentform")!=="1"){form.attr("data-sentform","1")}else{ev.preventDefault();ev.stopPropagation()}});$(this).find(".jsinvisible").hide();$(this).find(".cssinvisible").show();var topMenu=$("#box-id-flox_main_menu > .blockNav");if(topMenu.length>0){if(topMenu.children("#topMenuActivate").length===0){topMenu.prepend('<a class="button" id="topMenuActivate"><i class="fa fa-bars"></i> Menu</a>')}topMenu.on("click","#topMenuActivate",function(ev){ev.preventDefault();$(this).toggleClass("active")})}$(this).find("#search_products .paginationItem > a").each(function(){var link=$(this);link.attr("href",link.attr("href").replace("&showPages",""))});$(this).find("#search_pages .paginationItem > a").each(function(){var link=$(this);link.attr("href",link.attr("href")+"&showPages")});$(this).find("#product-detail > .boxHeader > .buttonBack").on("click",function(ev){ev.preventDefault();history.go(-1)});if($(this).find("select.productVariantValue,input.productVariantValue:radio:checked,.productCombinations .productCombText > input:radio:checked").length>0){$(this).find(".productForm").first().refreshVariantPrice()}$(this).find("a[data-comment-id]").click(function(ev){ev.preventDefault();$(this).replyToComment()});$(this).find(".pollAnswerPercent").each(function(){$(this).animatePoll()});$(this).find(".sliderLoginActivator").click(function(ev){if(viewportSize.getWidth()>500){ev.preventDefault();$("#slider-login").sliderOpen(0,0,0,function(slider){slider.find(".box").removeClass("box").removeClass("boxColored").removeClass("loginbox").addClass("boxSimple")})}});$(this).find(".sliderRegisterActivator").click(function(ev){if(viewportSize.getWidth()>500){ev.preventDefault();$(this).createSlider("register",$(this).attr("href")+"/1")}});$(this).find(".sliderCartActivator").click(function(ev){if(viewportSize.getWidth()>500){ev.preventDefault();$(this).createSlider("cart",$(this).attr("href")+"/1",1,0,function(){cartBonusActivator()})}});$(this).find(".sliderForgottenPasswordActivator").click(function(ev){if(viewportSize.getWidth()>500){ev.preventDefault();$(this).createSlider("forgotten-password",$(this).attr("href")+"/1")}});if(viewportSize.getWidth()>500&&$(this).find("#slider-login-select").length>0){$(this).find("#slider-login-select").addClass("sliderContent").appendTo($("#slider")).sliderOpen(0,0,1,function(slider){slider.find(".boxColored.box").removeClass("box").removeClass("boxColored").addClass("boxSimple")})}if($("html").first().attr("data-noSliderLogin")!==1){$(this).find(".formRegister > form").submit(function(ev){ev.preventDefault();var sliderForm=$(this);if(sliderForm.find(".recaptchaV3").length){return true}var urlAction=sliderForm.attr("action")+"/1";if(sliderForm.find(".recaptchaV2inv").length>0){var captcha=sliderForm.find(".recaptchaV2inv");if(captcha.attr("data-size")==="invisible"){currentReCForm=sliderForm;grecaptcha.reset(reCaptchaForms[captcha.attr("id")]);grecaptcha.execute(reCaptchaForms[captcha.attr("id")]);return}}sliderForm.sliderSubmit(urlAction)})}$(this).find(".formLoginSelect .personaLabel").click(function(){$(this).find("input").prop("checked",true).trigger("change")});$(this).find(".formLoginSelect > form input").change(function(ev){$(this).closest("form").submit()});$(this).find(".addressDelete").click(function(ev){if(viewportSize.getWidth()>500){ev.preventDefault();$(this).addressDelete()}});if($("html").first().attr("data-noSliderLogin")!==1){$(this).find(".addressEdit").click(function(ev){if(viewportSize.getWidth()>500){ev.preventDefault();$(this).addressEdit()}});$(this).find(".addressAdd").click(function(ev){if(viewportSize.getWidth()>500){ev.preventDefault();$(this).addressAdd()}})}$(this).find(".addressSelectable").click(function(ev){$(this).find("input").attr("checked","checked").trigger("change")});$(this).find("input.addressRadio").change(function(ev){$(this).closest("fieldset").find(".boxAddress").removeClass("addressSelected");$(this).closest("fieldset").find(".addressSelectable").removeClass("addressSelected");$(this).closest(".addressSelectable").addClass("addressSelected");$(this).closest(".boxAddress").addClass("addressSelected")});$("#slider .sliderDeactivator").show().click(function(ev){ev.preventDefault();var slider=$(this).closest("sliderContent");slider.sliderClose()});$(this).find("#diff-delivery-address").on("change",function(){toggleDelivery();$(this).checkOrderCountry()});$(this).find('input:radio[name="iam"]').on("change",function(){$(this).toggleCompany()});$(this).find('input:radio[name="iam"]:checked').toggleCompany();$(this).find("input.jsInputDisabled").attr("disabled","disabled");$(this).find('#shipping input[name="shipping"],#payment input[name="payment"]').each(function(){var input=$(this);var parent=input.parent();$('<input type="checkbox">').prependTo(parent).attr("name",input.attr("name")).attr("value",input.attr("value")).attr("checked",input.attr("checked"));input.remove()});$(this).find("#shipping,#payment").find('input[name="shipping"][type="radio"],input[name="shipping"][type="checkbox"],input[name="payment"][type="radio"],input[name="payment"][type="checkbox"]').on("change",function(){$(this).parent().siblings("label").find('input[name="shipping"],input[name="payment"]').removeAttr("checked");$(this).closest("#shipping,#payment").refreshShipPaym();$(this).solveShipPaymPrivacy()});$(this).find(".orderDisc").on("change",changeTotal);$(this).find("#invoice-addresses .addressSelectable input,#delivery-addresses .addressSelectable input").not("#slider input").on("change",function(){$(this).checkOrderCountry()});$(this).find('#invoice-address .selectCountryInput[name="country"],#delivery-address .selectCountryInput[name="d_country"]').not("#slider .selectCountryInput").on("change",function(){$(this).checkOrderCountry()});$(this).find(".inputError").first().children(".textInput").first().focus().parent("label").addClass("labelFocused");$(this).find(".formAppleRadio").each(function(){$(this).radioInputsAppleTransform()});$(this).find(".cartButtonPlus, .cartButtonMinus, .cartButtonRemove").click(function(ev){var button=$(this),actionUrl=button.attr("href")+"/1";$.get(actionUrl,function(json){json=jQuery.parseJSON(json.replace(/'/g,'"'));if(json.success===false){button.closest(".blockCart").showValidationErrors(json.err_fields)}else{if("bonuses_html" in json){button.closest(".blockCart").find(".cartBonuses").html(json.bonuses_html);cartBonusActivator()}updateCart(json);if($("#shipping, #shipping-v2").length>0){$("#shipping, #shipping-v2").refreshOrderCountry()}}});ev.preventDefault()});$(this).find(".blockCart .qty").removeAttr("readonly");$(this).find(".blockCart .qty").keyup(function(){var qInput=$(this);var qInputVal=parseInt(qInput.val(),10);if(!isNaN(qInputVal)&&qInputVal>=0){var actionUrl=qInput.attr("data-ajax-url")+"/"+qInputVal+"/1";clearTimeout(window.qtyTimeout);window.qtyTimeout=setTimeout(function(){$.get(actionUrl,function(json){updateCart(jQuery.parseJSON(json.replace(/'/g,'"')))})},1000)}});$(this).find('.productForm button[type="submit"]').on("click",function(ev){$(this).closest(".productForm").find('button[type="submit"]').removeAttr("data-clicked");$(this).attr("data-clicked",1)});$(this).find(".formCartAdd,.productForm").not(".noSlider").off("submit").on("submit",function(ev){if(viewportSize.getWidth()>500){$(this).submitToCartCont(ev)}});cartBonusActivator();$(this).find(".valErrors").each(function(){$(this).errorFiltering()});$(this).find(".pollForm").submit(function(ev){ev.preventDefault();if(ev.isPropagationStopped()){return}$(this).submitPoll()});$(".pollResultsLink > a").on("click",function(e){e.preventDefault();var link=$(this),url=link.attr("data-url"),form=link.closest(".blockPoll").find(".pollForm");$.get(url,function(retdata){var data=eval("("+retdata+")");form.showPollResults(data)})});$(this).find("select").not("#slider select").applySelectTransform();$(this).find(".showContent").click(function(ev){ev.preventDefault();var button=$(this);var target=button.attr("data-target");$("."+target).showContent();$('.showContent[data-target="'+target+'"]').hide();$('.hideContent[data-target="'+target+'"]').show()});$(this).find(".hideContent").click(function(ev){ev.preventDefault();var button=$(this);var target=button.attr("data-target");$("."+target).hideContent();$('.hideContent[data-target="'+target+'"]').hide();$('.showContent[data-target="'+target+'"]').show()});$(this).find('#shipping input[name="shipping"]').each(function(ev){var checkbox=$(this);var ext=$(".shipExt"+checkbox.attr("value"));if(ext.length>0){if(checkbox.is(":checked")){ext.find(".privacyPolicies > .policyEventCont input").prop("disabled",false);ext.showContent()}else{ext.find(".privacyPolicies > .policyEventCont input").prop("disabled",true);ext.hide()}}checkbox.on("change",function(ev){var currentCheckbox=$(this);$("#shipping .shippingExtension").not(ext).hideContent();if(ext.length>0){if(currentCheckbox.is(":checked")){ext.showContent();ext.find("select").each(function(){$(this).chosen("destroy");$(this).applySelectTransform();$(this).closest("#shipping").css("z-index",2)})}else{ext.hideContent()}}})});$(this).find('#payment input[name="payment"]').each(function(ev){var checkbox=$(this);var ext=$(".paymentExt"+checkbox.attr("value"));if(ext.length>0){if(checkbox.is(":checked")){ext.find(".privacyPolicies > .policyEventCont input").prop("disabled",false);ext.showContent()}else{ext.find(".privacyPolicies > .policyEventCont input").prop("disabled",true);ext.hide()}}checkbox.on("change",function(ev){var currentCheckbox=$(this);$("#payment .paymentExtension").not(ext).hideContent();if(ext.length>0){if(currentCheckbox.is(":checked")){ext.showContent();ext.find("select").each(function(){$(this).chosen("destroy");$(this).applySelectTransform();$(this).closest("#payment").css("z-index",2)})}else{ext.hideContent()}}})});$(this).find("#invoice-address, #invoice-address-v2").each(function(){if($(this).attr("data-vatid")){var vat_input=$(this).find('input[name="'+$(this).attr("data-vatid")+'"]');vat_input.keydown(function(e){if($.inArray(e.keyCode,[32,38,190,191])>-1){e.preventDefault()}});vat_input.on("change",function(){$(this).checkVatID()})}});$(this).find(".dateInput").dateInputInit();$(this).find(".floxTextAccordion").each(function(){var block=$(this),groupMatch=$.grep(this.className.split(" "),function(v,i){return v.indexOf("ftaGroup-")===0});block.addClass("hidden");block.on("click","h2, .ftaTitle",function(e){e.preventDefault();if(block.hasClass("hidden")&&groupMatch.length){groupMatch.forEach(function(group,i){$(".floxTextAccordion."+group).addClass("hidden").removeClass("active")})}block.toggleClass("active hidden")});if(block.hasClass("ftaOpen")){block.children("h2,.ftaTitle").first().trigger("click")}});$(document).on("mouseenter",".chosen-results .active-result.highlighted",function(){var option=$(this),drop=option.closest(".chosen-drop");drop.children("img").remove();if(option.attr("data-image")&&viewportSize.getWidth()>500){drop.append('<img src="'+option.attr("data-image")+'" class="selectImagePreview">')}});$(document).on("mouseleave",".chosen-drop",function(){var drop=$(this);drop.children("img").remove()});$(".privacyPolicies > .policyEventCont[data-policytype!='bar'][data-event='pageview']").not(".policyEventCont.solved").first().solvePageviewPrivacy();if(Cookies.get("cookieconsent")==="1"&&typeof(Storage)!=="undefined"){localStorage.setItem("barpageview-p4","1");Cookies.remove("cookieconsent")}$(".privacyPolicies > .policyEventCont[data-policytype='bar'] > .annoyerBar").each(function(){$(this).annoyerBar()});createdByStart();if($("#order-register").children(".privacyPolicies").length){if($("#order-register-change").is(":checked")){$("#order-register").showContent();$('#order-register input[type="checkbox"]').prop("disabled",false)}else{$("#order-register").hideContent();$('#order-register input[type="checkbox"]').prop("disabled",true)}}$("#order-register-change").on("change",function(){var checkbox=$(this),list=$("#order-register");if(list.children(".privacyPolicies").length){if(checkbox.is(":checked")){list.showContent();$('#order-register input[type="checkbox"]').prop("disabled",false)}else{list.hideContent();$('#order-register input[type="checkbox"]').prop("disabled",true)}}});if(Date.now()){var osid=generateId(20)+"-"+Math.floor(Date.now()/1000);$('#order-form input[name="order_submission_id"]').attr("value",osid);$("#order-form :input").not('input[name="order_submission_id"]').on("change",function(){var osid=generateId(20)+"-"+Math.floor(Date.now()/1000);$('#order-form input[name="order_submission_id"]').attr("value",osid)})}if(typeof(Storage)!=="undefined"){$("#order-form").not(".flox-order__form").loadFormData("order-form",function(){toggleDelivery();changeTotal();$('input:radio[name="iam"]:checked').toggleCompany()});$("#order-form").not(".flox-order__form").on("change",":input",function(){if($(this).attr("name")!=="order_submission_id"){$("#order-form").saveFormData()}});$(".blockCustomForm.longMemoryForm > form").each(function(){var form=$(this);form.loadFormData(1);form.find(":input").on("change",function(){form.saveFormData()})});if(getReturnShopping()!==null){$("#return-shopping").show().on("click",function(ev){ev.preventDefault();if(window.location.href===getReturnShopping()){var slider=$(this).closest(".sliderContent");slider.sliderClose()}else{window.location.href=getReturnShopping()}})}floxPopup()}$(".blockGooglemapsIframe").each(function(){var block=$(this),iframe=block.children("iframe"),initImage=block.children(".google-map-image");if(initImage.length){initImage.on("click","img",function(ev){ev.preventDefault();iframe.attr("src",iframe.attr("data-src"));initImage.remove()})}})};$.fn.initFloxOnDomReady=function(){$(this).find("button.print").click(function(a){window.print();a.preventDefault()});if(window.location.hash!==""){if(window.location.hash==="#gallery"||window.location.hash==="#discussion"||window.location.hash==="#additional"||window.location.hash==="#question"){productTab()}}$(window).on("hashchange",function(a){if(window.location.hash==="#gallery"||window.location.hash==="#discussion"||window.location.hash==="#additional"||window.location.hash==="#question"){a.preventDefault();productTab()}})};;
$.fn.reworkMenu=function(){var a=$(this),b=a.closest("header");a.each(function(){var i=$(this);i.reworkMenuBack();if(viewportSize.getWidth()<900||(viewportSize.getWidth()<1230&&$("header").first().hasClass("logo_menu_middle"))){if(!$(".menuButton+ul").hasClass("mobileMenuActive")){$(".menuButton+ul").addClass("mobileMenuActive");$(".menuButton+ul").hide()}return true}else{if($(".menuButton+ul").hasClass("mobileMenuActive")){$(".menuButton+ul").removeClass("mobileMenuActive")}}var d=0;var c=60;if(i.closest("#hg-menu,.custom-top-menu,.iCont").length===0){var f=b.width()}else{var f=i.closest("#hg-menu, .custom-top-menu, .iCont").width()}if(b.hasClass("logo_menu_middle")&&i.closest("#hg-menu, .custom-top-menu").length===0){f-=b.find("#logo").width()}var h=false;$(".menuButton+ul").show();i.find(".submenu").removeAttr("style");var g=i.children().first(),e=i.children().last();if(g.offset().top!==e.offset().top){i.children().each(function(){if(!h){if(d+$(this).outerWidth(true)+5+c>f){$(this).before('<li class="menuItem menuItemPlus"><a class="menuLink menuLinkPlus" href="#">&nbsp;<i class="fa fa-bars"></i></a></li>');h=true;i.children(".menuItemPlus").append('<ul class="submenu"/>');$(this).find(".fa").removeClass("fa-chevron-down").addClass("fa-chevron-right");i.children(".menuItemPlus").children(".submenu").append($(this))}d+=$(this).outerWidth(true)+7}else{$(this).find(".fa").removeClass("fa-chevron-down").addClass("fa-chevron-right");i.children(".menuItemPlus").children(".submenu").append($(this))}})}})};$.fn.reworkMenuBack=function(){var b=$(this);var a=b.children(".menuItemPlus, .navItemPlus");if(a){a.children(".submenu").first().children().each(function(){b.append($(this))});a.remove()}return true};$.fn.reworkNav=function(){var b=$(this),g=b.attr("data-menu-class"),d=b.attr("data-submenu-class");b.reworkMenuBack();if(viewportSize.getWidth()<700){return true}var c=0;var h=40;var i=b.width();var e=false;var f=b.children().first(),a=b.children().last();if(f.offset().top!==a.offset().top){b.children().each(function(){if(!e){if(c+$(this).outerWidth(true)+h>i){$(this).before('<li class="navItem navItemPlus"><a class="navLink navLinkPlus" href="#"><span><i class="fa fa-bars"></i></span></a></li>');e=true;b.children(".navItemPlus").append('<ul class="flox_navigation submenu '+d+' hoverleft"/>');b.children(".navItemPlus").children(".submenu").append($(this))}c+=$(this).outerWidth(true)}else{b.children(".navItemPlus").children(".submenu").append($(this))}})}};function gridHeaderFixMenu(){$(".header-grid").each(function(){var b=$(this);var a=b.find("#hg-menu,#hg-logo-menu").first().outerHeight();b.get(0).style.setProperty("--grid-menu-height",a+"px")})}$.fn.defaultTransformations=function(){$(this).initFlox();$("#product-user-rating").each(function(){var a=$(this);a.on("rated",function(b){a.rateProduct();a.rateit("readonly",true);$("#product-detail .commentForm .commentRating").hide()})});$('input[type="file"]').each(function(){var a=$(this).attr("data-browse-text");if(a){$(this).styleFileInput({buttonAttributes:{value:a,"class":"button"},textAttributes:{"class":"textInput"}})}});if($(this).find(".flox-lazy-load").length>0){$(this).each(function(){floxLazyLoad($(this).get(0).querySelectorAll(".flox-lazy-load"))})}$(this).find(".inputError").first().children(".textInput").first().focus().parent("label").addClass("labelFocused");$(this).find(".textInput,.textareaInput").each(function(){var a=$(this),b=a.closest("label");if(a.val()){b.addClass("labelFilled")}a.on("focus",function(){b.addClass("labelFocused")});a.on("blur",function(){b.removeClass("labelFocused")});a.on("keyup,click",function(){if(a.val()){b.addClass("labelFilled")}else{b.removeClass("labelFilled")}});a.on("keydown",function(d){var e=d.keyCode;if((47<e&&e<91)||(95<e&&e<112)||(185<e&&e<223)){if(a.val()){b.addClass("labelFilled")}else{b.removeClass("labelFilled")}}})});$(this).find(".recaptchaV3").each(function(){$(this).recaptchaV3FormSubmit()})};$.fn.getProducts=function(c){var a=$(this),l=a.find(".products"),h=l.children(".productListFGrid,.productListFList,.productListFTable").first(),i=a.getAnotationsFilter({});if(!h.attr("data-column-count")){if(parseInt(l.attr("data-column-count"))>0){h.attr("data-column-count",l.attr("data-column-count"))}else{h.attr("data-column-count",3)}}l.removeClass("invisible");var e=a.propertiesChanged(c,i,["view_count"]),k=i.pagination_page,f=i.view_count,d=c.view_count;if(e&&(d>f)){a.loadAnnotations($.extend({},c,{pagination_page:k+f,view_count:(d-f)}),true,function(m){if($.trim(m)!==""){h.append(m);a.updateProductsListItems(c);a.attr("data-more-items","1");a.find(".noMoreProducts").hide();a.find(".loadMoreProducts").show()}else{a.find(".noMoreProducts").show();a.find(".loadMoreProducts").hide()}})}else{a.loadAnnotations(c,false,function(n){h.children().remove();if(c.view_style!==i.view_style){var m;if(c.view_style==="grid"){m=$('<ul class="productListFGrid columns'+h.attr("data-column-count")+'" data-column-count="'+h.attr("data-column-count")+'"></ul>')}if(c.view_style==="list"){m=$('<ul class="productListFList"></ul>')}if(c.view_style==="table"){m=$('<table class="productListFTable"></table>')}m.insertAfter(h);h.remove();h=m}h.prepend(n);a.updateProductsListItems(c);if($.trim(n)===""){l.addClass("noProductMatchesFilterActive")}else{l.removeClass("noProductMatchesFilterActive")}});var b=a.find(".priceSliderCont").first();if(b.length>0&&b[0].noUiSlider){b[0].noUiSlider.set([c.price_from,c.price_to]);var g=a.find(".priceFilterFrom > input"),j=a.find(".priceFilterTo > input");if(c.price_from!==g.val()){g.val(c.price_from)}if(c.price_to!==j.val()){j.val(c.price_to)}}}a.setAnotationsFilter(c)};$.fn.updateProductsListItems=function(b){var a=$(this),d=a.find(".products"),c=d.find(".productListFGrid,.productListFList,.productListFTable").first();if(d.attr("data-productlist-empty-filter-text")){c.attr("data-productlist-empty-filter-text",d.attr("data-productlist-empty-filter-text"))}if(d.attr("data-productlist-empty-text")){c.attr("data-productlist-empty-text",d.attr("data-productlist-empty-text"))}if(a.attr("data-category-id")&&a.attr("data-playlist-"+a.attr("data-category-id"))){c.updatePlaylistLink(a.attr("data-playlist-"+a.attr("data-category-id")))}if(b.view_style==="grid"){c.children("li").removeClass("first");c.children("li:nth-child("+c.attr("data-column-count")+"n+1)").addClass("first");$(c).waitForImages(function(){c.equalHeight(".productListFGridItem",0)});c.customGridProductListUpdate()}else{if(b.view_style==="list"){c.customListProductListUpdate()}else{if(b.view_style==="table"){c.find("tr:odd").addClass("transparent");c.find("tr:even").addClass("colored");c.customTableProductListUpdate()}}}c.find(".formCartAdd").off("submit").on("submit",function(e){$(this).submitToCartCont(e)});if(c.find(".rateit").length>0){c.find(".rateit").rateit()}if(c.find(".flox-lazy-load").length>0){c.each(function(){floxLazyLoad($(this).get(0).querySelectorAll(".flox-lazy-load"))})}c.customProductListUpdate()};;
var floxWidth=$(window).width(),floxHeight=$(window).height();function formatOnResize(){$(".menuCont").css("visibility","hidden");if($("#main-menu .dropdownFlat, #hg-products-menu .dropdownFlat").length){$("#main-menu .dropdownFlat, #hg-products-menu .dropdownFlat").reworkMenu()}$(".menuCont").css("visibility","visible");$(".blockNavHor.forcedOneLine > .blockNavList").each(function(){$(this).reworkNav()});if(viewportSize.getWidth()<900||(viewportSize.getWidth()<1230&&$("header").first().hasClass("logo_menu_middle"))){$(".menuButton+ul").hide()}$(".productListFGrid").each(function(){$(this).waitForImages(function(){$(this).equalHeight(".productListFGridItem",1)})});$(".directoryList").each(function(){$(this).waitForImages(function(){$(this).equalHeight(".directoryListItem > figure",1,"directoryListImageLink")})});gridHeaderFixMenu()}function floxLazyLoad(a){var d=document.documentElement.clientHeight;var b=Math.ceil(1*d);var c=Math.ceil(1*d);new lazyload(a,{rootMargin:b+"px 0px "+c+"px"})}function asyncPluginLoader(){if($(".productGalleryLink,.galleryGalleryLink,.faqGalleryLink,.textGalleryLink,.customGalleryLink").length>0){$.getScripts({urls:["/erp-templates/skins/flat/universal/js/plugins/magnific/magnific.min.js"],cache:true,async:true,success:function(a){var b={elementParse:function(c){if(c.el.hasClass("ytb")){c.type="iframe"}else{c.type="image"}}};$(".productGalleryLink").magnificPopup({type:"image",gallery:{enabled:true},callbacks:b});$(".galleryGalleryLink").each(function(){var c=$(this);c.closest(".blockGallery").find(".galleryGalleryLink").magnificPopup({type:"image",gallery:{enabled:true},callbacks:b})});$(".faqGalleryLink,.textGalleryLink").magnificPopup({type:"image"});$(".customGalleryLink").magnificPopup({type:"image",gallery:{enabled:true},callbacks:b});if(document.location.hash&&document.location.hash.substr(0,4)==="#gi-"){$(document.location.hash).click()}}})}if($(".ui-tabs").length>0){$.getScripts({urls:["/erp-templates/skins/default/universal/js/tabs/tabs.js"],cache:true,async:true,success:function(a){$(".ui-tabs").tabs()}})}if($(".blockGooglemaps").length>0){$.getScripts({urls:["/erp-templates/skins/default/universal/js/googlemaps.js"],cache:true,async:true,success:function(b){var d=document.createElement("script");d.type="text/javascript";d.defer=true;d.src="//developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js";document.body.appendChild(d);var c={rootMargin:"400px",threshold:0};var e=$(".blockGooglemaps").first();var a=new IntersectionObserver(function(f,i){var g=typeof f[0].isIntersecting==="boolean"?f[0].isIntersecting:f[0].intersectionRatio>0;if(g){var j=e.attr("data-api-key");var h=document.createElement("script");h.type="text/javascript";h.defer=true;h.src="//maps.googleapis.com/maps/api/js?key="+window.atob(j)+"&callback=initializeall";document.body.appendChild(h);i.unobserve(e[0])}},c);a.observe(e[0])}})}if($(".customShipFlt").length>0){$.getScripts({urls:["/erp-templates/skins/flat/universal/js/template-doubles/ext_shipping_combo_popup.js"],cache:true,async:true,success:function(a){$(".customShipFlt").customSearchShipping();$("#shipping .radioLabel>input").on("change",function(f){var b=$(this);var d=$(".shipExt"+b.attr("value"));if(d.length>0&&b.is(":checked")&&!d.find(".customShipSelectedVal:checked").length){var c=d.find(".customShipSelectWindow");if(c.length&&!c.hasClass("open")){c.addClass("open")}if($('#order-form input[name="zip"]').val().length&&!d.find(".customShipBranchFilterInput").val().length){d.find(".customShipBranchFilterInput").val($('#order-form input[name="zip"]').val()).trigger("keyup")}}})}})}}(function(a){a(window.jQuery,window,document)}(function($,window,document){$(function(){$(".switchCFL").click(function(ev){ev.preventDefault();var link=$(this);var newForm=$("<form>",{action:link.attr("href"),method:"post"}).append($("<input>",{name:"custom_frontend_language",value:link.attr("data-cfl"),type:"hidden"}));newForm.appendTo("body");newForm.submit()});$("body").initFloxOnDomReady();$(".productListBanner").each(function(){$(this).waitForImages(function(){$(this).equalHeight(".productListBannerItem",1);$(this).activateSlider()})});$(".newsletter form").on("submit",function(e){var form=$(this),modal=form.find(".newsletterCaptchaModal");if(modal.length){var button=modal.find(".button"),input=modal.find('input[name="is"]');if(!input.val()){e.preventDefault();button.removeClass("invisible").on("click",function(){form.off("submit");form.submit()});modal.activateFloxCSSModal()}else{form.off("submit");form.submit()}}});var price_ranges=$(".priceSliderCont");if(price_ranges.length>0){$.getScripts({urls:["/erp-templates/skins/default/universal/js/nouislider/nouislider.min.js"],cache:true,async:true,success:function(response){price_ranges.each(function(i){var opts={};var p_range=$(this);opts.element=p_range;opts.min=parseFloat(p_range.attr("data-min"));opts.max=parseFloat(p_range.attr("data-max"));opts.pfrom=parseFloat(p_range.attr("data-pfrom"));opts.pto=parseFloat(p_range.attr("data-pto"));opts.round_count=Math.pow(10,p_range.attr("data-curr-round"));opts.formatter=wNumb({decimals:p_range.attr("data-curr-round"),mark:p_range.attr("data-curr-decimal"),thousand:p_range.attr("data-curr-1k-sepp"),prefix:(p_range.attr("data-curr-position")!=="after")?p_range.attr("data-curr-symbol"):"",suffix:(p_range.attr("data-curr-position")==="after")?" "+p_range.attr("data-curr-symbol"):""});floxPriceSlider(opts)})}})}if($(".contentSlider").length>0){$.getScripts({urls:["/erp-templates/skins/default/universal/js/sequence/sequence-min.js"],cache:true,async:true,success:function(response){$(".contentSlider").each(function(){var opts={};opts.element=$(this);floxContentSlider(opts)})}})}});$("body").defaultTransformations();asyncPluginLoader();formatOnResize();$(".shipFlt").searchShipping();$(".tableMyOrders").find("tr").not(".orderRow").on("mouseenter",function(){var row=$(this);row.prev(".orderRow").addClass("hover")}).on("mouseleave",function(){var row=$(this);row.prev(".orderRow").removeClass("hover")});$(".productListFGrid").each(function(){var imgCont=$(this);imgCont.imagesLoaded().always(function(instance){imgCont.equalHeight(".productListFGridItem",1)})});$(".directoryList").each(function(){var imgCont=$(this);imgCont.imagesLoaded().always(function(instance){imgCont.equalHeight(".directoryListItem > figure",1,"directoryListImageLink")})});var autocompleteOptions={deferRequestBy:200,maxHeight:400,serviceUrl:(($("html").attr("data-lang")!==undefined)?$("html").attr("data-lang"):"")+"/e/search/help",paramName:"word",groupBy:"type",triggerSelectOnValidInput:false,formatGroup:function(suggestion,currentValue){var ret=currentValue;var input=$(".siteSearchInput").first();if(input.attr("data-"+currentValue)){ret=input.attr("data-"+currentValue)}if(suggestion.data.type==="pages"){ret='<i class="fa fa-file-text-o"></i> '+ret}if(suggestion.data.type==="products"){ret='<i class="fa fa-shopping-basket"></i> '+ret}if(suggestion.data.type==="categories"){ret='<i class="fa fa-th"></i> '+ret}if(suggestion.data.type==="news"){ret='<i class="fa fa-newspaper-o"></i> '+ret}return'<div class="autocomplete-group">'+ret+"</div>"},formatResult:function(suggestion,currentValue){var pattern="(\\s)("+currentValue.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+")";var ret=suggestion.value.replace(new RegExp(pattern,"gi"),"$1<strong>$2</strong>");var pattern2="^("+currentValue.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+")";ret=ret.replace(new RegExp(pattern2,"gi"),"<strong>$1</strong>");ret='<span class="ac-text">'+ret+"</span>";if(suggestion.data.image){if(suggestion.data.image.substring(0,6)==="https:"){ret='<img class="ac-img" src="/resize/eqrs/40/40/'+suggestion.data.image.substring(8)+'" alt="product image">'+ret}else{if(suggestion.data.image.substring(0,5)==="http:"){ret='<img class="ac-img" src="/resize/eqr/40/40/'+suggestion.data.image.substring(7)+'" alt="product image">'+ret}else{ret='<img class="ac-img" src="/resize/eq/40/40/'+suggestion.data.image+'" alt="product image">'+ret}}}if(suggestion.data.link){ret='<span class="ac-link">'+ret+"</span>"}else{ret="<span>"+ret+"</span>"}return ret},onSelect:function(suggestion){var val=$(this).val();val=val.replace(/&#039;/g,"'").replace(/&#39;/g,"'").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"');$(this).val(val);if(suggestion.data.link){window.location.href=suggestion.data.link}else{$(this).closest("form").submit()}}};FloxSettings.autocompleteOptions=autocompleteOptions;$("#full-search").autocomplete(autocompleteOptions);$("#small-search").autocomplete($.extend({width:300,maxHeight:450},autocompleteOptions));$(".hover-button__button").not(".hover-button--no-content > .hover-button__button").on("click",function(ev){if(viewportSize.getWidth()<999.9){ev.preventDefault();$(this).toggleClass("hover-button__button--mobile-active")}});$(".hover-button__overlay").on("click",function(ev){if(viewportSize.getWidth()<999.9){$(this).siblings(".hover-button__button").removeClass("hover-button__button--mobile-active");if($(this).closest(".hover-button").find("#small-search").length){$("#small-search").blur()}}});$("#product-detail .productVariants").each(function(){$("#product-detail").productDetailVariants()});if($("#product-detail .productCombinations > .productCombList > .productComb").length>0){$("#product-detail").productDetailCombinations()}if($("#product-detail .productVariants").length>0||$("#product-detail .productCombinations").length>0){History.Adapter.bind(window,"statechange",function(){var State=History.getState();if(!("id" in State.data)){$("#product-detail").setDetailVariants(State.data)}})}if($("#diff-delivery-address").length>0){$("#diff-delivery-address").checkOrderCountry()}if($('#shipping input[name="shipping"]:checked').length>0){$("#shipping").refreshShipPaym()}if($('#payment input[name="payment"]:checked').length>0){$("#payment").refreshShipPaym()}if(!$("#diff-delivery-address").is(":checked")){$("#delivery-addresses input,#delivery-addresses select").attr("disabled","disabled")}$('input[name="view_order_desc"]').on("change",function(){var check=$(this),arrow=check.siblings(".controlButtonText").find(".fa");if(check.is(":checked")){arrow.removeClass("fa-caret-up").addClass("fa-caret-down")}else{arrow.removeClass("fa-caret-down").addClass("fa-caret-up")}});$(".floxTabsItem").click(function(e){e.preventDefault();var tab_id=$(this).find("a").attr("href");$(".floxTabsItem").removeClass("active");$(".floxTabsContent").removeClass("active");$(this).addClass("active");$(tab_id).addClass("active");$(tab_id).find(".productListFGrid").show().each(function(){$(this).waitForImages(function(){$(this).equalHeight(".productListFGridItem",1)})})});if(/^(#comment-[0-9]+)$/.test(location.hash)){$("#product-detail .floxTabsItem,#product-detail .floxTabsContent").removeClass("active");$('a[href="#discussion"]').parent(".floxTabsItem").addClass("active");$("#discussion").addClass("active");$.scrollTo($(location.hash),500)}$(".menuButton").click(function(ev){var button=$(this);if(button.next("ul").is(":visible")){button.next("ul").hide()}else{$("#main-menu").find(".menuButton+ul").hide();button.next("ul").show()}});$("#tempwarn .closeButton").on("click",function(ev){$("#tempwarn").remove()});$("#main-menu-side .menuLink > .fa,#sideMenu .menuLink > .fa").click(function(ev){if($(this).closest(".rollable").length>0||viewportSize.getWidth()<1230){$(this).closest(".menuItem").children(".submenu").toggle();if($(this).closest(".rollable").length>0){$(this).toggleClass("fa-chevron-down");$(this).toggleClass("fa-chevron-right")}ev.preventDefault();ev.stopPropagation()}});$(".menuLink > .fa").not("#main-menu-side .menuLink > .fa,#sideMenu .menuLink > .fa").click(function(ev){if(viewportSize.getWidth()<900||(viewportSize.getWidth()<1230&&$("header").first().hasClass("logo_menu_middle"))){$(this).closest(".menuItem").children(".submenu").toggle()}ev.preventDefault();ev.stopPropagation()});$("#sideMenu .rollable").find(".ancestor > .select > .fa").not(".navIcon").trigger("click");$(".clickdown .navSubAct").click(function(ev){ev.preventDefault();ev.stopPropagation();$(this).closest(".navItem").toggleClass("subOpened")});$(".hoverdown, .hoverside").on("click",".navSubAct, .navLinkPlus",function(ev){if(viewportSize.getWidth()<=699){ev.preventDefault();ev.stopPropagation();$(this).closest(".navItem").toggleClass("subOpened")}});$(".showGroupSubmenuLinks").click(function(ev){ev.preventDefault();var link=$(this),item=link.closest("li"),links=link.closest(".submenu");links.children(".groupMenu2").show().removeClass("jsinvisible").removeClass("lastGSItem");item.remove();links.children(".groupMenu2").last().addClass("lastGSItem")});$(this).find(".pollForm").submit(function(ev){ev.preventDefault();if(ev.isPropagationStopped()){return}$(this).submitPoll()});$(".pollResultsLink > a").on("click",function(e){e.preventDefault();var link=$(this),url=link.attr("data-url"),form=link.closest(".blockPoll").find(".pollForm");$.get(url,function(retdata){var data=eval("("+retdata+")");form.showPollResults(data)})});if($(".productList").length>0){$(".productList").anotationsProducts()}var menu=$("#menu-cont,#hg-menu,#hg-logo-menu");menu.each(function(){var menu=$(this);if(menu.length>0&&typeof menu.attr("data-fixed-enabled")!=="undefined"&&menu.attr("data-fixed-enabled")==="1"){var menu_position=menu.offset().top,scroll_timeout=null;if(typeof menu.attr("data-starting-pos")==="undefined"){menu.attr("data-starting-pos",menu_position)}$(window).scroll(function(){var scroll_timeout=null;if(!scroll_timeout){scroll_timeout=setTimeout(function(){clearTimeout(scroll_timeout);scroll_timeout=null;if($(window).scrollTop()<parseInt(menu.attr("data-starting-pos"))+70){if(menu.is("#menu-cont")){$(".menu-cont-placeholder").remove()}else{menu.closest(".header-grid").removeClass("header_grid--fixed-menu")}menu.removeClass("oCont fixed activating active");gridHeaderFixMenu()}if(!menu.hasClass("fixed")&&$(window).scrollTop()>=parseInt(menu.attr("data-starting-pos"))+70){if(menu.is("#menu-cont")){menu.after('<div class="menu-cont-placeholder"></div>')}else{menu.closest(".header-grid").addClass("header_grid--fixed-menu")}menu.addClass("oCont fixed activating");setTimeout(function(){menu.addClass("active")},50)}},250)}})}});var ua=navigator.userAgent;if(!ua.match(/Android/i)||!(parseFloat(ua.slice(ua.indexOf("Android")+8))<5)){if($("#top-panel-chevron").hasClass("fa-chevron-circle-up")){$("#header-items").addClass("visible")}else{$("#header-items").removeClass("visible")}$("#top-panel-chevron").on("click",function(){$(this).toggleClass("fa-chevron-circle-up").toggleClass("fa-chevron-circle-down");if($(this).hasClass("fa-chevron-circle-up")){$("#header-items").addClass("visible")}else{$("#header-items").removeClass("visible")}})}else{$("#header-items").addClass("visible");$("#top-panel-chevron").hide()}if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)){var viewportmeta=$('meta[name="viewport"]');if(viewportmeta){viewportmeta.attr("content","width=device-width, minimum-scale=1.0, maximum-scale=1.0")}}activateSlickSliders();$(".inputVariant textarea").on("keyup blur",function(){var textInput=$(this);clearTimeout(window.inputTextTO);window.inputTextTO=setTimeout(function(){var maxlCounter=textInput.parent().find(".inputVariantLengthCounter"),maxlength=parseInt(textInput.attr("maxlength"));maxlCounter.text(maxlength-textInput.val().length);if(textInput.val().length>maxlength){textInput.val(textInput.val().substr(0,maxlength));maxlCounter.text("0")}},200)})}));$(window).resize(function(){if(window.resizeId){clearTimeout(window.resizeId)}window.resizeId=setTimeout(resizeMain,200)});function resizeMain(){if($(window).width()!==floxWidth||$(window).height()!==floxHeight){floxWidth=$(window).width();floxHeight=$(window).height();formatOnResize();if(viewportSize.getWidth()>1000){$("#sideMenu .submenu").removeAttr("style")}}};